!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="_/static/runtime/dist/",n(n.s=361)}([function(e,t,n){"use strict";var r=n(58),i=n(170),o=n(53),a=n(30),l=n(128),s="Array Iterator",c=a.set,p=a.getterFor(s);e.exports=l(Array,"Array",(function(e,t){c(this,{type:s,target:r(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(63),n(0),n(17),n(73),n(49),n(19),n(54),n(9),n(3),n(61),n(38),n(20),n(37),n(33),n(65),n(66),n(2),n(102);var{Args:s,Kws:c,Suspension:p,pyCall:u,pyCallOrSuspend:d,pyCallable:f,pyDict:v,pyList:m,pyObject:h,pyStaticMethod:_,pyStr:g,pyTuple:y,pyTypeError:b,remapToJsOrWrap:k,toJs:S,toPy:w}=n(4),{notifyVisibilityChange:C}=n(26),{getMarginStyles:O,getPaddingStyles:P,getUnsetMargin:x,getUnsetPadding:T,getUnsetSpacing:E,getUnsetValue:j,setElementMargin:A,setElementPadding:M,setElementSpacing:N,styleObjectToString:L}=n(43),{getCssPrefix:I,hasLegacyDict:D}=n(10),{funcFastCall:F,getImportedModule:V,kwsToObj:R,pyTryFinally:U,s_raise_event:B,jsObjToKws:G}=n(6),{defer:H}=n(27),J={loadModule:function(e,t){var n=new Sk.builtin.module;Sk.sysmodules.mp$ass_subscript(new Sk.builtin.str(e),n),n.$js="/* source code not available */",n.$d=t;var r=/^(.*)\.([^.]+)$/.exec(e);r&&(J.getModule(r[1]).$d[r[2]]=n)}};J.getModule=V,J.staticmethod=e=>new _(e),J.keywordArrayToHashMap=R,J.withKwargs=function(e){var t=function(t,n){for(var r={},i=0;i<t.length-1;i+=2)r[t[i].v]=Sk.ffi.remapToJs(t[i+1]);return e.apply(this,[r].concat(Array.prototype.slice.call(arguments,1)))};return t.co_kwargs=!0,t},J.funcWithKwargs=function(e){return new Sk.builtin.func(J.withKwargs(e))},J.withRawKwargs=function(e){return e.co_kwargs=!0,e},J.funcWithRawKwargsDict=function(e){var t=function(t,n){var r=J.keywordArrayToHashMap(t);return e.apply(this,[r].concat(Array.prototype.slice.call(arguments,1)))};return t.co_kwargs=!0,new Sk.builtin.func(t)},J.funcFastCall=F,J.pyCall=u,J.pyCallOrSuspend=d;var z=function(e){var t="";for(var n in e)t+="["+JSON.stringify(e[n])+"]";return t},W=function e(t,n,r,i){if(i){var o=i(t,n);if(void 0!==o)return o}if(t instanceof Sk.builtin.dict){for(var a={},l=t.tp$iter(),s=l.tp$iternext();void 0!==s;s=l.tp$iternext()){if(!(s instanceof Sk.builtin.str))throw new Sk.builtin.TypeError("Cannot use '"+s.tp$name+"' objects as the key in a dict when sending to a server-side module; only string keys are allowed (arguments"+z(n)+")");var c=Sk.ffi.toJs(s);n.push(c),a[c]=e(t.mp$subscript(s),n,r,i),n.pop()}return a}if(t instanceof Sk.builtin.list||t instanceof Sk.builtin.tuple){for(var p=[],u=0;u<t.v.length;u++)n.push(u),p.push(e(t.v[u],n,r,i)),n.pop();return p}if(t instanceof Sk.builtin.bool)return!!t.v;if(t instanceof Sk.builtin.str)return t.v;if(t instanceof Sk.builtin.int_||t instanceof Sk.builtin.float_)return Sk.builtin.asnum$(t);if(t instanceof Sk.builtin.none)return null;if("string"==typeof t)return t;if("object"==typeof t&&Object.getPrototypeOf(t)===Object.prototype){var d={};for(var f in t)n.push(f),d[f]=e(t[f],n,r,i),n.pop();return d}if(t instanceof Array){for(var v=[],m=0;m<t.length;m++)n.push(m),v.push(e(t[m],n,r,i)),n.pop();return v}var h=r(t,n);if(void 0===h)throw new Sk.builtin.Exception("Cannot accept '"+(t&&t.tp$name?t.tp$name:typeof t)+"' object here (x"+z(n)+")");return h};J.remapToJs=function(e,t,n){return W(e,[],t,n)};var q=(e,t)=>{var n;if(e){null!==(n=t)&&void 0!==n||(t={});var r=a({},t);return e.forEach((e=>{r[e.name]=e})),r}};J.mkComponentCls=function(e,t,n){var r,i,o,a,l,s,{base:c,properties:p,events:u,layouts:d,element:f,locals:v,kwargs:h,slots:_=!0}=n;return null!==(r=h)&&void 0!==r||(h=[]),h.push("_anvil_classic",{properties:p,events:u,element:f,layouts:d}),null!==(i=c)&&void 0!==i||(c=e.ClassicComponent),s=Array.isArray(c)?c:[c],null!==(o=u)&&void 0!==o||(u=[]),null!==(a=p)&&void 0!==a||(p=[]),null!==(l=v)&&void 0!==l||(v=()=>{}),Sk.misceval.buildClass(e,((t,n)=>{_&&!D()&&(n.__slots__=new m),v(n),J.mkGettersSetters(n,p,e)}),t,s,void 0,h)},J.mkNew=(e,t)=>{var n=Sk.abstr.typeLookup(e,Sk.builtin.str.$new);return J.funcFastCall((function(e,r){var i=J.pyCallOrSuspend(n,e,r);return Sk.misceval.chain(i,(e=>(i=e,t?t(i):null)),(()=>i))}))},J.mkGettersSetters=function(e,t,n){(t||[]).forEach((t=>{e[t.name]=J.pyCall(n.ComponentProperty,[t.name])}))},J.initClassicComponentClassPrototype=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{properties:n=[],events:r,element:i,layouts:o}=t,l=e.prototype,s=l._anvilClassic$propDefaults||{},c=l._anvilClassic$propMap||{},p=l._anvilClassic$propTypes||[],u=l._anvilClassic$eventTypes||{},d=l._anvilClassic$layoutProps||[],f=l._anvilClassic$dataBindingProps,v={};Object.entries(c).forEach((e=>{var[t,n]=e;v[t]=a({},n)}));var m=[...p];n.forEach((e=>{var{name:t,type:n,description:r,group:i,dataBindingProp:o}=e;v[t]=a({},e);var l={name:t,type:n,description:r,group:i};["options","nullable","multiline","important","priority","hidden","deprecated","deprecateFromRuntimeVersion","pyVal","hideFromDesigner","allowBindingWriteback","showInDesignerWhen","inlineEditElement","designerHint","iconsets","allowCustomValue","accept"].forEach((t=>{e[t]&&(l[t]=e[t])}));var s=m.findIndex((e=>e.name===t));-1===s?m.push(l):m[s]=l,o&&(f=t)}));var h,_=Object.keys(v).filter((e=>v[e].initialize)),g=q(r,u);o&&(h=[...d]).push(...o);var y=Object.assign({},s,Object.fromEntries(n.filter((e=>!e.readOnly)).map((e=>[e.name,e.defaultValue]))));Object.defineProperties(l,{_anvilClassic$propDefaults:{value:y,writable:!0},_anvilClassic$propMap:{value:v,writable:!0},_anvilClassic$propTypes:{value:m,writable:!0},_anvilClassic$propsToInitialize:{value:_,writable:!0}}),g&&Object.defineProperty(l,"_anvilClassic$eventTypes",{value:g,writable:!0}),i&&Object.defineProperty(l,"_anvilClassic$createElement",{value:e=>J.h(i,e),writable:!0}),o&&Object.defineProperty(l,"_anvilClassic$layoutProps",{value:h,writable:!0}),f&&Object.defineProperty(l,"_anvilClassic$dataBindingProps",{value:f,writable:!0})};J.h=J.createElement=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if("function"==typeof e)return e(t,...r);var a=t||{},{refName:l,children:s,style:c,className:p,innerHTML:u}=a,d=i(a,["refName","children","style","className","innerHTML"]),f=document.createElement(e),v={[l]:f};return r=s||r,c&&(f.style.cssText=c),p&&(f.className=p),u&&(f.innerHTML=u),Object.keys(d).forEach((e=>{var t=d[e];"value"===e?f.value=t:f.setAttribute(e,null==t?t:t.toString())})),r.forEach((e=>{if("string"==typeof e||"number"==typeof e)f.appendChild(document.createTextNode(e));else if(!0!==e&&e){var[t,n]=e;f.appendChild(t),Object.assign(v,n)}else;})),[f,v]},J.defer=H,J.suspensionFromPromise=function(e){var t=new Sk.misceval.Suspension;return t.resume=function(){if(t.data.error)throw t.data.error;return t.data.result},t.data={type:"Sk.promise",promise:e},t},J.suspensionPromise=function(e){var t=new Promise(e);return J.suspensionFromPromise(t)},J.suspensionHandlers={timer:function(e){return new Promise((function(t,n){setTimeout((function(){t(e.resume())}),1e3*e.data.delay)}))}},J.callAsyncWithoutDefaultError=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(J.suspensionHandlers),Sk.misceval.callAsync.apply(null,e)},J.callAsync=function(e,t,n,r){for(var i=arguments.length,o=new Array(i>4?i-4:0),a=4;a<i;a++)o[a-4]=arguments[a];return Sk.misceval.callAsync(J.suspensionHandlers,e,t,n,r,...o).catch((e=>{throw e}))},J.asyncToPromise=e=>Sk.misceval.asyncToPromise((()=>{return(t=e())instanceof Sk.misceval.Suspension&&t.optional&&"Sk.debug"!==t.data.type&&(t=t.resume()),t;var t}),J.suspensionHandlers).catch((e=>{throw e})),J.raiseEventOrSuspend=function(e,t,n){return d(t.tp$getattr(B),[new g(n)],G(e))},J.raiseEventAsync=function(e,t,n){return J.asyncToPromise((()=>J.raiseEventOrSuspend(e,t,n)))},J.whileOrSuspend=function(e,t,n){function r(t){return t instanceof Sk.misceval.Suspension?new Sk.misceval.Suspension(r,t):t===Sk.misceval.Break||t instanceof Sk.misceval.Break?t.brValue:i(e())}function i(o){for(;;){if(o instanceof Sk.misceval.Suspension)return new Sk.misceval.Suspension(i,o);if(!o)return n?n():void 0;var a=t();if(a instanceof Sk.misceval.Suspension)return new Sk.misceval.Suspension(r,a);if(a===Sk.misceval.Break||a instanceof Sk.misceval.Break)return a.brValue;o=e()}}return i(e())},J.mapSetter=function(e,t){return function(n,r,i){var o={};o[e]=t?t(i):i,n._jsVal.setOptions(o)}},J.mapGetter=function(e,t){return function(n,r){var i=n._jsVal[e];if(i){var o=i.call(n._jsVal);return t?t(o):o}}},J.setAttrsFromDict=function(e,t){var n=t.tp$getattr(new Sk.builtin.str("items"));return Sk.misceval.iterFor(Sk.abstr.iter(Sk.misceval.call(n)),(t=>e.tp$setattr(t.v[0],t.v[1],!0)))},J.mkNewDeserializedPreservingIdentityInner=(e,t)=>(n,r,i)=>{var o,a=new Sk.builtin.str(n.anvil$serializableName);try{o=i.mp$subscript(a)}catch(e){o={},i.mp$ass_subscript(a,o)}var l=r.v[0].v,s=o[l];return s||(s=o[l]=t?t(n):Sk.misceval.callsim(n)),r.v.length<=1?s:e?Sk.misceval.chain(e(s,r.v[1],i),(()=>s)):Sk.misceval.chain(J.setAttrsFromDict(s,r.v[1]),(()=>s))},J.mkNewDeserializedPreservingIdentity=function(e,t){return new Sk.builtin.classmethod(new Sk.builtin.func(J.mkNewDeserializedPreservingIdentityInner(e,t)))},J.mkSerializePreservingIdentityInner=e=>(t,n)=>{var r,i=t._anvil.$lastSerialKey;if(i&&i.pyGlobals===n)return new Sk.builtin.list([i.pyId]);var o,a=t.constructor.anvil$serializableName,l=new Sk.builtin.str(a+"_max");try{o=n.mp$subscript(l)}catch(e){o=new Sk.builtin.int_(0)}n.mp$ass_subscript(l,new Sk.builtin.int_(o.v+1)),t._anvil.$lastSerialKey={pyId:o,pyGlobals:n};var s=e?e(t):null!==(r=Sk.abstr.lookupSpecial(t,Sk.builtin.str.$dict))&&void 0!==r?r:new v;return Sk.misceval.chain(s,(e=>new Sk.builtin.list([o,e])))},J.mkSerializePreservingIdentity=function(e){return new Sk.builtin.func(J.mkSerializePreservingIdentityInner(e))};var{isTrue:K}=Sk.misceval;J.getOuterClass=function(e){var{align:t,icon:n,icon_align:r,role:i,spacing_above:o,spacing_below:a,text:l,visible:s}=e,c=I(),p=[],u=["none","small","medium","large"];if(K(t)&&["center","right","left"].includes(t.toString())&&p.push("align-"+t.toString()),K(o)&&u.includes(o.toString())&&p.push("anvil-spacing-above-"+o.toString()),K(a)&&u.includes(a.toString())&&p.push("anvil-spacing-below-"+a.toString()),K(n)&&p.push("anvil-component-icon-present"),K(r)&&p.push(r+"-icon"),void 0===s||K(s)||p.push(c+"visible-false"),K(i))for(var d of J.applyRole(i))p.push("anvil-role-"+d);return K(l)&&p.push(c+"has-text"),p.join(" ")};var Y=/[a-zA-Z%]/g;J.cssLength=e=>"default"!==e&&e?(""+e).match(Y)?e:e+"px":"";var Z=/[^A-Za-z0-9_-]/g;J.applyRole=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[];if(null===(e=Sk.ffi.toJs(e)));else if(Array.isArray(e))for(var r of e){if("string"!=typeof r)throw new Sk.builtin.TypeError("role must be None, a string, or a list of strings");n.push(r.replace(Z,""))}else{if("string"!=typeof e)throw new Sk.builtin.TypeError("role must be None, a string, or a list of strings");n.push(e.replace(Z,""))}if(null!==t){var i=null!==t.getAttribute("anvil-role"),o=0!==n.length;o&&!i?(t.setAttribute("anvil-role",n.join(" ")),t.className=t.className+" anvil-role-"+n.join(" anvil-role-")):o?(t.setAttribute("anvil-role",n.join(" ")),t.className=Array.prototype.filter.call(t.classList,(e=>!e.startsWith("anvil-role-"))).join(" ")+" anvil-role-"+n.join(" anvil-role-")):i&&(t.removeAttribute("anvil-role"),t.className=Array.prototype.filter.call(t.classList,(e=>!e.startsWith("anvil-role-"))).join(" "))}return n},J.getColor=e=>{var t=(e=Sk.builtin.checkNone(e)?"":e.toString()).match(/^theme:(.*)$/);if(t){var n=window.anvilThemeVars[t[1]];return n?"var(".concat(n,")"):""}return e},J.loadScript=(e,t)=>{var n=document.createElement("script");n.src=e;var r=new Promise(((e,r)=>{n.onload=()=>{e(null),null==t||t()},n.onerror=r}));return document.body.appendChild(n),r},J.getPaddingStyle=function(e){var{padding:t,spacing:n}=e,r={};if(K(t))Object.assign(r,P(S(t)));else if(K(n)){var i=S(n).padding;i&&Object.assign(r,P(i))}return L(r)},J.getOuterStyle=function(e){var{align:t,font_size:n,font:r,bold:i,italic:o,underline:a,background:l,foreground:s,border:c,border_radius:p,height:u,width:d,spacing:f,margin:v,padding:m}=e,h=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],_={};if(K(t)&&(_["text-align"]=t.toString()),"number"==typeof(n=Sk.ffi.remapToJs(n))&&(_["font-size"]=n+"px"),K(r)&&(_["font-family"]=r.toString()),K(i)&&(_["font-weight"]="bold"),K(o)&&(_["font-style"]="italic"),K(a)&&(_["text-decoration"]="underline"),K(l)&&(_["background-color"]=J.getColor(l)),K(s)&&(_.color=J.getColor(s)),K(c)&&(_.border=c.toString()),K(p)&&(_["border-radius"]=J.cssLength(p.toString())),K(u)&&(_.height=J.cssLength(u.toString())),K(d)&&(_.width=J.cssLength(d.toString())),K(f)){var g=S(f);g.margin&&Object.assign(_,O(g.margin)),h&&g.padding&&Object.assign(_,P(g.padding))}else K(v)&&Object.assign(_,O(S(v))),h&&K(m)&&Object.assign(_,P(S(m)));return L(_)},J.getOuterAttrs=function(e){var{tooltip:t,source:n,role:r,enabled:i}=e,o={};if(K(t)&&(o.title=t.toString()),K(n)&&(o.src=n.toString()),K(r)){var a=J.applyRole(r);o["anvil-role"]=a.join(" ")}return void 0===i||K(i)||(o.disabled=""),o},J.IconComponent=e=>{var{side:t,icon:n,icon_align:r}=e;t=t?t.toString():"";var i="",o=!1;if(K(n)){var a=(n=n.toString()).split(":");2===a.length&&a[0].startsWith("fa")?i=a[0]+" fa-"+a[1]:o=!0}var l="icon"+t[0].toUpperCase()+t.slice(1),s=I();return r=K(r)?s+r.toString()+"-icon":"",t=s+t,o?J.h("i",{refName:l,className:"anvil-component-icon ".concat(t," ").concat(r)},J.h("img",{src:n,style:"height: 1em; vertical-align: text-bottom;"})):J.h("i",{refName:l,className:"anvil-component-icon ".concat(t," ").concat(i," ").concat(r)})},J.OuterElement=function(e){for(var{refName:t,includePadding:n=!0,style:o,className:a}=e,l=i(e,["refName","includePadding","style","className"]),s=J.getOuterClass(l)+(a?" "+a:""),c=J.getOuterStyle(l,n)+(o?" "+o:""),p=J.getOuterAttrs(l),u=arguments.length,d=new Array(u>1?u-1:0),f=1;f<u;f++)d[f-1]=arguments[f];return J.h("div",r({refName:t||"outer",className:s,style:c},p,{children:d}))};
/*!propGroups()!1*/
var X={text:{text:{name:"text",type:"string",description:"The text displayed on this component",defaultValue:Sk.builtin.str.$empty,exampleValue:"Hello",important:!0,pyVal:!0,priority:10,set(e,t,n){n=Sk.builtin.checkNone(n)?"":n.toString();var r=I(),{outer:i,text:o}=e._anvil.elements;i.classList.toggle(r+"has-text",!!n),o.textContent=n}},align:{name:"align",type:"enum",options:["left","center","right"],description:"Align this component's text",defaultValue:new Sk.builtin.str("left"),designerHint:"align-horizontal",pyVal:!0,set(e,t,n){n=n.toString();var r=e._anvil.domNode,i=I();r.classList.remove(i+"align-left",i+"align-center",i+"align-right"),r.style.textAlign=n,["left","center","right"].includes(n)&&r.classList.add(i+"align-"+n)}},font_size:{name:"font_size",type:"number",nullable:!0,description:"The height of text displayed on this component in pixels",defaultValue:Sk.builtin.none.none$,pyVal:!0,exampleValue:16,set(e,t,n){n=Sk.ffi.remapToJs(n),t.css("font-size","number"==typeof n?n+"px":"")},getUnset(e,t,n){var r=t[0],i=S(n);if(null==i||""===i)return j(r,"font-size")}},font:{name:"font",type:"string",description:"The font to use for this component.",defaultValue:Sk.builtin.str.$empty,pyVal:!0,exampleValue:"Arial",set(e,t,n){t.css("font-family",n.toString())}},bold:{name:"bold",type:"boolean",description:"Display this component's text in bold",defaultValue:Sk.builtin.bool.false$,pyVal:!0,exampleValue:!0,designerHint:"font-bold",set(e,t,n){t.css("font-weight",K(n)?"bold":"")}},italic:{name:"italic",type:"boolean",description:"Display this component's text in italics",defaultValue:Sk.builtin.bool.false$,pyVal:!0,exampleValue:!0,designerHint:"font-italic",set(e,t,n){t.css("font-style",K(n)?"italic":"")}},underline:{name:"underline",type:"boolean",description:"Display this component's text underlined",defaultValue:Sk.builtin.bool.false$,pyVal:!0,exampleValue:!0,designerHint:"font-underline",set(e,t,n){t.add(t.children("span, div")).css("text-decoration",K(n)?"underline":"")}}},icon:{icon:{name:"icon",type:"icon",iconsets:["font-awesome-4.7.0"],defaultValue:Sk.builtin.str.$empty,exampleValue:"fa:user",description:"The icon to display on this component. Either a URL, or a FontAwesome Icon, e.g. 'fa:user'.",pyVal:!0,important:!0,set(e,t,n){t.removeClass("anvil-component-icon-present");var r=e._anvil.elements,i=()=>{};if(n instanceof Sk.builtin.str&&(n=n.toString())){var o=n.split(":");i=2===o.length&&o[0].startsWith("fa")?e=>{e.classList.add(o[0]),e.classList.add("fa-"+o[1])}:e=>{var t=document.createElement("img");t.src=n,t.style.cssText="height: 1em; vertical-align: text-bottom;",e.appendChild(t)},t.addClass("anvil-component-icon-present")}Object.keys(r).filter((e=>e.startsWith("icon"))).forEach((e=>{var t=r[e];for(t.className=t.className.split(" ").filter((e=>!e.startsWith("fa"))).join(" ");t.firstChild;)t.removeChild(t.firstChild);i(t)}))}},icon_align:{name:"icon_align",description:"The alignment of the icon on this component. Set to 'top' for a centred icon on a component with no text.",type:"enum",defaultValue:new Sk.builtin.str("left"),pyVal:!0,options:["left_edge","left","top","right","right_edge"],set(e,t,n){var r=I(),i=["right_edge","left_edge","top","right","left"].map((e=>r+e+"-icon"));e._anvil.domNode.classList.remove(...i);var o=t.find(".anvil-component-icon").filter((function(){var e=$(this).closest(".anvil-component");return 0==e.length||e[0]==t[0]}));o.removeClass(i),t.addClass(r+n+"-icon"),o.addClass(r+n+"-icon")}}},align:{align:{name:"align",type:"enum",options:["left","center","right"],description:"Align this component's content",defaultValue:new Sk.builtin.str("center"),set(e,t,n){t.css("text-align",n.toString())},important:!0}},appearance:{background:{name:"background",type:"color",description:"The background colour of this component.",defaultValue:Sk.builtin.str.$empty,pyVal:!0,exampleValue:"#ff0000",designerHint:"background-color",set(e,t,n){e._anvil.domNode.style.backgroundColor=J.getColor(n)}},foreground:{name:"foreground",type:"color",description:"The foreground colour of this component.",defaultValue:Sk.builtin.str.$empty,pyVal:!0,exampleValue:"#ff0000",designerHint:"foreground-color",set(e,t,n){e._anvil.domNode.style.color=J.getColor(n)}},border:{name:"border",type:"string",description:"The border of this component. Can take any valid CSS border value.",defaultValue:Sk.builtin.str.$empty,pyVal:!0,exampleValue:"1px solid #888888",designerHint:"border",set(e,t,n){t.css("border",K(n)?n.toString():"")}},visible:{name:"visible",important:!0,type:"boolean",description:"Should this component be displayed?",defaultValue:Sk.builtin.bool.true$,pyVal:!0,exampleValue:!1,designerHint:"visible",set(e,t,n){var r=K(n);return t.toggleClass(I()+"visible-false",!r),C(e,r)}},role:{name:"role",important:!1,type:"themeRole",description:"Choose how this component can appear, based on your app's visual theme.",defaultValue:Sk.builtin.none.none$,pyVal:!0,exampleValue:"title",set(e,t,n){J.applyRole(n,e._anvil.domNode)}}},visibility:{visible:{name:"visible",important:!0,type:"boolean",description:"Should this component be displayed?",defaultValue:Sk.builtin.bool.true$,pyVal:!0,exampleValue:!1,designerHint:"visible",set(e,t,n){var r=K(n);return t.toggleClass(I()+"visible-false",!r),C(e,r)}}},interaction:{enabled:{name:"enabled",important:!0,type:"boolean",description:"True if this component should allow user interaction.",defaultValue:Sk.builtin.bool.true$,pyVal:!0,exampleValue:!1,designerHint:"enabled",set(e,t,n){var r=e._anvil.domNode,i=I(),o=r.querySelector(".".concat(i,"to-disable"));K(n)?(r.removeAttribute("disabled"),null!==o&&o.removeAttribute("disabled")):(r.setAttribute("disabled",""),null!==o&&o.setAttribute("disabled",""))}}},height:{height:{name:"height",type:"string",defaultValue:Sk.builtin.str.$empty,exampleValue:new Sk.builtin.str("100"),description:"The height of this component.",pyVal:!0,set(e,t,n){t.css("height",J.cssLength(n.toString()))}}},layout:{width:{name:"width",type:"string",defaultValue:new Sk.builtin.str("default"),pyVal:!0,description:'The width of this {{component}}, or "default" to have the width set by the container.',deprecated:!0,set(e,t,n){t.css("width",J.cssLength(n.toString()))}},spacing_above:{name:"spacing_above",type:"enum",options:["none","small","medium","large"],defaultValue:new Sk.builtin.str("small"),pyVal:!0,deprecateFromRuntimeV3:!0,description:"The vertical space above this component.",set(e,t,n){n=n.toString();for(var r=["none","small","medium","large"],i=0;i<r.length;i++){var o="anvil-spacing-above-"+r[i];n==r[i]?t.addClass(o):t.removeClass(o)}}},spacing_below:{name:"spacing_below",type:"enum",options:["none","small","medium","large"],defaultValue:new Sk.builtin.str("small"),pyVal:!0,deprecateFromRuntimeV3:!0,description:"The vertical space below this component.",set(e,t,n){n=n.toString();for(var r=["none","small","medium","large"],i=0;i<r.length;i++){var o="anvil-spacing-below-"+r[i];n==r[i]?t.addClass(o):t.removeClass(o)}}}},layout_spacing:{spacing:{group:"layout",name:"spacing",type:"spacing",description:"Margin and padding for this container. Only available in apps that have been migrated to use Layouts.",defaultValue:Sk.builtin.none.none$,important:!0,priority:0,set(e,t,n){N(t[0],n)},getUnset:(e,t,n)=>E(t[0],t[0],n)}},layout_margin:{margin:{group:"layout",name:"margin",type:"margin",description:"Margin for this component. Only available in apps that have been migrated to use Layouts.",defaultValue:Sk.builtin.none.none$,important:!0,priority:0,set(e,t,n){A(t[0],n)},getUnset:(e,t,n)=>x(t[0],n)}},layout_padding:{padding:{group:"layout",name:"padding",type:"padding",description:"Padding for this component. Only available in apps that have been migrated to use Layouts.",defaultValue:Sk.builtin.none.none$,important:!0,priority:0,set(e,t,n){M(t[0],n)},getUnset:(e,t,n)=>T(t[0],n)}},containers:{row_spacing:{name:"row_spacing",deprecated:!0,important:!0,priority:9,type:"number",description:"The spacing between rows of components in this container, in pixels.",defaultValue:new Sk.builtin.int_(10),pyVal:!0}},"user data":{tag:{name:"tag",defaultValue:null,important:!1,type:"object",description:"Use this property to store any extra information about this component"}},tooltip:{tooltip:{name:"tooltip",important:!1,type:"string",defaultValue:Sk.builtin.str.$empty,pyVal:!0,description:"Text to display when you hover the mouse over this component",set(e,t,n){t.attr("title",K(n)?n.toString():null)}}},mapOverlays:{clickable:{name:"clickable",important:!0,type:"boolean",description:"True if this overlay raises mouse events.",defaultValue:Sk.builtin.bool.true$,pyVal:!0,mapProp:!0,set:J.mapSetter("clickable",K),get:J.mapGetter("clickable",Sk.builtin.bool)},draggable:{name:"draggable",type:"boolean",important:!0,description:"True if this overlay can be dragged.",defaultValue:Sk.builtin.bool.false$,pyVal:!0,mapProp:!0,set:J.mapSetter("draggable",K),get:J.mapGetter("draggable",Sk.builtin.bool)},visible:{name:"visible",type:"boolean",important:!0,description:"True if this overlay should be displayed.",defaultValue:Sk.builtin.bool.true$,pyVal:!0,mapProp:!0,set:J.mapSetter("visible",K),get:J.mapGetter("visible",Sk.builtin.bool)},z_index:{name:"z_index",type:"number",important:!0,description:"The z-index compared to other overlays.",mapProp:!0,set:J.mapSetter("zIndex"),get:J.mapGetter("zIndex")}},mapPolyOverlays:{editable:{name:"editable",type:"boolean",important:!0,description:"True if this overlay can be edited by the user.",defaultValue:Sk.builtin.bool.false$,pyVal:!0,mapProp:!0,set:J.mapSetter("editable",K)},stroke_color:{name:"stroke_color",type:"string",important:!0,description:"The color to draw the overlay outline.",mapProp:!0,set:J.mapSetter("strokeColor")},stroke_opacity:{name:"stroke_opacity",type:"number",important:!0,description:"The opacity of the overlay outline.",mapProp:!0,set:J.mapSetter("strokeOpacity")},stroke_weight:{name:"stroke_weight",type:"number",important:!0,description:"The weight of the overlay outline",mapProp:!0,set:J.mapSetter("strokeWeight")}},mapAreaOverlays:{stroke_position:{name:"stroke_position",pyType:"anvil.GoogleMap.StrokePosition",important:!0,description:"The stroke position. Defaults to CENTER.",mapProp:!0,set:J.mapSetter("strokePosition")},fill_color:{name:"fill_color",type:"string",important:!0,description:"The color to draw the overlay outline.",mapProp:!0,set:J.mapSetter("fillColor")},fill_opacity:{name:"fill_opacity",type:"number",important:!0,description:"The opacity of the overlay outline.",mapProp:!0,set:J.mapSetter("fillOpacity")}}},Q={universal:[{name:"show",description:"When the {{component}} is shown on the screen",parameters:[]},{name:"hide",description:"When the {{component}} is removed from the screen",parameters:[]}],focus:[{name:"focus",description:"When the {{component}} gets focus",parameters:[]},{name:"lost_focus",description:"When the {{component}} loses focus",parameters:[]}],mouse:[{name:"mouse_enter",description:"When the mouse cursor enters this component",parameters:[{name:"x",description:"The x coordinate of the mouse pointer, within this component",important:!0},{name:"y",description:"The y coordinate of the mouse pointer, within this component",important:!0}]},{name:"mouse_leave",description:"When the mouse cursor leaves this component",parameters:[{name:"x",description:"The x coordinate of the mouse pointer relative to this component",important:!0},{name:"y",description:"The y coordinate of the mouse pointer relative to this component",important:!0}]},{name:"mouse_move",description:"When the mouse cursor moves over this component",parameters:[{name:"x",description:"The x coordinate of the mouse pointer within this component",important:!0},{name:"y",description:"The y coordinate of the mouse pointer within this component",important:!0}],important:!0},{name:"mouse_down",description:"When a mouse button is pressed on this component",parameters:[{name:"x",description:"The x coordinate of the mouse pointer within this component",important:!0},{name:"y",description:"The y coordinate of the mouse pointer within this component",important:!0},{name:"button",description:"The button that was pressed (1 = left, 2 = middle, 3 = right)",important:!0},{name:"keys",description:"A dictionary of keys including 'shift', 'alt', 'ctrl', 'meta'. Each key's value is a boolean indicating if it was pressed during the click event. The meta key on a mac is the Command key"}],important:!0},{name:"mouse_up",description:"When a mouse button is released on this component",parameters:[{name:"x",description:"The x coordinate of the mouse pointer within this component",important:!0},{name:"y",description:"The y coordinate of the mouse pointer within this component",important:!0},{name:"button",description:"The button that was released (1 = left, 2 = middle, 3 = right)",important:!0},{name:"keys",description:"A dictionary of keys including 'shift', 'alt', 'ctrl', 'meta'. Each key's value is a boolean indicating if it was pressed during the click event. The meta key on a mac is the Command key",important:!1}],important:!0}],mapOverlays:[{name:"click",description:"when an overlay is clicked.",parameters:[{name:"lat_lng",description:"The position that was clicked.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},{name:"dblclick",description:"when an overlay is double clicked.",parameters:[{name:"lat_lng",description:"The position that was double-clicked.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},{name:"drag",description:"while the user drags an overlay.",parameters:[{name:"lat_lng",description:"The position of the cursor.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},{name:"dragend",description:"when the user stops dragging an overlay.",parameters:[{name:"lat_lng",description:"The position of the cursor.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},{name:"dragstart",description:"when the user starts dragging an overlay.",parameters:[{name:"lat_lng",description:"The position of the cursor.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},{name:"mousedown",description:"for a mousedown on an overlay.",parameters:[{name:"lat_lng",description:"The position of the cursor.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},{name:"mouseout",description:"when the mouse leaves the area of an overlay icon.",parameters:[{name:"lat_lng",description:"The position of the cursor.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},{name:"mouseover",description:"when the mouse enters the area of an overlay icon.",parameters:[{name:"lat_lng",description:"The position of the cursor.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},{name:"mouseup",description:"for a mouseup on an overlay.",parameters:[{name:"lat_lng",description:"The position of the cursor.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},{name:"rightclick",description:"for a right-click on an overlay.",parameters:[{name:"lat_lng",description:"The position of the cursor.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0}]},ee=/\{\{component\}\}/g;
/*!eventGroups()!1*/J.assembleGroups=function(e,t,n,r){r=r||{};var i=[],o={};return n.forEach((n=>{var l=e[n];for(var s in l){var c,p=l[s];(c=p).group||(c.group=n);var u=r[p.name]||{};(p=a(a({},p),u)).description&&(p.description=p.description.replace(ee,t)),u.omit||i.push(p),o[p.name]=!0}})),Object.keys(r).forEach((e=>{o[e]||(r[e].name=e,i.push(r[e]))})),i},J.assembleGroupEvents=function(e,t,n){return J.assembleGroups(Q,e,t,n)},J.assembleGroupProperties=function(e,t){return J.assembleGroups(X,"component",e,t)},J.setupDefaultMouseEvents=function(e){e._anvil.element.on("mouseenter",(t=>{var n=e._anvil.element.offset();J.raiseEventAsync({x:t.pageX-n.left,y:t.pageY-n.top},e,"mouse_enter")})),e._anvil.element.on("mouseleave",(t=>{var n=e._anvil.element.offset();J.raiseEventAsync({x:t.pageX-n.left,y:t.pageY-n.top},e,"mouse_leave")})),e._anvil.element.on("mousemove",(t=>{var n=e._anvil.element.offset();J.raiseEventAsync({x:t.pageX-n.left,y:t.pageY-n.top,button:-1},e,"mouse_move")})),e._anvil.element.on("touchmove",(t=>{var n=e._anvil.element.offset();if(void 0!==e._anvil.eventHandlers.mouse_move){var r=t.originalEvent.changedTouches[0].pageX-n.left,i=t.originalEvent.changedTouches[0].pageY-n.top;J.raiseEventAsync({x:r,y:i,button:-1},e,"mouse_move"),t.stopPropagation(),t.preventDefault()}})),e._anvil.element.on("touchend",(t=>{var n=e._anvil.element.offset();if(void 0!==e._anvil.eventHandlers.mouse_up){var r=t.originalEvent.changedTouches[0].pageX-n.left,i=t.originalEvent.changedTouches[0].pageY-n.top;J.raiseEventAsync({x:r,y:i,button:t.which,keys:{meta:!1,shift:!1,ctrl:!1,alt:!1}},e,"mouse_up"),t.stopPropagation(),t.preventDefault()}})),e._anvil.element.on("mouseup",(t=>{var n=e._anvil.element.offset();J.raiseEventAsync({x:t.pageX-n.left,y:t.pageY-n.top,button:t.which,keys:{meta:t.metaKey,shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey}},e,"mouse_up")})),e._anvil.element.on("touchstart",(t=>{var n=e._anvil.element.offset();if(void 0!==e._anvil.eventHandlers.mouse_down){var r=t.originalEvent.changedTouches[0].pageX-n.left,i=t.originalEvent.changedTouches[0].pageY-n.top;J.raiseEventAsync({x:r,y:i,button:t.which,keys:{meta:!1,shift:!1,ctrl:!1,alt:!1}},e,"mouse_down"),t.stopPropagation(),t.preventDefault()}})),e._anvil.element.on("mousedown",(t=>{var n=e._anvil.element.offset();J.raiseEventAsync({x:t.pageX-n.left,y:t.pageY-n.top,button:t.which,keys:{meta:t.metaKey,shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey}},e,"mouse_down")}))},J.calculateHeight=function(){var e=$(".anvil-measure-content").children();0==e.length&&(e=$("#components,#appGoesHere,.modal-dialog,.anvil-measure-this"));var t=0;return e.each((function(e,n){var r=(n=$(n)).hasClass("modal-dialog")?30:0;t=Math.max(t,n.offset().top+n.outerHeight()+r)})),t},J.addHeightHandle=function(e){};var te=!1;document.addEventListener("click",(()=>{te=!0,setTimeout((()=>{te=!1}))}),!0),document.addEventListener("click",(()=>{te=!1})),J.isPopupOK=()=>te,J.getUrlForMedia=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e=>{var t=null;return{getUrl:()=>(null===t&&(t=window.URL.createObjectURL(e)),t),release(){null!==t&&(window.URL.revokeObjectURL(t),t=null)},blob:e}};if(!e||e===Sk.builtin.none.none$)return{getUrl:()=>"",release:()=>{}};if(e._data instanceof Blob)return n(e._data);var r=Sk.abstr.gattr(e,new Sk.builtin.str("get_url"));return Sk.misceval.chain(Sk.misceval.callsimOrSuspendArray(r,[],t),(t=>{return t instanceof Sk.builtin.str?{getUrl:()=>t.toString(),release(){}}:Sk.misceval.chain(Sk.abstr.gattr(e,new Sk.builtin.str("content_type"),!0),(t=>(r=t,Sk.misceval.callsimOrSuspend(Sk.abstr.gattr(e,new Sk.builtin.str("get_bytes"))))),(e=>{var t=J.getUint8ArrayFromPyBytes(e),i=new Blob([t],{type:r.toString()});return n(i)}));var r}))},J.getUint8ArrayFromPyBytes=function(e){if(Sk.__future__.python3)return new Uint8Array(e.v);for(var t=new Uint8Array(e.v.length),n=0;n<e.v.length;n++)t[n]=e.v.charCodeAt(n);return t},J.logPagination=!1,J.repaginateChildren=(e,t,n,r)=>{J.logPagination&&console.log("Repaginate children starting from",n,"with quota",r);var i=null,o=null,a=!1;n&&([i,o,a]=n);var l=null==n,s=[...e._anvil.components];return e._anvil.lastChildPagination=e._anvil.lastChildPagination||new Array(s.length),Sk.misceval.chain(void 0,(()=>Sk.misceval.iterArray(s,((t,n)=>{var i,{component:o,layoutProperties:a}=t;return a.pinned&&(null===(i=o._anvil)||void 0===i?void 0:i.paginate)?(o._anvil.pagination={startAfter:null,rowQuota:r},Sk.misceval.chain(o._anvil.paginate(),(t=>{var[i,,]=t;e._anvil.lastChildPagination[n]=void 0,r-=i}),(()=>n+1))):n+1}),0)),(()=>Sk.misceval.iterArray(s,((o,s)=>{var c,{component:p,layoutProperties:u}=o;if(!u.pinned&&(null===(c=p._anvil)||void 0===c?void 0:c.paginate)){var d=n&&s==i;if(s<t)return s+1;if(l||d&&!a){var f=n&&n[0]==s;return p._anvil.pagination={startAfter:f?n[1]:null,rowQuota:r},Sk.misceval.chain(p._anvil.paginate(),(t=>{var[n,i,o]=t;e._anvil.lastChildPagination[s]=[n,i,o],n>0&&(r-=n),l=!0}),(()=>s+1))}return p._anvil.pagination={startAfter:null,rowQuota:0},Sk.misceval.chain(p._anvil.paginate(),(()=>{e._anvil.lastChildPagination[s]=void 0,l=l||d}),(()=>s+1))}return s+1}),0)),(()=>{var t=e._anvil.lastChildPagination.reduce(((e,t)=>e+(t?t[0]:0)),0),n=e._anvil.lastChildPagination.reduce(((e,t,n)=>t&&t[0]?[n,t[1],t[2]]:e),null),r=!0;for(var i of e._anvil.lastChildPagination)if(i&&!1===i[2])r=!1;else if(i&&"INVALID"===i[2]){r="INVALID";break}return J.logPagination&&console.log("Children displayed",t,"rows.",r?"Done":"Interrupted","at",n),[t,n,r]}))},J.remapToJsOrWrap=k,J.unwrapOrRemapToPy=w,J.callJs=function(e,t){var n,r,i=Sk.ffi.toJs(t);try{r=Function("return (".concat(i,")"))()}catch(t){if(!(t instanceof ReferenceError&&t.message.includes(i)))throw t;var o="Could not find global JS function '".concat(i,"'.");throw(null==e?void 0:e._anvil)&&!e._anvil.onPage&&(o+=" This form is not currently visible - to call functions defined in its HTML on load, use call_js in the form 'show' event handler."),new Sk.builtin.NameError(o)}if("function"!=typeof r)throw new b("".concat(i," is not callable, got ").concat(typeof r));for(var a=null==e||null===(n=e.anvil$hooks)||void 0===n?void 0:n.domElement,l=a&&$(a),s=arguments.length,c=new Array(s>2?s-2:0),p=2;p<s;p++)c[p-2]=arguments[p];var u=r.apply(l,c.map(J.remapToJsOrWrap));return u=u instanceof Promise?J.suspensionFromPromise(u.then(w)):w(u)},J.withDelayPrint=e=>{if(!window.outstandingPrintDelayPromises)return e;var t=Math.random().toString(36).substring(6),n=H();return window.outstandingPrintDelayPromises[t]=n,e.then(n.resolve)},J.delayPrint=e=>{window.outstandingPrintDelayPromises&&(window.outstandingPrintDelayPromises[e]=H())},J.resumePrint=e=>{window.outstandingPrintDelayPromises&&window.outstandingPrintDelayPromises[e]&&window.outstandingPrintDelayPromises[e].resolve()},J.pyTryFinally=U,e.exports=J;var ne=function(e){$.fn[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.on(e,...n)}};for(var re of["click","mouseover","mouseout"])ne(re);$.ajaxTransport("+binary",(function(e,t,n){if(window.FormData&&(e.dataType&&"binary"==e.dataType||e.data&&(window.ArrayBuffer&&e.data instanceof ArrayBuffer||window.Blob&&e.data instanceof Blob)))return{send:function(t,n){var r=new XMLHttpRequest,i=e.url,o=e.type,a=e.async||!0,l=e.responseType||"blob",s=e.data||null,c=e.username||null,p=e.password||null;for(var u in r.addEventListener("load",(function(){var t={};t[e.dataType]=r.response,n(r.status,r.statusText,t,r.getAllResponseHeaders())})),r.open(o,i,a,c,p),t)r.setRequestHeader(u,t[u]);r.responseType=l,r.send(s)},abort:function(){n.abort()}}}))},function(e,t,n){var r=n(5),i=n(212),o=n(0),a=n(23),l=n(7),s=l("iterator"),c=l("toStringTag"),p=o.values;for(var u in i){var d=r[u],f=d&&d.prototype;if(f){if(f[s]!==p)try{a(f,s,p)}catch(e){f[s]=p}if(f[c]||a(f,c,u),i[u])for(var v in o)if(f[v]!==o[v])try{a(f,v,o[v])}catch(e){f[v]=o[v]}}}},function(e,t,n){"use strict";var r=n(25),i=n(11),o=n(8),a=n(110),l="toString",s=RegExp.prototype,c=s[l],p=o((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),u=c.name!=l;(p||u)&&r(RegExp.prototype,l,(function(){var e=i(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in s)?a.call(e):n)}),{unsafe:!0})},function(e,t,n){"use strict";n(17),Object.defineProperty(t,"__esModule",{value:!0}),t.copyKeywordsToNamedArgs=t.buildNativeClass=t.pyIterFor=t.promiseToSuspension=t.suspensionToPromise=t.arrayFromIterable=t.pyCallOrSuspend=t.pyCall=t.richCompareBool=t.iterArray=t.iterForOrSuspend=t.buildPyClass=t.objectRepr=t.retryOptionalSuspensionOrThrow=t.tryCatchOrSuspend=t.chainOrSuspend=t.Break=t.Suspension=t.isTrue=t.pyHasAttr=t.pyIsInstance=t.pyIsSubclass=t.pyCheckType=t.checkNone=t.checkIterable=t.checkCallable=t.checkBytes=t.checkAnySet=t.checkInt=t.checkNumber=t.checkBool=t.checkString=t.pyExternalError=t.pyUnicodeEncodeError=t.pyUnicodeDecodeError=t.pyUnicodeError=t.pyValueError=t.pyTypeError=t.pySystemError=t.pyTabError=t.pyIndentationError=t.pySyntaxError=t.pyRecursionError=t.pyNotImplementedError=t.pyRuntimeError=t.pyReferenceError=t.pyTimeoutError=t.pyFileNotFoundError=t.pyOSError=t.pyUnboundLocalError=t.pyNameError=t.pyMemoryError=t.pyKeyError=t.pyIndexError=t.pyLookupError=t.pyModuleNotFoundError=t.pyImportError=t.pyEOFError=t.pyBufferError=t.pyAttributeError=t.pyAssertionError=t.pyZeroDivisionError=t.pyOverflowError=t.pyFloatingPointError=t.pyArithmeticError=t.pyStopAsyncIteration=t.pyStopIteration=t.pyException=t.pyGeneratorExit=t.pyKeyboardInterrupt=t.pySystemExit=t.pyBaseException=t.pyDir=t.pyMethod=t.pyProperty=t.pyStaticMethod=t.pyClassMethod=t.pyWrapperDescriptor=t.pyGetSetDescriptor=t.pySuper=t.pyType=t.pyTuple=t.pyStr=t.pyBuiltinFunctionOrMethod=t.pySlice=t.pySet=t.pyObject=t.pyModule=t.pyMappingProxy=t.pyNoneType=t.pyList=t.pyLong=t.pyInt=t.pyFunc=t.pyFrozenSet=t.pyFloat=t.pyDict=t.pyBytes=t.pyBool=t.importModule=void 0,t.pyNotImplemented=t.pyNone=t.pyFalse=t.pyTrue=t.remapToJsOrWrap=t.proxy=t.toJs=t.toPy=t.pyObjectHash=t.setUpModuleMethods=t.typeName=t.typeLookup=t.lookupSpecial=t.pyIter=t.keywordArrayToPyDict=t.keywordArrayFromPyDict=t.checkOneArg=t.checkNoKwargs=t.checkNoArgs=t.checkArgsLen=void 0;var{builtin:{bool:{true$:r,false$:i},none:{none$:o},NotImplemented:{NotImplemented$:a},bool:l,bytes:s,dict:c,float_:p,frozenset:u,func:d,int_:f,lng:v,list:m,none:h,mappingproxy:_,module:g,object:y,set:b,slice:k,sk_method:S,str:w,tuple:C,type:O,super_:P,getset_descriptor:x,wrapper_descriptor:T,classmethod:E,staticmethod:$,property:j,method:A,dir:M,BaseException:N,SystemExit:L,KeyboardInterrupt:I,GeneratorExit:D,Exception:F,StopIteration:V,StopAsyncIteration:R,ArithmeticError:U,FloatingPointError:B,OverflowError:G,ZeroDivisionError:H,AssertionError:J,AttributeError:z,BufferError:W,EOFError:q,ImportError:K,ModuleNotFoundError:Y,LookupError:Z,IndexError:X,KeyError:Q,MemoryError:ee,NameError:te,UnboundLocalError:ne,OSError:re,FileNotFoundError:ie,TimeoutError:oe,ReferenceError:ae,RuntimeError:le,NotImplementedError:se,RecursionError:ce,SyntaxError:pe,IndentationError:ue,TabError:de,SystemError:fe,TypeError:ve,ValueError:me,UnicodeError:he,UnicodeDecodeError:_e,UnicodeEncodeError:ge,ExternalError:ye,checkString:be,checkBool:ke,checkNumber:Se,checkInt:we,checkAnySet:Ce,checkBytes:Oe,checkCallable:Pe,checkIterable:xe,checkNone:Te,pyCheckType:Ee,issubclass:$e,isinstance:je,hasattr:Ae},misceval:{isTrue:Me,Suspension:Ne,Break:Le,chain:Ie,tryCatch:De,retryOptionalSuspensionOrThrow:Fe,objectRepr:Ve,buildClass:Re,iterFor:Ue,iterArray:Be,richCompareBool:Ge,callsimArray:He,callsimOrSuspendArray:Je,arrayFromIterable:ze,asyncToPromise:We,promiseToSuspension:qe,iterFor:Ke},abstr:{buildNativeClass:Ye,copyKeywordsToNamedArgs:Ze,checkArgsLen:Xe,checkNoArgs:Qe,checkNoKwargs:et,checkOneArg:tt,keywordArrayFromPyDict:nt,keywordArrayToPyDict:rt,iter:it,lookupSpecial:ot,typeLookup:at,typeName:lt,setUpModuleMethods:st,objectHash:ct},ffi:{toPy:pt,toJs:ut,proxy:dt,remapToJsOrWrap:ft},importModule:vt}=Sk;t.pyNotImplemented=a,t.pyNone=o,t.pyFalse=i,t.pyTrue=r,t.remapToJsOrWrap=ft,t.proxy=dt,t.toJs=ut,t.toPy=pt,t.pyObjectHash=ct,t.setUpModuleMethods=st,t.typeName=lt,t.typeLookup=at,t.lookupSpecial=ot,t.pyIter=it,t.keywordArrayToPyDict=rt,t.keywordArrayFromPyDict=nt,t.checkOneArg=tt,t.checkNoKwargs=et,t.checkNoArgs=Qe,t.checkArgsLen=Xe,t.copyKeywordsToNamedArgs=Ze,t.buildNativeClass=Ye,t.pyIterFor=Ke,t.promiseToSuspension=qe,t.suspensionToPromise=We,t.arrayFromIterable=ze,t.pyCallOrSuspend=Je,t.pyCall=He,t.richCompareBool=Ge,t.iterArray=Be,t.iterForOrSuspend=Ue,t.buildPyClass=Re,t.objectRepr=Ve,t.retryOptionalSuspensionOrThrow=Fe,t.tryCatchOrSuspend=De,t.chainOrSuspend=Ie,t.Break=Le,t.Suspension=Ne,t.isTrue=Me,t.pyHasAttr=Ae,t.pyIsInstance=je,t.pyIsSubclass=$e,t.pyCheckType=Ee,t.checkNone=Te,t.checkIterable=xe,t.checkCallable=Pe,t.checkBytes=Oe,t.checkAnySet=Ce,t.checkInt=we,t.checkNumber=Se,t.checkBool=ke,t.checkString=be,t.pyExternalError=ye,t.pyUnicodeEncodeError=ge,t.pyUnicodeDecodeError=_e,t.pyUnicodeError=he,t.pyValueError=me,t.pyTypeError=ve,t.pySystemError=fe,t.pyTabError=de,t.pyIndentationError=ue,t.pySyntaxError=pe,t.pyRecursionError=ce,t.pyNotImplementedError=se,t.pyRuntimeError=le,t.pyReferenceError=ae,t.pyTimeoutError=oe,t.pyFileNotFoundError=ie,t.pyOSError=re,t.pyUnboundLocalError=ne,t.pyNameError=te,t.pyMemoryError=ee,t.pyKeyError=Q,t.pyIndexError=X,t.pyLookupError=Z,t.pyModuleNotFoundError=Y,t.pyImportError=K,t.pyEOFError=q,t.pyBufferError=W,t.pyAttributeError=z,t.pyAssertionError=J,t.pyZeroDivisionError=H,t.pyOverflowError=G,t.pyFloatingPointError=B,t.pyArithmeticError=U,t.pyStopAsyncIteration=R,t.pyStopIteration=V,t.pyException=F,t.pyGeneratorExit=D,t.pyKeyboardInterrupt=I,t.pySystemExit=L,t.pyBaseException=N,t.pyDir=M,t.pyMethod=A,t.pyProperty=j,t.pyStaticMethod=$,t.pyClassMethod=E,t.pyWrapperDescriptor=T,t.pyGetSetDescriptor=x,t.pySuper=P,t.pyType=O,t.pyTuple=C,t.pyStr=w,t.pyBuiltinFunctionOrMethod=S,t.pySlice=k,t.pySet=b,t.pyObject=y,t.pyModule=g,t.pyMappingProxy=_,t.pyNoneType=h,t.pyList=m,t.pyLong=v,t.pyInt=f,t.pyFunc=d,t.pyFrozenSet=u,t.pyFloat=p,t.pyDict=c,t.pyBytes=s,t.pyBool=l,t.importModule=vt},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n(139))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(277);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var i=n(278);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var o=n(279);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=n(213);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var l=n(280);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var s=n(281);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var c=n(282);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}))},function(e,t,n){var r=n(5),i=n(121),o=n(14),a=n(98),l=n(124),s=n(201),c=i("wks"),p=r.Symbol,u=s?p:p&&p.withoutSetter||a;e.exports=function(e){return o(c,e)||(l&&o(p,e)?c[e]=p[e]:c[e]=u("Symbol."+e)),c[e]}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";var r,i,o,a,l=n(12),s=n(36),c=n(5),p=n(39),u=n(153),d=n(25),f=n(100),v=n(47),m=n(90),h=n(16),_=n(59),g=n(64),y=n(82),b=n(154),k=n(155),S=n(91),w=n(133).set,C=n(206),O=n(156),P=n(208),x=n(135),T=n(209),E=n(30),$=n(99),j=n(7),A=n(92),M=n(151),N=j("species"),L="Promise",I=E.get,D=E.set,F=E.getterFor(L),V=u,R=c.TypeError,U=c.document,B=c.process,G=p("fetch"),H=x.f,J=H,z=!!(U&&U.createEvent&&c.dispatchEvent),W="function"==typeof PromiseRejectionEvent,q="unhandledrejection",K=$(L,(function(){if(!(y(V)!==String(V))){if(66===M)return!0;if(!A&&!W)return!0}if(s&&!V.prototype.finally)return!0;if(M>=51&&/native code/.test(V))return!1;var e=V.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[N]=t,!(e.then((function(){}))instanceof t)})),Y=K||!k((function(e){V.all(e).catch((function(){}))})),Z=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},X=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;C((function(){for(var r=e.value,i=1==e.state,o=0;n.length>o;){var a,l,s,c=n[o++],p=i?c.ok:c.fail,u=c.resolve,d=c.reject,f=c.domain;try{p?(i||(2===e.rejection&&ne(e),e.rejection=1),!0===p?a=r:(f&&f.enter(),a=p(r),f&&(f.exit(),s=!0)),a===c.promise?d(R("Promise-chain cycle")):(l=Z(a))?l.call(a,u,d):u(a)):d(r)}catch(e){f&&!s&&f.exit(),d(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ee(e)}))}},Q=function(e,t,n){var r,i;z?((r=U.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},!W&&(i=c["on"+e])?i(r):e===q&&P("Unhandled promise rejection",n)},ee=function(e){w.call(c,(function(){var t,n=e.facade,r=e.value;if(te(e)&&(t=T((function(){A?B.emit("unhandledRejection",r,n):Q(q,n,r)})),e.rejection=A||te(e)?2:1,t.error))throw t.value}))},te=function(e){return 1!==e.rejection&&!e.parent},ne=function(e){w.call(c,(function(){var t=e.facade;A?B.emit("rejectionHandled",t):Q("rejectionhandled",t,e.value)}))},re=function(e,t,n){return function(r){e(t,r,n)}},ie=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,X(e,!0))},oe=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw R("Promise can't be resolved itself");var r=Z(t);r?C((function(){var n={done:!1};try{r.call(t,re(oe,n,e),re(ie,n,e))}catch(t){ie(n,t,e)}})):(e.value=t,e.state=1,X(e,!1))}catch(t){ie({done:!1},t,e)}}};K&&(V=function(e){g(this,V,L),_(e),r.call(this);var t=I(this);try{e(re(oe,t),re(ie,t))}catch(e){ie(t,e)}},(r=function(e){D(this,{type:L,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(V.prototype,{then:function(e,t){var n=F(this),r=H(S(this,V));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=A?B.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&X(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=I(e);this.promise=e,this.resolve=re(oe,t),this.reject=re(ie,t)},x.f=H=function(e){return e===V||e===o?new i(e):J(e)},s||"function"!=typeof u||(a=u.prototype.then,d(u.prototype,"then",(function(e,t){var n=this;return new V((function(e,t){a.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof G&&l({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return O(V,G.apply(c,arguments))}}))),l({global:!0,wrap:!0,forced:K},{Promise:V}),v(V,L,!1,!0),m(L),o=p(L),l({target:L,stat:!0,forced:K},{reject:function(e){var t=H(this);return t.reject.call(void 0,e),t.promise}}),l({target:L,stat:!0,forced:s||K},{resolve:function(e){return O(s&&this===o?V:this,e)}}),l({target:L,stat:!0,forced:Y},{all:function(e){var t=this,n=H(t),r=n.resolve,i=n.reject,o=T((function(){var n=_(t.resolve),o=[],a=0,l=1;b(e,(function(e){var s=a++,c=!1;o.push(void 0),l++,n.call(t,e).then((function(e){c||(c=!0,o[s]=e,--l||r(o))}),i)})),--l||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=H(t),r=n.reject,i=T((function(){var i=_(t.resolve);b(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},function(e,t,n){"use strict";n(0),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.setLegacyOptions=function(e){var t;if(l)return;if(l=!0,Number(null!==(t=e.version)&&void 0!==t?t:2)<3)for(var n in o)o[n]=!0;else{var r,s=null!==(r=e.legacy_features)&&void 0!==r?r:{};for(var c of Object.keys(s))a(c)&&(o[c]=!!s[c])}(function(){if(!o.__dict__)return;var e=Sk.sysmodules.quick$lookup(new i.pyStr("anvil"));if(!e)return;var t=e.$d.ClassicComponent;t.prototype.__dict__=new i.pyGetSetDescriptor(t,Sk.generic.getSetDict)})(),function(){if(!o.root_container)return;var e=document.getElementById("appGoesHere");if(!e)return;if(e.parentElement!==document.body)return;var t=document.createElement("div");t.className="anvil-root-container",e.replaceWith(t),t.append(e)}()},t.getCssPrefix=function(){return null!=r?r:r=window.anvilParams.runtimeVersion<3||o.class_names?"":"anvil-"},t.getInlineStyles=function(e){return window.anvilParams.runtimeVersion>=3?"":s[e]},t.hasLegacyDict=function(){return window.anvilParams.runtimeVersion<3||o.__dict__};var r,i=n(4),o={class_names:!1,bootstrap3:!1,__dict__:!1,root_container:!1},a=e=>e in o,l=!1;var s={checkbox:"padding: 7px 7px 7px 20px;",radio:"padding: 7px 7px 7px 20px;"}},function(e,t,n){var r=n(16);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var r=n(5),i=n(52).f,o=n(23),a=n(25),l=n(81),s=n(148),c=n(99);e.exports=function(e,t){var n,p,u,d,f,v=e.target,m=e.global,h=e.stat;if(n=m?r:h?r[v]||l(v,{}):(r[v]||{}).prototype)for(p in t){if(d=t[p],u=e.noTargetGet?(f=i(n,p))&&f.value:n[p],!c(m?p:v+(h?".":"#")+p,e.forced)&&void 0!==u){if(typeof d==typeof u)continue;s(d,u)}(e.sham||u&&u.sham)&&o(d,"sham",!0),a(n,p,d,e)}}},function(e,t,n){"use strict";var r=n(12),i=n(149).indexOf,o=n(200),a=n(150),l=[].indexOf,s=!!l&&1/[1].indexOf(1,-0)<0,c=o("indexOf"),p=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:s||!c||!p},{indexOf:function(e){return s?l.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(40),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";var r=n(12),i=n(16),o=n(131),a=n(69),l=n(15),s=n(58),c=n(88),p=n(7),u=n(204),d=n(150),f=u("slice"),v=d("slice",{ACCESSORS:!0,0:0,1:2}),m=p("species"),h=[].slice,_=Math.max;r({target:"Array",proto:!0,forced:!f||!v},{slice:function(e,t){var n,r,p,u=s(this),d=l(u.length),f=a(e,d),v=a(void 0===t?d:t,d);if(o(u)&&("function"!=typeof(n=u.constructor)||n!==Array&&!o(n.prototype)?i(n)&&null===(n=n[m])&&(n=void 0):n=void 0,n===Array||void 0===n))return h.call(u,f,v);for(r=new(void 0===n?Array:n)(_(v-f,0)),p=0;f<v;f++,p++)f in u&&c(r,p,u[f]);return r.length=p,r}})},function(e,t,n){var r=n(8);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){var r=n(12),i=n(152);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(e,t,n){"use strict";var r=n(93),i=n(11),o=n(15),a=n(40),l=n(29),s=n(113),c=n(275),p=n(95),u=Math.max,d=Math.min;r("replace",2,(function(e,t,n,r){var f=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=r.REPLACE_KEEPS_$0,m=f?"$":"$0";return[function(n,r){var i=l(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!f&&v||"string"==typeof r&&-1===r.indexOf(m)){var l=n(t,e,this,r);if(l.done)return l.value}var h=i(e),_=String(this),g="function"==typeof r;g||(r=String(r));var y=h.global;if(y){var b=h.unicode;h.lastIndex=0}for(var k=[];;){var S=p(h,_);if(null===S)break;if(k.push(S),!y)break;""===String(S[0])&&(h.lastIndex=s(_,o(h.lastIndex),b))}for(var w,C="",O=0,P=0;P<k.length;P++){S=k[P];for(var x=String(S[0]),T=u(d(a(S.index),_.length),0),E=[],$=1;$<S.length;$++)E.push(void 0===(w=S[$])?w:String(w));var j=S.groups;if(g){var A=[x].concat(E,T,_);void 0!==j&&A.push(j);var M=String(r.apply(void 0,A))}else M=c(x,_,T,E,j,r);T>=O&&(C+=_.slice(O,T)+M,O=T+x.length)}return C+_.slice(O)}]}))},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n(139))},function(e,t,n){var r=n(18),i=n(120),o=n(11),a=n(68),l=Object.defineProperty;t.f=r?l:function(e,t,n){if(o(e),t=a(t,!0),o(n),i)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(18),i=n(22),o=n(45);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(5),i=n(23),o=n(14),a=n(81),l=n(82),s=n(30),c=s.get,p=s.enforce,u=String(String).split("String");(e.exports=function(e,t,n,l){var s,c=!!l&&!!l.unsafe,d=!!l&&!!l.enumerable,f=!!l&&!!l.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),(s=p(n)).source||(s.source=u.join("string"==typeof t?t:""))),e!==r?(c?!f&&e[t]&&(d=!0):delete e[t],d?e[t]=n:i(e,t,n)):d?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||l(this)}))},function(e,t,n){"use strict";n(0),n(276),n(3),n(33),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.getPyParent=a,t.raiseWritebackEventOrSuspend=function(e,t,n){return(0,r.chainOrSuspend)(null!=n?n:Sk.abstr.gattr(e,t,!0),(n=>m(e,new r.pyStr("x-anvil-write-back-"+t),["property",t,"value",n])))},t.getListenerCallbacks=y,t.notifyComponentMounted=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return O(e,!0,t)},t.notifyComponentUnmounted=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return O(e,!1,t)},t.notifyVisibilityChange=P,t.addEventHandler=t.raiseEventOrSuspend=t.getComponentParent=t.Component=t.EMPTY_CONTAINER_DESIGN_INFO=t.EMPTY_DESIGN_INFO=t.runOnNextInstantiation=t.getDefaultDepIdForComponent=t.setDefaultDepIdForNextComponent=t.ComponentTag=t.isComponent=void 0;var r=n(4),i=n(6),o=n(283);function a(e){var t,n;return null==e||null===(t=e._Component)||void 0===t||null===(n=t.parent)||void 0===n?void 0:n.pyParent}t.isComponent=e=>!!(null==e?void 0:e.anvil$hooks);var l=(0,r.buildPyClass)({__name__:new r.pyStr("anvil")},((e,t)=>{t.__serialize__=new r.pyFunc((e=>e.$d)),t.__repr__=new r.pyFunc((e=>new r.pyStr("ComponentTag("+(0,r.objectRepr)(e.$d)+")")))}),"ComponentTag");function s(e){if((0,r.checkString)(e))return e.toString();if(e instanceof r.pyDict){var t=e.quick$lookup(i.s_name);if(void 0!==t&&(0,r.checkString)(t))return t.toString()}throw new r.pyTypeError("Invalid argument for ".concat((0,r.objectRepr)(i.s_anvil_events),", got ").concat((0,r.objectRepr)(e)))}t.ComponentTag=l;var c,p,u=new r.pyStr("__mro__"),d=Object.prototype.hasOwnProperty;function f(e){(0,o.setupClsHooks)(e);var t=e.tp$getattr(u),n=new Set;for(var a of(0,r.arrayFromIterable)(t)){if(a===v)break;if(d.call(a.prototype,i.s_anvil_events.toString())){var l=a.tp$getattr(i.s_anvil_events);if(l)for(var c of(0,r.arrayFromIterable)(l))n.add(s(c))}}return e._ComponentClass={allowedEvents:n,providesHooksInPython:{}},r.pyNone}t.setDefaultDepIdForNextComponent=e=>{c=e};t.getDefaultDepIdForComponent=e=>{var t;return null!==(t=null==e?void 0:e._Component.defaultDepId)&&void 0!==t?t:null};t.runOnNextInstantiation=e=>{p=e};t.EMPTY_DESIGN_INFO={propertyDescriptions:[],events:[],interactions:[],unsetPropertyValues:{}};t.EMPTY_CONTAINER_DESIGN_INFO={layoutPropertyDescriptions:[]};(0,r.buildNativeClass)("anvil.AnvilMagicDescriptor",{constructor:function(e){this.key=e},slots:{tp$descr_get(e,t){var n;if(null!=e?n=e[this.key]:null!=t&&(n=t.prototype[this.key]),n)return(0,r.toPy)(n)},tp$descr_set(e,t,n){throw new r.pyAttributeError("readonly")}}});var v=(0,r.buildNativeClass)("anvil.Component",{constructor:function(){},slots:{tp$new(e,t){var n=this.constructor,r=new n,{_ComponentClass:{allowedEvents:i,providesHooksInPython:a}}=n;return r._Component={allowedEvents:i,eventHandlers:{},tag:new l,defaultDepId:c,pageState:{ancestorsMounted:!1,ancestorsVisible:!1,currentlyMounted:!1,currentlyVisible:!0,addedFired:!1,shownFired:!1},fallbackDomElement:null},c=void 0,(0,o.setupInstanceHooks)(r,n),p&&(p(r),p=void 0),r}},classmethods:{__init_subclass__:{$meth(e,t){return f(this)},$flags:{FastCall:!0}}},proto:{anvil$hookSpec:{setupDom(){var e,t;return null!==(t=(e=this._Component).fallbackDomElement)&&void 0!==t?t:e.fallbackDomElement=document.createElement("div")},getDomElement(){var e,t;return null!==(t=(e=this._Component).fallbackDomElement)&&void 0!==t?t:e.fallbackDomElement=document.createElement("div")},getProperties:()=>[],getEvents:()=>[],getInteractions:()=>[],getUnsetPropertyValues:()=>({})},$verifyEventName(e,t){var{allowedEvents:n}=this._Component;if(!Sk.builtin.checkString(e))throw new Sk.builtin.TypeError("expected the first argument to be a string");var r=e.toString();if(r.startsWith("x-")||n.has(r))return r;throw new Sk.builtin.ValueError("Cannot ".concat(t," for unknown event '").concat(r,"' on ").concat(this.tp$name," component. Custom event names must start with 'x-'."))},$verifyCallable(e,t){if(!Sk.builtin.checkCallable(t))throw new Sk.builtin.TypeError("The '".concat(e,"' event handler added to ").concat(this.tp$name," must be a callable, not type '").concat(Sk.abstr.typeName(t),"'"))},anvilComponent$setParent(e,t){var n,{onRemove:i,setVisibility:o,isMounted:a=!0}=t;this._Component.parent={pyParent:e,remove:[i],setVisibility:o};var l,s,c=this._Component.pageState;g(this)?n=null!==(l=null===(s=this._withLayout._pyLayout)||void 0===s?void 0:s._Component.pageState.currentlyVisible)&&void 0!==l?l:c.currentlyVisible:n=c.currentlyVisible;n||null==o||o(n);var p=e._Component.pageState;return c.ancestorsVisible=p.ancestorsVisible&&p.currentlyVisible,c.ancestorsMounted=p.ancestorsMounted&&p.currentlyMounted,a?(0,r.chainOrSuspend)(r.pyNone,...w(this,e)):r.pyNone},anvilComponent$onRemove(e){var t;null===(t=this._Component.parent)||void 0===t||t.remove.push(e)}},methods:{
/*!defBuiltinMethod(,event_name,handler_func:callable)!2*/
set_event_handler:{$meth:function(e,t){var n=this.$verifyEventName(e,"set event handler for");return Sk.builtin.checkNone(t)?delete this._Component.eventHandlers[n]:(this.$verifyCallable(n,t),this._Component.eventHandlers[n]=[t]),Sk.builtin.none.none$},$flags:{MinArgs:2,MaxArgs:2},$doc:"Set a function to call when the 'event_name' event happens on this component. Using set_event_handler removes all other handlers. Setting the handler function to None removes all handlers."},
/*!defBuiltinMethod(,event_name,handler_func:callable)!2*/
add_event_handler:{$meth:function(e,t){var n,r=this.$verifyEventName(e,"set event handler");return this.$verifyCallable(r,t),((n=this._Component.eventHandlers)[r]||(n[r]=[])).push(t),Sk.builtin.none.none$},$flags:{MinArgs:2,MaxArgs:2},$doc:"Add an event handler function to be called when the event happens on this component. Event handlers will be called in the order they are added. Adding the same event handler multiple times will mean it gets called multiple times."},
/*!defBuiltinMethod(,event_name,[handler_func:callable])!2*/
remove_event_handler:{$meth:function(e,t){var n=this.$verifyEventName(e,"remove event handler");if(void 0===t)return delete this._Component.eventHandlers[n],Sk.builtin.none.none$;this.$verifyCallable(n,t);var i=this._Component.eventHandlers[n];if(void 0===i)throw new Sk.builtin.LookupError("event handler '".concat(t,"' was not found in '").concat(n,"' event handlers for this component"));var o=i.filter((e=>e!==t&&Sk.misceval.richCompareBool(e,t,"NotEq")));if(o.length===i.length)throw new Sk.builtin.LookupError("event handler '".concat(t,"' was not found in '").concat(n,"' event handlers for this component"));return o.length?this._Component.eventHandlers[n]=o:delete this._Component.eventHandlers[n],r.pyNone},$flags:{MinArgs:1,MaxArgs:2},$doc:"Remove a specific event handler function for a given event. Calling remove_event_handler with just the event name will remove all the handlers for this event"},
/*!defBuiltinMethod(,event_name,**event_args)!2*/
raise_event:{$meth:function(e,t){(0,r.checkOneArg)("raise_event",e);var n=this.$verifyEventName(e[0],"raise event");return(0,r.chainOrSuspend)(r.pyNone,...y(this,n,t))},$flags:{FastCall:!0},$doc:"Trigger the event on this component. Any keyword arguments are passed to the handler function."},
/*!defBuiltinMethod(_)!2*/
remove_from_parent:{$meth:function(){var e=this._Component.parent,t=[];if(e){for(var n of(delete this._Component.parent,e.remove))t.push(n);var i=this._Component.pageState;i.currentlyMounted&&t.push(...C(this,e.pyParent)),i.ancestorsMounted=!1,i.ancestorsVisible=!1}return(0,r.chainOrSuspend)(null,...t,(()=>r.pyNone))},$flags:{NoArgs:!0},$doc:"Remove this component from its parent container."},_notify_mounted_by_parent:{$meth(e,t){return O(this,(0,r.isTrue)(e),(0,r.isTrue)(t))},$flags:{NamedArgs:[null,"root"],Defaults:[r.pyFalse]},$doc:"Notify this component, and all its children, that it has been mounted by its parent"},_notify_visibility_change:{$meth(e){return P(this,(0,r.isTrue)(e))},$flags:{OneArg:!0},$doc:"Notify the component's parent and children that its visible status has changed"},
/*!defBuiltinMethod(,smooth=False)!2*/
scroll_into_view:{$meth:function(e){var t={behavior:(0,r.isTrue)(e)?"smooth":"instant",block:"center",inline:"center"};return(0,r.chainOrSuspend)(this.anvil$hooks.setupDom(),(e=>(e.scrollIntoView(t),r.pyNone)))},$flags:{NamedArgs:["smooth"],Defaults:[Sk.builtin.bool.false$]},$doc:"Scroll the window to make sure this component is in view."},
/*!defBuiltinMethod(tuple_of_event_handlers, event_name)!2*/
get_event_handlers:{$meth:function(e){return e=this.$verifyEventName(e,"get event handlers"),new Sk.builtin.tuple(this._Component.eventHandlers[e]||[])},$flags:{OneArg:!0},$doc:"Get the current event_handlers for a given event_name"}},getsets:{parent:{$get(){return a(this)||Sk.builtin.none.none$},$set(){throw new Sk.builtin.AttributeError("Cannot set a '"+this.tp$name+"' component's parent this way - use 'add_component' on the container instead")}},__name__:{$get(){return Sk.abstr.lookupSpecial(this.ob$type,Sk.builtin.str.$name)}},tag:{$get(){return this._Component.tag},$set(e){this._Component.tag=null!=e?e:new l},$doc:"Use this property to store any extra information about this component"}},flags:{sk$klass:!0}});t.Component=v,f(v);t.getComponentParent=e=>v.prototype.parent.tp$descr_get(e,null);var m=(e,t,n)=>(0,r.pyCallOrSuspend)(e.tp$getattr(i.s_raise_event),[t],n);t.raiseEventOrSuspend=m;
/*!defClass(anvil,Component)!*/
t.addEventHandler=(e,t,n)=>(0,r.pyCallOrSuspend)(e.tp$getattr(i.s_add_event_handler),[t,(0,i.funcFastCall)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,r.chainOrSuspend)(n(t),(()=>r.pyNone))}))]);var h=e=>(0,r.pyCall)(e.tp$getattr(i.s_get_components),[]).valueOf(),_=e=>!!(0,r.lookupSpecial)(e,i.s_get_components),g=e=>!!e._withLayout;function y(e,t,n){var o,a=null!==(o=e._Component.eventHandlers[t])&&void 0!==o?o:[],l=(0,i.kwsToObj)(n);return l.sender=e,l.event_name=new r.pyStr(t),a.map((e=>()=>(0,r.pyCallOrSuspend)(e,[],(0,i.objToKws)(l))))}function b(e){var t=e._Component.pageState;return!(!(t.currentlyMounted&&t.ancestorsMounted&&t.ancestorsVisible&&t.currentlyVisible)||t.shownFired)&&(t.shownFired=!0,!0)}function k(e){var t=e._Component.pageState;return!!t.shownFired&&(t.shownFired=!1,!0)}function S(e,t,n){var r,i,o;t(e,n)&&(_(e)?o=h(e):g(e)&&(o=e._withLayout.pyLayout?[e._withLayout.pyLayout]:null),null===(r=o)||void 0===r||null===(i=r.forEach)||void 0===i||i.call(r,(n=>S(n,t,e))))}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e._Component.pageState;if(n.currentlyMounted=!0,t){if(!n.ancestorsMounted)return[]}else n.ancestorsMounted=!0,n.ancestorsVisible=!0;var r=[],i=[],o=[];return S(e,((e,t)=>{var n=e._Component.pageState;if(t){n.ancestorsMounted=!0;var a=t._Component.pageState;if(n.ancestorsVisible=a.ancestorsVisible&&a.currentlyVisible,!n.currentlyMounted)return!1}return function(e){var t=e._Component.pageState;return!(!t.currentlyMounted||!t.ancestorsMounted||t.addedFired||(t.addedFired=!0,0))}(e)&&(r.push(...y(e,"x-anvil-page-added")),o.push(...y(e,"x-anvil-classic-show"))),b(e)&&i.push(...y(e,"x-anvil-page-shown")),!0}),null),o.reverse(),[...r,...i,...o]}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e._Component.pageState;if(n.currentlyMounted=!1,t){if(!n.ancestorsMounted)return[]}else n.ancestorsMounted=!1,n.ancestorsVisible=!1;var r=[],i=[],o=[];return S(e,((e,t)=>{var n=e._Component.pageState;return!(t&&(n.ancestorsMounted=!1,n.ancestorsVisible=!1,!n.currentlyMounted))&&(k(e)&&i.push(...y(e,"x-anvil-page-hidden")),function(e){var t=e._Component.pageState;return!!t.addedFired&&(t.addedFired=!1,!0)}(e)&&(r.push(...y(e,"x-anvil-page-removed")),o.push(...y(e,"x-anvil-classic-hide"))),!0)}),null),[...i,...r,...o]}function O(e,t){var n,i,o,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=null!==(n=null===(i=e._Component.parent)||void 0===i?void 0:i.pyParent)&&void 0!==n?n:null,s=(0,r.isTrue)(a);return l||s?t===e._Component.pageState.currentlyMounted?r.pyNone:(o=t?w(e,s?null:l):C(e,s?null:l),(0,r.chainOrSuspend)(r.pyNone,...o)):r.pyNone}function P(e,t){var n,i;t=(0,r.isTrue)(t);var o=e._Component.pageState;if(o.currentlyVisible===t)return r.pyNone;o.currentlyVisible=t;var a,l=null===(n=null!==(i=e._Component.portalParent)&&void 0!==i?i:e._Component.parent)||void 0===n?void 0:n.setVisibility;return null==l||l(t),a=t?function(e){var t=e._Component.pageState;if(t.currentlyVisible=!0,!t.ancestorsVisible)return[];var n=[],r=[];return S(e,((e,t)=>{var i=e._Component.pageState;return!(t&&(i.ancestorsVisible=!0,!i.currentlyVisible)||(b(e)&&(n.push(...y(e,"x-anvil-page-shown")),r.push(...y(e,"x-anvil-classic-show"))),0))}),null),[...n,...r]}(e):function(e){var t=e._Component.pageState;if(t.currentlyVisible=!1,!t.ancestorsVisible)return[];var n=[];return S(e,((e,t)=>{var r=e._Component.pageState;return!(t&&(r.ancestorsVisible=!1,!r.currentlyVisible)||(k(e)&&n.push(...y(e,"x-anvil-page-hidden")),0))}),null),n}(e),(0,r.chainOrSuspend)(r.pyNone,...a)}},function(e,t,n){"use strict";var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(0),n(9),n(3),n(20),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.defer=function(){var e={resolve:()=>{},reject:()=>{}};return e.promise=new Promise(((t,n)=>{e.resolve=t,e.reject=n})),e},t.wait=function(e){return new Promise((t=>setTimeout(t,e)))},t.getRandomStr=function(e){for(var t="",n=0;n<e;n++)t+=String.fromCharCode(65+Math.floor(26*Math.random()));return t},t.PostponedResizeObserver=t.ResizeObserverPolyfill=t.globalSuppressLoading=t.generateUUID=void 0;var o=window.crypto.randomUUID?()=>window.crypto.randomUUID():function(){var e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))};t.generateUUID=o;var a={value:0,inc(){this.value++},dec(){this.value--}};t.globalSuppressLoading=a;var l=null!==(r=window.ResizeObserver)&&void 0!==r?r:class{constructor(e){i(this,"target",null),i(this,"prev",null),i(this,"cb",void 0),i(this,"mo",void 0),this.cb=()=>{this._is_resized()&&e()},this.mo=new MutationObserver((t=>{for(var n of t)if("style"===n.attributeName&&this._is_resized())return e()}))}_is_resized(){var e=this.target;if(null===e)return this.prev=null,!1;var t="".concat(e.style.width,":").concat(e.style.height,":").concat(e.clientWidth,":").concat(e.clientHeight);return t!==this.prev&&(this.prev=t,!0)}observe(e){this.target=e,this.mo.observe(e,{attributes:!0,attributeFilter:["style"]}),$(window).on("resize",this.cb)}unobserve(){this.disconnect()}disconnect(){this.target=null,this.mo.disconnect(),$(window).off("resize",this.cb)}};t.ResizeObserverPolyfill=l;t.PostponedResizeObserver=class extends l{constructor(e){super((()=>{this._init?this._init=!1:(clearTimeout(this._t),this._t=setTimeout(e,50))})),i(this,"_init",!0),i(this,"_t",void 0)}observe(e){super.observe(e),setTimeout((()=>{this._init=!1}))}disconnect(){super.disconnect(),this._init=!0}}},function(e,t,n){var r=n(21),i=n(180),o=n(34),a=n(181),l=n(186),s=n(254),c=i("wks"),p=r.Symbol,u=s?p:p&&p.withoutSetter||a;e.exports=function(e){return o(c,e)||(l&&o(p,e)?c[e]=p[e]:c[e]=u("Symbol."+e)),c[e]}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r,i,o,a=n(197),l=n(5),s=n(16),c=n(23),p=n(14),u=n(83),d=n(84),f=n(85),v=l.WeakMap;if(a){var m=u.state||(u.state=new v),h=m.get,_=m.has,g=m.set;r=function(e,t){return t.facade=e,g.call(m,e,t),t},i=function(e){return h.call(m,e)||{}},o=function(e){return _.call(m,e)}}else{var y=d("state");f[y]=!0,r=function(e,t){return t.facade=e,c(e,y,t),t},i=function(e){return p(e,y)?e[y]:{}},o=function(e){return p(e,y)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!s(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){"use strict";n(13),n(0),n(55),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.Container=t.validateChild=void 0;var r=n(41),i=n(4),o=n(6),a=n(26),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add_component";if(!(0,a.isComponent)(e))throw new i.pyTypeError("Argument to ".concat(t," must be a component, not ")+(0,i.typeName)(e));if((0,a.getPyParent)(e))throw new i.pyValueError("This component is already added to a container, call remove_from_parent() first");if(r.topLevelForms.has(e)){var n=r.topLevelForms.openForm===e?"is the open_form":"is already inside an alert";throw new i.pyValueError("This component ".concat(n," and cannot be added to a container"))}};t.validateChild=l;var s=Sk.abstr.buildNativeClass("anvil.Container",{constructor:function(){},base:a.Component,methods:{clear:{$meth(){var e=(0,i.pyCall)(this.tp$getattr(o.s_get_components)).valueOf().map((e=>()=>(0,i.pyCallOrSuspend)(e.tp$getattr(o.s_remove_from_parent))));return(0,i.chainOrSuspend)(i.pyNone,...e)},$flags:{NoArgs:!0}},raise_event_on_children:{$meth(e,t){(0,i.checkOneArg)("raise_event_on_children",e);var n=e[0];if(!(0,i.checkString)(n))throw new i.pyTypeError("event_name must be a string");var r=(0,i.pyCall)(this.tp$getattr(o.s_get_components)).valueOf().map((e=>()=>(0,i.pyCallOrSuspend)(e.tp$getattr(o.s_raise_event),[n],t)));return(0,i.chainOrSuspend)(null,...r)},$flags:{FastCall:!0}},get_components:{$meth(){var e;return new i.pyList([...null!==(e=this._Container.components)&&void 0!==e?e:[]])},$flags:{NoArgs:!0}},add_component:{$meth(e,t){var n;(0,i.checkOneArg)("add_component",e);var r=e[0],[o,a,s,c]=(0,i.copyKeywordsToNamedArgs)("add_component",["on_remove","on_set_visibility","mounted","index"],[],t,[i.pyNone,i.pyNone,i.pyTrue,i.pyNone]);if(c!==i.pyNone&&!(0,i.checkInt)(c))throw new i.pyValueError("Container.add_component(): index must be an integer or None");l(r);var p=this._Container.components;null==p||p.splice(null!==(n=(0,i.toJs)(c))&&void 0!==n?n:p.length,0,r);var u=p&&(()=>{var e=p.indexOf(r);-1!==e&&p.splice(e,1)}),d=null!=u?u:()=>null;if(o!==i.pyNone){if(!(0,i.checkCallable)(o))throw new i.pyValueError("Container.add_component(): the on_remove argument must be None or a function, not ".concat(Sk.abstr.typeName(o)));d=()=>(null==u||u(),(0,i.pyCall)(o,[]))}else d=()=>{var e;null==u||u(),null===(e=r.anvil$hooks.domElement)||void 0===e||e.remove()};var f=void 0;if(a!==i.pyNone){if(!(0,i.checkCallable)(a))throw new i.pyValueError("Container.add_component(): the on_set_visibility argument must be None or a function, not ".concat(Sk.abstr.typeName(a)));f=e=>(0,i.pyCall)(a,[e?i.pyTrue:i.pyFalse])}return r.anvilComponent$setParent(this,{onRemove:d,setVisibility:f,isMounted:(0,i.isTrue)(s)})},$flags:{FastCall:!0}}},classmethods:{validate_child:{$meth:e=>(l(e),i.pyNone),$flags:{OneArg:!0}},__init_subclass__:{$meth(e,t){p(this);var n=new i.pySuper(s,this).tp$getattr(o.s_init_subclass);return(0,i.pyCallOrSuspend)(n,e,t)},$flags:{FastCall:!0}}},flags:{sk$solidBase:!1}});t.Container=s;var c=(0,i.typeLookup)(s,o.s_get_components);function p(e){var t=e.$typeLookup(o.s_get_components)===c,n=e.prototype;Object.defineProperty(n,"_Container",{get(){return this===n?{}:(Object.defineProperty(this,"_Container",{value:{},writable:!0}),t&&(this._Container.components=[]),this._Container)},configurable:!0})}p(s),(0,o.initNativeSubclass)(s)},function(e,t,n){var r=n(29);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";var r,i=n(12),o=n(52).f,a=n(15),l=n(111),s=n(29),c=n(112),p=n(36),u="".startsWith,d=Math.min,f=c("startsWith");i({target:"String",proto:!0,forced:!!(p||f||(r=o(String.prototype,"startsWith"),!r||r.writable))&&!f},{startsWith:function(e){var t=String(s(this));l(e);var n=a(d(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return u?u.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(44);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t){e.exports=!1},function(e,t,n){"use strict";var r=n(93),i=n(109),o=n(11),a=n(29),l=n(91),s=n(113),c=n(15),p=n(95),u=n(72),d=n(8),f=[].push,v=Math.min,m=4294967295,h=!d((function(){return!RegExp(m,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(a(this)),o=void 0===n?m:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,o);for(var l,s,c,p=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,h=new RegExp(e.source,d+"g");(l=u.call(h,r))&&!((s=h.lastIndex)>v&&(p.push(r.slice(v,l.index)),l.length>1&&l.index<r.length&&f.apply(p,l.slice(1)),c=l[0].length,v=s,p.length>=o));)h.lastIndex===l.index&&h.lastIndex++;return v===r.length?!c&&h.test("")||p.push(""):p.push(r.slice(v)),p.length>o?p.slice(0,o):p}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=a(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(String(i),t,n)},function(e,i){var a=n(r,e,this,i,r!==t);if(a.done)return a.value;var u=o(e),d=String(this),f=l(u,RegExp),_=u.unicode,g=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(h?"y":"g"),y=new f(h?u:"^(?:"+u.source+")",g),b=void 0===i?m:i>>>0;if(0===b)return[];if(0===d.length)return null===p(y,d)?[d]:[];for(var k=0,S=0,w=[];S<d.length;){y.lastIndex=h?S:0;var C,O=p(y,h?d:d.slice(S));if(null===O||(C=v(c(y.lastIndex+(h?0:S)),d.length))===k)S=s(d,S,_);else{if(w.push(d.slice(k,S)),w.length===b)return w;for(var P=1;P<=O.length-1;P++)if(w.push(O[P]),w.length===b)return w;S=k=C}}return w.push(d.slice(k)),w}]}),!h)},function(e,t,n){"use strict";var r=n(93),i=n(11),o=n(15),a=n(29),l=n(113),s=n(95);r("match",1,(function(e,t,n){return[function(t){var n=a(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var a=i(e),c=String(this);if(!a.global)return s(a,c);var p=a.unicode;a.lastIndex=0;for(var u,d=[],f=0;null!==(u=s(a,c));){var v=String(u[0]);d[f]=v,""===v&&(a.lastIndex=l(c,o(a.lastIndex),p)),f++}return 0===f?null:d}]}))},function(e,t,n){var r=n(199),i=n(5),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o;n(13),n(0),n(54),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.temporaryHackSetupData=function(e){t.data=o=e,window.debugAnvilData=o},t.setData=function(e){var n,a,l,s,c,{app:p,appId:u,appOrigin:d}=e,f=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["app","appId","appOrigin"]),v=Object.fromEntries(Object.entries(p.dependency_code).map((e=>{var[t,{package_name:n}]=e;return[t,n]})).filter((e=>{var[t,n]=e;return void 0!==n})));t.data=o={app:p,appId:u,appOrigin:d,serverParams:f,appPackage:p.package_name||"main_package",dependencyPackages:v,logicalDepIds:p.dependency_ids},window.anvilAppDependencies=o.app.dependency_code,window.anvilAppDependencyIds=o.app.dependency_ids,window.debugAnvilData=o,window.anvilAppMainPackage=o.appPackage,window.anvilParams=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({appId:u,appOrigin:d},f),window.anvilServiceClientConfig=Object.fromEntries((null!==(n=p.services)&&void 0!==n?n:[]).map((e=>{var{source:t,client_config:n}=e;return[t,n]})));var m={},h=(e,t)=>{var{forms:n}=t;if(n)for(var{custom_component:r,class_name:i,properties:o}of n)r&&(m[e+":"+i]=o)};for(var[_,g]of(h(null,p),Object.entries(p.dependency_code)))h(_,g);window.anvilCustomComponentProperties=m,window.anvilThemeColors=null!==(a=null===(l=o.app.theme)||void 0===l?void 0:l.color_scheme)&&void 0!==a?a:{},window.anvilThemeVars=null!==(s=null===(c=o.app.theme)||void 0===c?void 0:c.vars)&&void 0!==s?s:{}},t.getClientConfig=t.topLevelForms=t.data=void 0,t.data=o,window.anvilRuntimeVersion=3;var a={openForm:null,alertForms:new Set,has:e=>a.openForm===e||a.alertForms.has(e)};t.topLevelForms=a;var l={};t.getClientConfig=e=>{if(o){var t,n;if(void 0===e||e===o.appPackage)return null!==(t=null===(n=o.app.config)||void 0===n?void 0:n.client)&&void 0!==t?t:l;for(var r of Object.values(null!==(i=null===(a=o.app)||void 0===a?void 0:a.dependency_code)&&void 0!==i?i:{})){var i,a,s,c;if(e===r.package_name)return null!==(s=null===(c=r.config)||void 0===c?void 0:c.client)&&void 0!==s?s:l}throw new Error("Package '".concat(e,"' is not part of this app."))}}},function(e,t,n){var r=n(24);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){"use strict";n(0),n(19),n(20),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.setElementVisibility=function(e,t){t?e.removeAttribute("anvil-visible-false"):e.setAttribute("anvil-visible-false","")},Object.defineProperty(t,"getUnsetMargin",{enumerable:!0,get:function(){return r.getUnsetMargin}}),Object.defineProperty(t,"getUnsetPadding",{enumerable:!0,get:function(){return r.getUnsetPadding}}),Object.defineProperty(t,"getUnsetSpacing",{enumerable:!0,get:function(){return r.getUnsetSpacing}}),Object.defineProperty(t,"getUnsetValue",{enumerable:!0,get:function(){return r.getUnsetValue}}),t.setElementSpacing=t.setElementPadding=t.setElementMargin=t.styleObjectToString=t.getSpacingStyles=t.getPaddingStyles=t.getMarginStyles=void 0;var r=n(173);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=e=>(0,r.getSpacingObject)(e,"margin");t.getMarginStyles=l;var s=e=>(0,r.getSpacingObject)(e,"padding");t.getPaddingStyles=s;var c=e=>o(o({},(0,r.getSpacingObject)(null==e?void 0:e.margin,"margin")),(0,r.getSpacingObject)(null==e?void 0:e.padding,"padding"));t.getSpacingStyles=c;t.styleObjectToString=e=>{var t=Object.entries(e).map((e=>{var[t,n]=e;return"".concat(t.replace(/([A-Z])/g,"-$1").toLowerCase(),": ").concat(n)})).join("; ");return t?t+";":""};t.setElementMargin=(e,t)=>Object.assign(e.style,l(t));t.setElementPadding=(e,t)=>Object.assign(e.style,s(t));t.setElementSpacing=(e,t)=>Object.assign(e.style,c(t))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(22).f,i=n(14),o=n(7)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(59);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){"use strict";var r=n(12),i=n(8),o=n(158),a=n(11),l=n(69),s=n(15),c=n(91),p=o.ArrayBuffer,u=o.DataView,d=p.prototype.slice;r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i((function(){return!new p(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(void 0!==d&&void 0===t)return d.call(a(this),e);for(var n=a(this).byteLength,r=l(e,n),i=l(void 0===t?n:t,n),o=new(c(this,p))(s(i-r)),f=new u(this),v=new u(o),m=0;r<i;)v.setUint8(m++,f.getUint8(r++));return o}})},function(e,t,n){var r=n(42),i=n(179),o=n(35),a=n(141),l=Object.defineProperty;t.f=r?l:function(e,t,n){if(o(e),t=a(t,!0),o(n),i)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(42),i=n(50),o=n(103);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(18),i=n(119),o=n(45),a=n(58),l=n(68),s=n(14),c=n(120),p=Object.getOwnPropertyDescriptor;t.f=r?p:function(e,t){if(e=a(e),t=l(t,!0),c)try{return p(e,t)}catch(e){}if(s(e,t))return o(!i.f.call(e,t),e[t])}},function(e,t){e.exports={}},function(e,t,n){var r=n(12),i=n(154),o=n(88);r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,n){o(t,e,n)}),{AS_ENTRIES:!0}),t}})},function(e,t,n){"use strict";var r=n(12),i=n(69),o=n(40),a=n(15),l=n(32),s=n(172),c=n(88),p=n(204),u=n(150),d=p("splice"),f=u("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,m=Math.min,h=9007199254740991,_="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!d||!f},{splice:function(e,t){var n,r,p,u,d,f,g=l(this),y=a(g.length),b=i(e,y),k=arguments.length;if(0===k?n=r=0:1===k?(n=0,r=y-b):(n=k-2,r=m(v(o(t),0),y-b)),y+n-r>h)throw TypeError(_);for(p=s(g,r),u=0;u<r;u++)(d=b+u)in g&&c(p,u,g[d]);if(p.length=r,n<r){for(u=b;u<y-r;u++)f=u+n,(d=u+r)in g?g[f]=g[d]:delete g[f];for(u=y;u>y-r+n;u--)delete g[u-1]}else if(n>r)for(u=y-r;u>b;u--)f=u+n-1,(d=u+r-1)in g?g[f]=g[d]:delete g[f];for(u=0;u<n;u++)g[u+b]=arguments[u+2];return g.length=y-r+n,p}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInvisibleComponent=function(e){var t,n;return null===(t=e._anvil)||void 0===t||null===(n=t.metadata)||void 0===n?void 0:n.invisible}},function(e,t,n){var r=n(21),i=n(140).f,o=n(51),a=n(96),l=n(142),s=n(182),c=n(232);e.exports=function(e,t){var n,p,u,d,f,v=e.target,m=e.global,h=e.stat;if(n=m?r:h?r[v]||l(v,{}):(r[v]||{}).prototype)for(p in t){if(d=t[p],u=e.noTargetGet?(f=i(n,p))&&f.value:n[p],!c(m?p:v+(h?".":"#")+p,e.forced)&&void 0!==u){if(typeof d==typeof u)continue;s(d,u)}(e.sham||u&&u.sham)&&o(d,"sham",!0),a(n,p,d,e)}}},function(e,t,n){var r=n(97),i=n(29);e.exports=function(e){return r(i(e))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){var r=n(75),i=n(53),o=n(7)("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){"use strict";var r=n(12),i=n(111),o=n(29);r({target:"String",proto:!0,forced:!n(112)("includes")},{includes:function(e){return!!~String(o(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){"use strict";var r=n(12),i=n(18),o=n(5),a=n(14),l=n(16),s=n(22).f,c=n(148),p=o.Symbol;if(i&&"function"==typeof p&&(!("description"in p.prototype)||void 0!==p().description)){var u={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new p(e):void 0===e?p():p(e);return""===e&&(u[t]=!0),t};c(d,p);var f=d.prototype=p.prototype;f.constructor=d;var v=f.toString,m="Symbol(test)"==String(p("test")),h=/^Symbol\((.*)\)[^)]+$/;s(f,"description",{configurable:!0,get:function(){var e=l(this)?this.valueOf():this,t=v.call(e);if(a(u,e))return"";var n=m?t.slice(7,-1):t.replace(h,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:d})}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){n(286)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){"use strict";var r=n(5),i=n(114),o=n(8),a=r.Int8Array,l=i.aTypedArray,s=i.exportTypedArrayMethod,c=[].toLocaleString,p=[].slice,u=!!a&&o((function(){c.call(new a(1))}));s("toLocaleString",(function(){return c.apply(u?p.call(l(this)):l(this),arguments)}),o((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!o((function(){a.prototype.toLocaleString.call([1,2])})))},function(e,t,n){"use strict";var r=n(12),i=n(36),o=n(153),a=n(8),l=n(39),s=n(91),c=n(156),p=n(25);r({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=s(this,l("Promise")),n="function"==typeof e;return this.then(n?function(n){return c(t,e()).then((function(){return n}))}:e,n?function(n){return c(t,e()).then((function(){throw n}))}:e)}}),i||"function"!=typeof o||o.prototype.finally||p(o.prototype,"finally",l("Promise").prototype.finally)},function(e,t,n){var r=n(16);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(40),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},function(e,t,n){var r,i=n(11),o=n(125),a=n(87),l=n(85),s=n(127),c=n(80),p=n(84),u="prototype",d="script",f=p("IE_PROTO"),v=function(){},m=function(e){return"<"+d+">"+e+"</"+d+">"},h=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t,n;h=r?function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):(t=c("iframe"),n="java"+d+":",t.style.display="none",s.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(m("document.F=Object")),e.close(),e.F);for(var i=a.length;i--;)delete h[u][a[i]];return h()};l[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(v[u]=i(e),n=new v,v[u]=null,n[f]=e):n=h(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(11),i=n(203);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},function(e,t,n){"use strict";var r,i,o=n(110),a=n(157),l=RegExp.prototype.exec,s=String.prototype.replace,c=l,p=(r=/a/,i=/b*/g,l.call(r,"a"),l.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),u=a.UNSUPPORTED_Y||a.BROKEN_CARET,d=void 0!==/()??/.exec("")[1];(p||d||u)&&(c=function(e){var t,n,r,i,a=this,c=u&&a.sticky,f=o.call(a),v=a.source,m=0,h=e;return c&&(-1===(f=f.replace("y","")).indexOf("g")&&(f+="g"),h=String(e).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==e[a.lastIndex-1])&&(v="(?: "+v+")",h=" "+h,m++),n=new RegExp("^(?:"+v+")",f)),d&&(n=new RegExp("^"+v+"$(?!\\s)",f)),p&&(t=a.lastIndex),r=l.call(c?n:a,h),c?r?(r.input=r.input.slice(m),r[0]=r[0].slice(m),r.index=a.lastIndex,a.lastIndex+=r[0].length):a.lastIndex=0:p&&r&&(a.lastIndex=a.global?r.index+r[0].length:t),d&&r&&r.length>1&&s.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),e.exports=c},function(e,t,n){"use strict";var r=n(12),i=n(5),o=n(158),a=n(90),l="ArrayBuffer",s=o[l];r({global:!0,forced:i[l]!==s},{ArrayBuffer:s}),a(l)},function(e,t,n){var r=n(14),i=n(32),o=n(84),a=n(202),l=o("IE_PROTO"),s=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=i(e),r(e,l)?e[l]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){var r=n(205),i=n(46),o=n(7)("toStringTag"),a="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){"use strict";n(0),n(9),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.deleteOutstandingRequest=O,t.createRequestTemplate=P,t.waitForOutstandingRequests=x,t.doRpcCall=function(e,t,n,r){var o,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i.globalSuppressLoading.value>0,s=arguments.length>5?arguments[5]:void 0,[c,p,u]=P(e,t,n,r,l),{deferred:d}=c;null!==(o=s)&&void 0!==o||(s=A),s(c,p,u,l);var f=(0,a.promiseToSuspension)(d.promise);return f.data.serverRequestId=c.id,f},t.incHeartbeatCount=t.setModifyOutgoingServerCall=t.setOnServerCallResponse=t.registerServerCallSuspension=t.reloadEnvOnNextCall=t.getNumOutstandingRequests=t.modifyOutgoingServerCall=t.onServerCallResponse=t.requestSuspensions=t.outstandingRequests=void 0;var r,i=n(27),o=n(6),a=n(4),l=(r=n(1))&&r.__esModule?r:{default:r},s=n(118),c=n(338),p=n(229),u=n(162),d=n(231);function f(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){f(o,r,i,a,l,"next",e)}function l(e){f(o,r,i,a,l,"throw",e)}a(void 0)}))}}var m={};t.outstandingRequests=m;var h={};t.requestSuspensions=h;var _=null;t.onServerCallResponse=_;var g=null;t.modifyOutgoingServerCall=g;var y=()=>Object.keys(m).length;t.getNumOutstandingRequests=y;var b,k=!1;t.reloadEnvOnNextCall=()=>{k=!0};var S=0;t.registerServerCallSuspension=e=>{h[e.data.serverRequestId]=e};t.setOnServerCallResponse=e=>{t.onServerCallResponse=_=e};function w(){return C.apply(this,arguments)}function C(){return(C=v((function*(){try{yield E({type:"CALL",id:"client-keepalive-"+S++,command:"anvil.private.echo",args:["keep-alive"],kwargs:{}})}catch(e){}b=void 0,y()>0&&(b=setTimeout(w,3e4))}))).apply(this,arguments)}t.setModifyOutgoingServerCall=e=>{t.modifyOutgoingServerCall=g=e};function O(e){delete m[e],delete h[e],0==Object.keys(m).length&&(clearTimeout(b),b=void 0)}function P(e,t,n,r,u){var d,f=l.default.keywordArrayToHashMap(e),v=(0,i.generateUUID)(),m=(0,c.profileStart)("RPC Request"),h=m.append("Call mapping"),_=[],y={},b=[],S={type:"CALL",id:v,args:t,kwargs:f};null===(d=g)||void 0===d||d(S),k&&(S.reload_env=!0,k=!1);var w,C,P=(0,p.serialize)(S,v,{knownCapabilities:_,knownLiveObjectMethods:{},knownLiveObjectInstances:y,blobContent:b,liveObjectSpec:r,commandOrMethod:n});((0,s.diagnosticRequest)({id:v,call:P.command||P.liveObjectCall.backend+":"+P.liveObjectCall.method}),h.end(),u)||(null===(w=(C=window).setLoading)||void 0===w||w.call(C,!0));var x,T=(0,i.defer)(),E={id:v,media:{},deferred:T,suppressLoading:u,knownLiveObjectInstances:y,knownCapabilities:_,onerror(e){var t,n;u||null===(t=(n=window).setLoading)||void 0===t||t.call(n,!1),O(v),console.error("Websocket connection failed",e);var r="Connection to server failed (".concat(e&&(e.code||e.message||e.type)||"FAIL",")");T.reject(l.default.pyCall(o.anvilServerMod.AppOfflineError,[new a.pyStr(r)]))},profile:m};b.length>0&&(x=m.append("Realise blobs"));var $=(0,i.defer)();return Promise.all(P.objects).then((e=>{var t,n;null===(t=x)||void 0===t||t.end(),P.objects=e,console.debug("RPC request: ".concat(null!==(n=P.command)&&void 0!==n?n:P.liveObjectCall.backend+":"+P.liveObjectCall.method),P),$.resolve(P)})).catch((e=>{$.reject(e)})),[E,$.promise,b]}function x(e){return T.apply(this,arguments)}function T(){return(T=v((function*(e){var t,n;for(var{deferred:r}of Object.values(m)){var i;null!==(i=n)&&void 0!==i||(n=e.append("Waiting for ".concat(y()," previous call(s) to complete")));try{yield r.promise}catch(e){}}null===(t=n)||void 0===t||t.end()}))).apply(this,arguments)}t.incHeartbeatCount=()=>S++;function E(e,t,n,r){return $.apply(this,arguments)}function $(){return($=v((function*(e,t,n,r){var i=yield(0,u.connect)(n);r&&(r.ws=i);var o=null==n?void 0:n.append("Send to websocket"),a=null==o?void 0:o.append("Send JSON Data");if(i.send(JSON.stringify(e)),s.diagnosticData.nSent++,null==a||a.end(),t){var l=null==o?void 0:o.append("Send blob data");i.send(t),null==l||l.end()}yield new Promise((e=>{var t=()=>{0==i.bufferedAmount?(null==o||o.end(),e(null)):setTimeout(t,1)};setTimeout(t,1)}))}))).apply(this,arguments)}function j(){return(j=v((function*(e,t,n){var r,i,{profile:o,id:a}=e,l=o.append("Send call");for(var s of(yield x(l),m[a]=e,yield E(t,null,l,e),l.end(),b||(b=setTimeout(w,3e4)),n)){var c;for(var p of(null!==(c=i)&&void 0!==c||(i=o.append("Send blobs")),s))yield E(p.json,p.data,i,e)}null===(r=i)||void 0===r||r.end()}))).apply(this,arguments)}var A=function(){var e=v((function*(e,t,n,r){var i,{id:o,deferred:a}=e;try{i=yield t}catch(e){var l,s;return console.error(e),O(o),r||null===(l=(s=window).setLoading)||void 0===l||l.call(s,!1),void a.reject(e)}try{yield function(e,t,n){return j.apply(this,arguments)}(e,i,n)}catch(i){if(console.error(i),i instanceof u.WebsocketFallback)return console.log("Falling back to HTTP"),A=d.executeCallHttp,O(o),(0,d.executeCallHttp)(e,t,n,r)}}));return function(t,n,r,i){return e.apply(this,arguments)}}()},function(e,t,n){var r=n(178),i=n(62);e.exports=function(e){return r(i(e))}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(106),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(5),i=n(16),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t,n){var r=n(5),i=n(23);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(83),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},function(e,t,n){var r=n(5),i=n(81),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},function(e,t,n){var r=n(121),i=n(98),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t){e.exports={}},function(e,t,n){var r=n(122),i=n(87).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){"use strict";var r=n(68),i=n(22),o=n(45);e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},function(e,t,n){var r=n(39);e.exports=r("navigator","userAgent")||""},function(e,t,n){"use strict";var r=n(39),i=n(22),o=n(7),a=n(18),l=o("species");e.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[l]&&n(t,l,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(11),i=n(59),o=n(7)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},function(e,t,n){var r=n(46),i=n(5);e.exports="process"==r(i.process)},function(e,t,n){"use strict";n(211);var r=n(25),i=n(8),o=n(7),a=n(72),l=n(23),s=o("species"),c=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),p="$0"==="a".replace(/./,"$0"),u=o("replace"),d=!!/./[u]&&""===/./[u]("a","$0"),f=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,u){var v=o(e),m=!i((function(){var t={};return t[v]=function(){return 7},7!=""[e](t)})),h=m&&!i((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[s]=function(){return n},n.flags="",n[v]=/./[v]),n.exec=function(){return t=!0,null},n[v](""),!t}));if(!m||!h||"replace"===e&&(!c||!p||d)||"split"===e&&!f){var _=/./[v],g=n(v,""[e],(function(e,t,n,r,i){return t.exec===a?m&&!i?{done:!0,value:_.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),y=g[0],b=g[1];r(String.prototype,e,y),r(RegExp.prototype,v,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}u&&l(RegExp.prototype[v],"sham",!0)}},function(e,t,n){var r=n(40),i=n(29),o=function(e){return function(t,n){var o,a,l=String(i(t)),s=r(n),c=l.length;return s<0||s>=c?e?"":void 0:(o=l.charCodeAt(s))<55296||o>56319||s+1===c||(a=l.charCodeAt(s+1))<56320||a>57343?e?l.charAt(s):o:e?l.slice(s,s+2):a-56320+(o-55296<<10)+65536}};e.exports={codeAt:o(!1),charAt:o(!0)}},function(e,t,n){var r=n(46),i=n(72);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},function(e,t,n){var r=n(21),i=n(51),o=n(34),a=n(142),l=n(164),s=n(165),c=s.get,p=s.enforce,u=String(String).split("String");(e.exports=function(e,t,n,l){var s,c=!!l&&!!l.unsafe,d=!!l&&!!l.enumerable,f=!!l&&!!l.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),(s=p(n)).source||(s.source=u.join("string"==typeof t?t:""))),e!==r?(c?!f&&e[t]&&(d=!0):delete e[t],d?e[t]=n:i(e,t,n)):d?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||l(this)}))},function(e,t,n){var r=n(8),i=n(46),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t,n){var r=n(8),i=/#|\.prototype\./,o=function(e,t){var n=l[a(e)];return n==c||n!=s&&("function"==typeof t?r(t):!!t)},a=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},l=o.data={},s=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},function(e,t,n){var r=n(25);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){var r=n(7),i=n(53),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},function(e,t,n){"use strict";n(217);var r,i=n(12),o=n(18),a=n(136),l=n(5),s=n(125),c=n(25),p=n(64),u=n(14),d=n(152),f=n(218),v=n(94).codeAt,m=n(220),h=n(47),_=n(221),g=n(30),y=l.URL,b=_.URLSearchParams,k=_.getState,S=g.set,w=g.getterFor("URL"),C=Math.floor,O=Math.pow,P="Invalid scheme",x="Invalid host",T="Invalid port",E=/[A-Za-z]/,$=/[\d+-.A-Za-z]/,j=/\d/,A=/^(0x|0X)/,M=/^[0-7]+$/,N=/^\d+$/,L=/^[\dA-Fa-f]+$/,I=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,D=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,F=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,V=/[\u0009\u000A\u000D]/g,R=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return x;if(!(n=B(t.slice(1,-1))))return x;e.host=n}else if(Y(e)){if(t=m(t),I.test(t))return x;if(null===(n=U(t)))return x;e.host=n}else{if(D.test(t))return x;for(n="",r=f(t),i=0;i<r.length;i++)n+=q(r[i],H);e.host=n}},U=function(e){var t,n,r,i,o,a,l,s=e.split(".");if(s.length&&""==s[s.length-1]&&s.pop(),(t=s.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=s[r]))return e;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=A.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?N:8==o?M:L).test(i))return e;a=parseInt(i,o)}n.push(a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=O(256,5-t))return null}else if(a>255)return null;for(l=n.pop(),r=0;r<n.length;r++)l+=n[r]*O(256,3-r);return l},B=function(e){var t,n,r,i,o,a,l,s=[0,0,0,0,0,0,0,0],c=0,p=null,u=0,d=function(){return e.charAt(u)};if(":"==d()){if(":"!=e.charAt(1))return;u+=2,p=++c}for(;d();){if(8==c)return;if(":"!=d()){for(t=n=0;n<4&&L.test(d());)t=16*t+parseInt(d(),16),u++,n++;if("."==d()){if(0==n)return;if(u-=n,c>6)return;for(r=0;d();){if(i=null,r>0){if(!("."==d()&&r<4))return;u++}if(!j.test(d()))return;for(;j.test(d());){if(o=parseInt(d(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;u++}s[c]=256*s[c]+i,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==d()){if(u++,!d())return}else if(d())return;s[c++]=t}else{if(null!==p)return;u++,p=++c}}if(null!==p)for(a=c-p,c=7;0!=c&&a>0;)l=s[c],s[c--]=s[p+a-1],s[p+--a]=l;else if(8!=c)return;return s},G=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=C(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},H={},J=d({},H,{" ":1,'"':1,"<":1,">":1,"`":1}),z=d({},J,{"#":1,"?":1,"{":1,"}":1}),W=d({},z,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),q=function(e,t){var n=v(e,0);return n>32&&n<127&&!u(t,e)?e:encodeURIComponent(e)},K={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Y=function(e){return u(K,e.scheme)},Z=function(e){return""!=e.username||""!=e.password},X=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Q=function(e,t){var n;return 2==e.length&&E.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ee=function(e){var t;return e.length>1&&Q(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},te=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&Q(t[0],!0)||t.pop()},ne=function(e){return"."===e||"%2e"===e.toLowerCase()},re={},ie={},oe={},ae={},le={},se={},ce={},pe={},ue={},de={},fe={},ve={},me={},he={},_e={},ge={},ye={},be={},ke={},Se={},we={},Ce=function(e,t,n,i){var o,a,l,s,c,p=n||re,d=0,v="",m=!1,h=!1,_=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(F,"")),t=t.replace(V,""),o=f(t);d<=o.length;){switch(a=o[d],p){case re:if(!a||!E.test(a)){if(n)return P;p=oe;continue}v+=a.toLowerCase(),p=ie;break;case ie:if(a&&($.test(a)||"+"==a||"-"==a||"."==a))v+=a.toLowerCase();else{if(":"!=a){if(n)return P;v="",p=oe,d=0;continue}if(n&&(Y(e)!=u(K,v)||"file"==v&&(Z(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=v,n)return void(Y(e)&&K[e.scheme]==e.port&&(e.port=null));v="","file"==e.scheme?p=he:Y(e)&&i&&i.scheme==e.scheme?p=ae:Y(e)?p=pe:"/"==o[d+1]?(p=le,d++):(e.cannotBeABaseURL=!0,e.path.push(""),p=ke)}break;case oe:if(!i||i.cannotBeABaseURL&&"#"!=a)return P;if(i.cannotBeABaseURL&&"#"==a){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,p=we;break}p="file"==i.scheme?he:se;continue;case ae:if("/"!=a||"/"!=o[d+1]){p=se;continue}p=ue,d++;break;case le:if("/"==a){p=de;break}p=be;continue;case se:if(e.scheme=i.scheme,a==r)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==a||"\\"==a&&Y(e))p=ce;else if("?"==a)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",p=Se;else{if("#"!=a){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),p=be;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",p=we}break;case ce:if(!Y(e)||"/"!=a&&"\\"!=a){if("/"!=a){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,p=be;continue}p=de}else p=ue;break;case pe:if(p=ue,"/"!=a||"/"!=v.charAt(d+1))continue;d++;break;case ue:if("/"!=a&&"\\"!=a){p=de;continue}break;case de:if("@"==a){m&&(v="%40"+v),m=!0,l=f(v);for(var g=0;g<l.length;g++){var y=l[g];if(":"!=y||_){var b=q(y,W);_?e.password+=b:e.username+=b}else _=!0}v=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(e)){if(m&&""==v)return"Invalid authority";d-=f(v).length+1,v="",p=fe}else v+=a;break;case fe:case ve:if(n&&"file"==e.scheme){p=ge;continue}if(":"!=a||h){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(e)){if(Y(e)&&""==v)return x;if(n&&""==v&&(Z(e)||null!==e.port))return;if(s=R(e,v))return s;if(v="",p=ye,n)return;continue}"["==a?h=!0:"]"==a&&(h=!1),v+=a}else{if(""==v)return x;if(s=R(e,v))return s;if(v="",p=me,n==ve)return}break;case me:if(!j.test(a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(e)||n){if(""!=v){var k=parseInt(v,10);if(k>65535)return T;e.port=Y(e)&&k===K[e.scheme]?null:k,v=""}if(n)return;p=ye;continue}return T}v+=a;break;case he:if(e.scheme="file","/"==a||"\\"==a)p=_e;else{if(!i||"file"!=i.scheme){p=be;continue}if(a==r)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==a)e.host=i.host,e.path=i.path.slice(),e.query="",p=Se;else{if("#"!=a){ee(o.slice(d).join(""))||(e.host=i.host,e.path=i.path.slice(),te(e)),p=be;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",p=we}}break;case _e:if("/"==a||"\\"==a){p=ge;break}i&&"file"==i.scheme&&!ee(o.slice(d).join(""))&&(Q(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),p=be;continue;case ge:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&Q(v))p=be;else if(""==v){if(e.host="",n)return;p=ye}else{if(s=R(e,v))return s;if("localhost"==e.host&&(e.host=""),n)return;v="",p=ye}continue}v+=a;break;case ye:if(Y(e)){if(p=be,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=r&&(p=be,"/"!=a))continue}else e.fragment="",p=we;else e.query="",p=Se;break;case be:if(a==r||"/"==a||"\\"==a&&Y(e)||!n&&("?"==a||"#"==a)){if(".."===(c=(c=v).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(te(e),"/"==a||"\\"==a&&Y(e)||e.path.push("")):ne(v)?"/"==a||"\\"==a&&Y(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Q(v)&&(e.host&&(e.host=""),v=v.charAt(0)+":"),e.path.push(v)),v="","file"==e.scheme&&(a==r||"?"==a||"#"==a))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==a?(e.query="",p=Se):"#"==a&&(e.fragment="",p=we)}else v+=q(a,z);break;case ke:"?"==a?(e.query="",p=Se):"#"==a?(e.fragment="",p=we):a!=r&&(e.path[0]+=q(a,H));break;case Se:n||"#"!=a?a!=r&&("'"==a&&Y(e)?e.query+="%27":e.query+="#"==a?"%23":q(a,H)):(e.fragment="",p=we);break;case we:a!=r&&(e.fragment+=q(a,J))}d++}},Oe=function(e){var t,n,r=p(this,Oe,"URL"),i=arguments.length>1?arguments[1]:void 0,a=String(e),l=S(r,{type:"URL"});if(void 0!==i)if(i instanceof Oe)t=w(i);else if(n=Ce(t={},String(i)))throw TypeError(n);if(n=Ce(l,a,null,t))throw TypeError(n);var s=l.searchParams=new b,c=k(s);c.updateSearchParams(l.query),c.updateURL=function(){l.query=String(s)||null},o||(r.href=xe.call(r),r.origin=Te.call(r),r.protocol=Ee.call(r),r.username=$e.call(r),r.password=je.call(r),r.host=Ae.call(r),r.hostname=Me.call(r),r.port=Ne.call(r),r.pathname=Le.call(r),r.search=Ie.call(r),r.searchParams=De.call(r),r.hash=Fe.call(r))},Pe=Oe.prototype,xe=function(){var e=w(this),t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,l=e.query,s=e.fragment,c=t+":";return null!==i?(c+="//",Z(e)&&(c+=n+(r?":"+r:"")+"@"),c+=G(i),null!==o&&(c+=":"+o)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==l&&(c+="?"+l),null!==s&&(c+="#"+s),c},Te=function(){var e=w(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&Y(e)?t+"://"+G(e.host)+(null!==n?":"+n:""):"null"},Ee=function(){return w(this).scheme+":"},$e=function(){return w(this).username},je=function(){return w(this).password},Ae=function(){var e=w(this),t=e.host,n=e.port;return null===t?"":null===n?G(t):G(t)+":"+n},Me=function(){var e=w(this).host;return null===e?"":G(e)},Ne=function(){var e=w(this).port;return null===e?"":String(e)},Le=function(){var e=w(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Ie=function(){var e=w(this).query;return e?"?"+e:""},De=function(){return w(this).searchParams},Fe=function(){var e=w(this).fragment;return e?"#"+e:""},Ve=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(o&&s(Pe,{href:Ve(xe,(function(e){var t=w(this),n=String(e),r=Ce(t,n);if(r)throw TypeError(r);k(t.searchParams).updateSearchParams(t.query)})),origin:Ve(Te),protocol:Ve(Ee,(function(e){var t=w(this);Ce(t,String(e)+":",re)})),username:Ve($e,(function(e){var t=w(this),n=f(String(e));if(!X(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=q(n[r],W)}})),password:Ve(je,(function(e){var t=w(this),n=f(String(e));if(!X(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=q(n[r],W)}})),host:Ve(Ae,(function(e){var t=w(this);t.cannotBeABaseURL||Ce(t,String(e),fe)})),hostname:Ve(Me,(function(e){var t=w(this);t.cannotBeABaseURL||Ce(t,String(e),ve)})),port:Ve(Ne,(function(e){var t=w(this);X(t)||(""==(e=String(e))?t.port=null:Ce(t,e,me))})),pathname:Ve(Le,(function(e){var t=w(this);t.cannotBeABaseURL||(t.path=[],Ce(t,e+"",ye))})),search:Ve(Ie,(function(e){var t=w(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Ce(t,e,Se)),k(t.searchParams).updateSearchParams(t.query)})),searchParams:Ve(De),hash:Ve(Fe,(function(e){var t=w(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Ce(t,e,we)):t.fragment=null}))}),c(Pe,"toJSON",(function(){return xe.call(this)}),{enumerable:!0}),c(Pe,"toString",(function(){return xe.call(this)}),{enumerable:!0}),y){var Re=y.createObjectURL,Ue=y.revokeObjectURL;Re&&c(Oe,"createObjectURL",(function(e){return Re.apply(y,arguments)})),Ue&&c(Oe,"revokeObjectURL",(function(e){return Ue.apply(y,arguments)}))}h(Oe,"URL"),i({global:!0,forced:!a,sham:!o},{URL:Oe})},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=!1},function(e,t,n){var r=n(250),i=n(21),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports={}},function(e,t,n){"use strict";var r,i,o=n(168),a=n(192),l=RegExp.prototype.exec,s=String.prototype.replace,c=l,p=(r=/a/,i=/b*/g,l.call(r,"a"),l.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),u=a.UNSUPPORTED_Y||a.BROKEN_CARET,d=void 0!==/()??/.exec("")[1];(p||d||u)&&(c=function(e){var t,n,r,i,a=this,c=u&&a.sticky,f=o.call(a),v=a.source,m=0,h=e;return c&&(-1===(f=f.replace("y","")).indexOf("g")&&(f+="g"),h=String(e).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==e[a.lastIndex-1])&&(v="(?: "+v+")",h=" "+h,m++),n=new RegExp("^(?:"+v+")",f)),d&&(n=new RegExp("^"+v+"$(?!\\s)",f)),p&&(t=a.lastIndex),r=l.call(c?n:a,h),c?r?(r.input=r.input.slice(m),r[0]=r[0].slice(m),r.index=a.lastIndex,a.lastIndex+=r[0].length):a.lastIndex=0:p&&r&&(a.lastIndex=a.global?r.index+r[0].length:t),d&&r&&r.length>1&&s.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),e.exports=c},function(e,t,n){var r=n(16),i=n(46),o=n(7)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,n){"use strict";var r=n(11);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var r=n(109);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var r=n(7)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){"use strict";var r=n(94).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){"use strict";var r,i=n(215),o=n(18),a=n(5),l=n(16),s=n(14),c=n(75),p=n(23),u=n(25),d=n(22).f,f=n(74),v=n(71),m=n(7),h=n(98),_=a.Int8Array,g=_&&_.prototype,y=a.Uint8ClampedArray,b=y&&y.prototype,k=_&&f(_),S=g&&f(g),w=Object.prototype,C=w.isPrototypeOf,O=m("toStringTag"),P=h("TYPED_ARRAY_TAG"),x=i&&!!v&&"Opera"!==c(a.opera),T=!1,E={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},$={BigInt64Array:8,BigUint64Array:8},j=function(e){if(!l(e))return!1;var t=c(e);return s(E,t)||s($,t)};for(r in E)a[r]||(x=!1);if((!x||"function"!=typeof k||k===Function.prototype)&&(k=function(){throw TypeError("Incorrect invocation")},x))for(r in E)a[r]&&v(a[r],k);if((!x||!S||S===w)&&(S=k.prototype,x))for(r in E)a[r]&&v(a[r].prototype,S);if(x&&f(b)!==S&&v(b,S),o&&!s(S,O))for(r in T=!0,d(S,O,{get:function(){return l(this)?this[P]:void 0}}),E)a[r]&&p(a[r],P,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:x,TYPED_ARRAY_TAG:T&&P,aTypedArray:function(e){if(j(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(v){if(C.call(k,e))return e}else for(var t in E)if(s(E,r)){var n=a[t];if(n&&(e===n||C.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(o){if(n)for(var r in E){var i=a[r];i&&s(i.prototype,e)&&delete i.prototype[e]}S[e]&&!n||u(S,e,n?t:x&&g[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(o){if(v){if(n)for(r in E)(i=a[r])&&s(i,e)&&delete i[e];if(k[e]&&!n)return;try{return u(k,e,n?t:x&&_[e]||t)}catch(e){}}for(r in E)!(i=a[r])||i[e]&&!n||u(i,e,t)}},isView:function(e){if(!l(e))return!1;var t=c(e);return"DataView"===t||s(E,t)||s($,t)},isTypedArray:j,TypedArray:k,TypedArrayPrototype:S}},function(e,t,n){"use strict";n(0),n(17),n(3),n(38),n(37),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.pyInstantiateComponent=t.getFormInstantiator=t.getNamedFormInstantiator=t.getAnvilComponentInstantiator=t.getAnvilComponentClass=t.getDefaultNamedFormInstantiator=t.getDefaultAnvilComponentInstantiator=t.setInstantiationHooks=t.WELL_KNOWN_PATHS=t.getFormClassObject=t.resolveFormSpec=t.getDefaultDepIdForInstantiation=void 0;var r=n(4),i=n(26),o=n(173),a=n(41),l=n(6),s=e=>e.fromYaml?e.defaultDepId:(0,i.getDefaultDepIdForComponent)(e.requestingComponent);t.getDefaultDepIdForInstantiation=s;var c=/^(?:([^:]+):)?([^:]*)$/,p=(e,t)=>{var n,[,i=null,o]=null!==(n=e.match(c))&&void 0!==n?n:[];if(!o)throw new Error("Invalid YAML spec for form: ".concat(e));var l=i?a.data.logicalDepIds[i]:null;if(i&&!l)throw new r.pyValueError("Dependency not found for ".concat(e));var s=i?a.data.dependencyPackages[l]:t?a.data.dependencyPackages[t]:a.data.appPackage;if(!s)throw new r.pyValueError("Dependency not found for: "+e);return{qualifiedClassName:"".concat(s,".").concat(o),depId:l,formName:o,logicalDepId:i}};t.resolveFormSpec=p;var u=e=>{var{qualifiedClassName:t}=e;return(0,r.chainOrSuspend)(Sk.importModule(t,!1,!0),(()=>{var e=t.split(".").slice(1),n=e[e.length-1],i=Sk.sysmodules.quick$lookup(new r.pyStr(t));if(i)return i.tp$getattr(new r.pyStr(n))}))};t.getFormClassObject=u;t.WELL_KNOWN_PATHS={LAYOUT:"__anvil layout *HV57"};t.setInstantiationHooks=e=>{({getAnvilComponentInstantiator:m,getAnvilComponentClass:v,getNamedFormInstantiator:h}=e),t.getAnvilComponentInstantiator=m,t.getAnvilComponentClass=v,t.getNamedFormInstantiator=h};var d=(e,t)=>{var n=l.anvilMod[t];return(e,t)=>(0,r.pyCallOrSuspend)(n,[],e)};t.getDefaultAnvilComponentInstantiator=d;var f=(e,t,n)=>(0,r.chainOrSuspend)(u(e),(t=>{if(void 0===t)throw new r.pyImportError("Failed to import form "+e.formName);var n=(e,n)=>(0,r.pyCallOrSuspend)(t,[],e);return n.anvil$instantiatorForForm=e,n}));t.getDefaultNamedFormInstantiator=f;var v=(e,t)=>e[t];t.getAnvilComponentClass=v;var m=d;t.getAnvilComponentInstantiator=m;var h=f;t.getNamedFormInstantiator=h;t.getFormInstantiator=(e,t,n)=>{if((0,r.checkString)(t)){var i=p(t.toString(),s(e));return h(i,e.requestingComponent,n)}if((0,o.isPyInstantiatorFunction)(t))return t.anvil$underlyingInstantiator;var a=e=>(0,r.pyCallOrSuspend)(t,[],e);return a.anvil$instantiatorForForm=null,a};var _=(0,l.funcFastCall)(((e,t)=>{var n,o,a,l,s,c;[n,o,a,l,s,c]=(0,r.copyKeywordsToNamedArgs)("instantiate_component",["requesting_component","component_to_instantiate","args","kwargs","edit_path","is_editable"],e,t,[new r.pyTuple,new r.pyDict,r.pyNone,r.pyFalse]);var d=(0,r.arrayFromIterable)(a),f=(0,r.keywordArrayFromPyDict)((0,r.pyCall)(r.pyDict,[l]));c=(0,r.isTrue)(c);(0,r.toJs)(s);return(0,r.chainOrSuspend)((0,r.checkString)(o)?u(p(o.toString(),(0,i.getDefaultDepIdForComponent)(n))):o,(e=>{if(void 0===e)throw new r.pyRuntimeError("Unable to resolve "+(0,r.objectRepr)(o));return(0,r.pyCallOrSuspend)(e,d,f)}))}));t.pyInstantiateComponent=_},function(e,t,n){"use strict";n(0),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.setHandled=function(e){var t,{target:n,type:i}=e,o=null!==(t=r[i])&&void 0!==t?t:r[i]=new Set;o.add(n),setTimeout((()=>o.delete(n)))},t.isHandled=function(e){var t,{target:n,type:i}=e;return null===(t=r[i])||void 0===t?void 0:t.has(n)};var r={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VT_GLOBAL=t.CHUNK_SIZE=t.pyValueTypes=t.pyServerEventHandlers=t.pyNamedExceptions=void 0;t.pyNamedExceptions={};t.pyServerEventHandlers={};t.pyValueTypes={};t.CHUNK_SIZE=65536;t.VT_GLOBAL="vt_global"},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(17),Object.defineProperty(t,"__esModule",{value:!0}),t.diagnosticRequest=a,t.diagnosticEvent=function(e){var t={type:e,time:Date.now(),nSent:o.nSent,nReceived:o.nReceived};o.events.push(t),a(t)},t.diagnosticData=void 0;var o={loadTime:Date.now(),userAgent:navigator.userAgent,events:[],requests:[],nSent:0,nReceived:0};function a(e){o.requests.length>100&&(o.requests=o.requests.slice(o.requests.length-50)),o.requests.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({time:Date.now()},e))}t.diagnosticData=o},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(18),i=n(8),o=n(80);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(36),i=n(83);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.3",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(14),i=n(58),o=n(149).indexOf,a=n(85);e.exports=function(e,t){var n,l=i(e),s=0,c=[];for(n in l)!r(a,n)&&r(l,n)&&c.push(n);for(;t.length>s;)r(l,n=t[s++])&&(~o(c,n)||c.push(n));return c}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(8);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(e,t,n){var r=n(18),i=n(22),o=n(11),a=n(126);e.exports=r?Object.defineProperties:function(e,t){o(e);for(var n,r=a(t),l=r.length,s=0;l>s;)i.f(e,n=r[s++],t[n]);return e}},function(e,t,n){var r=n(122),i=n(87);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(39);e.exports=r("document","documentElement")},function(e,t,n){"use strict";var r=n(12),i=n(129),o=n(74),a=n(71),l=n(47),s=n(23),c=n(25),p=n(7),u=n(36),d=n(53),f=n(130),v=f.IteratorPrototype,m=f.BUGGY_SAFARI_ITERATORS,h=p("iterator"),_="keys",g="values",y="entries",b=function(){return this};e.exports=function(e,t,n,p,f,k,S){i(n,t,p);var w,C,O,P=function(e){if(e===f&&j)return j;if(!m&&e in E)return E[e];switch(e){case _:case g:case y:return function(){return new n(this,e)}}return function(){return new n(this)}},x=t+" Iterator",T=!1,E=e.prototype,$=E[h]||E["@@iterator"]||f&&E[f],j=!m&&$||P(f),A="Array"==t&&E.entries||$;if(A&&(w=o(A.call(new e)),v!==Object.prototype&&w.next&&(u||o(w)===v||(a?a(w,v):"function"!=typeof w[h]&&s(w,h,b)),l(w,x,!0,!0),u&&(d[x]=b))),f==g&&$&&$.name!==g&&(T=!0,j=function(){return $.call(this)}),u&&!S||E[h]===j||s(E,h,j),d[t]=j,f)if(C={values:P(g),keys:k?j:P(_),entries:P(y)},S)for(O in C)(m||T||!(O in E))&&c(E,O,C[O]);else r({target:t,proto:!0,forced:m||T},C);return C}},function(e,t,n){"use strict";var r=n(130).IteratorPrototype,i=n(70),o=n(45),a=n(47),l=n(53),s=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),a(e,c,!1,!0),l[c]=s,e}},function(e,t,n){"use strict";var r,i,o,a=n(8),l=n(74),s=n(23),c=n(14),p=n(7),u=n(36),d=p("iterator"),f=!1;[].keys&&("next"in(o=[].keys())?(i=l(l(o)))!==Object.prototype&&(r=i):f=!0);var v=null==r||a((function(){var e={};return r[d].call(e)!==e}));v&&(r={}),u&&!v||c(r,d)||s(r,d,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},function(e,t,n){var r=n(46);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(11);e.exports=function(e){var t=e.return;if(void 0!==t)return r(t.call(e)).value}},function(e,t,n){var r,i,o,a=n(5),l=n(8),s=n(48),c=n(127),p=n(80),u=n(134),d=n(92),f=a.location,v=a.setImmediate,m=a.clearImmediate,h=a.process,_=a.MessageChannel,g=a.Dispatch,y=0,b={},k="onreadystatechange",S=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},w=function(e){return function(){S(e)}},C=function(e){S(e.data)},O=function(e){a.postMessage(e+"",f.protocol+"//"+f.host)};v&&m||(v=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return b[++y]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(y),y},m=function(e){delete b[e]},d?r=function(e){h.nextTick(w(e))}:g&&g.now?r=function(e){g.now(w(e))}:_&&!u?(o=(i=new _).port2,i.port1.onmessage=C,r=s(o.postMessage,o,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&f&&"file:"!==f.protocol&&!l(O)?(r=O,a.addEventListener("message",C,!1)):r=k in p("script")?function(e){c.appendChild(p("script"))[k]=function(){c.removeChild(this),S(e)}}:function(e){setTimeout(w(e),0)}),e.exports={set:v,clear:m}},function(e,t,n){var r=n(89);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(e,t,n){"use strict";var r=n(59),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},function(e,t,n){var r=n(8),i=n(7),o=n(36),a=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(e,t,n){"use strict";n(33),Object.defineProperty(t,"__esModule",{value:!0}),t.warn=function(e){e.toLowerCase().startsWith("warning:")||(e="Warning: "+e);Sk.builtin.print([e])}},function(e,t,n){"use strict";n(0),n(73),n(49),n(9),n(33),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.handleOutput=v,t.handleCookie=m,t.handleInvalidateMacs=h,t.handleBytes=y,t.handleChunkHeader=b,t.handleEvent=k,t.applyCacheUpdates=S,t.applyCapUpdates=w,t.maybeHandleResponse=O,t.handleResponse=x,t.handleMessage=function(e){if(e instanceof Blob||e instanceof ArrayBuffer)return y(e);var t=JSON.parse(e);switch(!0){case"CHUNK_HEADER"===t.type:return b(t);case t.id&&("response"in t||"error"in t):return x(t);case!!t.event:return k(t);case!!t.debuggers:return function(e){var t,n=u.outstandingRequests[e.id],r=u.requestSuspensions[e.id];null===(t=T)||void 0===t||t(n,e.debuggers,r)}(t);case!!t.output:return v(t);case!!t["invalidate-macs"]:return h();case!!t["set-cookie"]:return m();case!!t.error:return(0,o.reportError)(E(t));default:console.log("Unknown message from server: ",t)}},t.assembleException=t.setOnDebuggerMessage=void 0;var r,i=n(4),o=n(6),a=(r=n(1))&&r.__esModule?r:{default:r},l=n(160),s=n(117),c=n(176),p=n(118),u=n(76);function d(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){d(o,r,i,a,l,"next",e)}function l(e){d(o,r,i,a,l,"throw",e)}a(void 0)}))}}function v(e){Sk.output(e.output,!0)}function m(){$.post(window.anvilAppOrigin+"/_/request_cookies?_anvil_session="+window.anvilSessionToken)}function h(){var e,t=null===(e=a.default.getModule("anvil.server"))||void 0===e?void 0:e.tp$getattr(new i.pyStr("__anvil$doInvalidatedMacs"));t&&a.default.asyncToPromise(t)}var _=null,g=null;function y(e){_&&g&&(_.content.push(e),O(g)),_=g=null}function b(e){var t,n=u.outstandingRequests[e.requestId],r=n&&n.media[e.mediaId];r?(null!==(t=n.receiveBlobsProfile)&&void 0!==t||(n.receiveBlobsProfile=n.profile.append("Receive blobs")),_=r,g=e.requestId,r.complete=e.lastChunk):console.error("Got binary chunk for unknown request ID "+e.requestId+" / media ID "+e.mediaId)}function k(e){console.log("Server event: ",e);var{name:t,payload:n}=e.event,r=s.pyServerEventHandlers[t];if(r){var o=r.map((e=>()=>(0,i.pyCallOrSuspend)(e,[(0,i.toPy)(n)])));a.default.asyncToPromise((()=>(0,i.chainOrSuspend)(i.pyNone,...o)))}}function S(e){var t,{cacheUpdates:n}=null!==(t=e.response)&&void 0!==t?t:{};if(n)for(var r in n){var o=n[r],a=e.knownLiveObjectInstances[r];if(a)for(var l in o)for(var s of null!==(c=a[l])&&void 0!==c?c:[]){var c;for(var p in s.itemCache={},o[l])s.itemCache[p]=(0,i.toPy)(o[l][p])}}}function w(e){return C.apply(this,arguments)}function C(){return(C=f((function*(e){var t,{capUpdates:n}=null!==(t=e.response)&&void 0!==t?t:{};if(n){var r=[],o={};for(var a in n)o[JSON.stringify(JSON.parse(a))]=n[a];console.log("Capability updates:",o);var l=function(e){var t=e._JSONScope;t in o?(console.log("Update for",t),r.push((()=>e._applyUpdate((0,i.toPy)(o[t]))))):console.log("No update for",t)};for(var s of e.knownCapabilities)l(s);yield(0,i.suspensionToPromise)((()=>(0,i.chainOrSuspend)(null,...r)))}}))).apply(this,arguments)}function O(e){return P.apply(this,arguments)}function P(){return(P=f((function*(e){var t,n,r,o=u.outstandingRequests[e];if((0,p.diagnosticRequest)({id:e,response:!!(null==o?void 0:o.response)}),o){for(var{complete:a}of Object.values(o.media))if(!a)return;if(null===(t=o.receiveBlobsProfile)||void 0===t||t.end(),delete o.receiveBlobsProfile,o.suppressLoading||null===(n=(r=window).setLoading)||void 0===n||n.call(r,!1),(0,u.deleteOutstandingRequest)(e),"response"in o.response){var s,d;if(null===(s=o.response)||void 0===s?void 0:s.importDuration)(0,l.updateReplState)({importTime:null===(d=o.response)||void 0===d?void 0:d.importDuration});try{var f=o.profile.append("Reconstruct objects");yield(0,c.reconstructObjects)(o.response,o.media),null==f||f.end(),S(o),yield w(o),null===u.onServerCallResponse||void 0===u.onServerCallResponse||(0,u.onServerCallResponse)(o.response);var v=(0,i.toPy)(o.response.response);o.profile.response=o.response,o.profile.print(),o.deferred.resolve(v)}catch(e){o.deferred.reject(e)}}else"error"in o.response?(o.profile.print(),o.deferred.reject(E(o.response))):(o.deferred.reject(new i.pyRuntimeError("Invalid RPC response")),console.error("Response came back without 'response' or 'error' keys: ",o))}else console.error("maybeHandleResponse() called for unknown request ID "+e)}))).apply(this,arguments)}function x(e){var{id:t,objects:n={},profile:r}=e;if(!t.startsWith("client-keepalive")){var i=u.outstandingRequests[t];i?(i.response=e,i.media=(0,c.getOutstandingMedia)(n),r&&i.profile.mergeServerProfile(r),O(t)):console.error("Got response for unknown request ID "+t)}}var T=null;t.setOnDebuggerMessage=e=>{T=e};var E=function(e){var{error:t}=e,{type:n,message:r,trace:a}=t,l=s.pyNamedExceptions[n]||o.anvilServerMod.AnvilWrappedError,c=(0,i.pyCall)(l,[new i.pyStr(r||"[unexpected error]")]);if(a&&c.traceback)for(var[p,u]of a)c.traceback.push({filename:p,lineno:u,fromServer:!0});return c._anvil={errorObj:t},c};t.assembleException=E},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(42),i=n(177),o=n(103),a=n(77),l=n(141),s=n(34),c=n(179),p=Object.getOwnPropertyDescriptor;t.f=r?p:function(e,t){if(e=a(e),t=l(t,!0),c)try{return p(e,t)}catch(e){}if(s(e,t))return o(!i.f.call(e,t),e[t])}},function(e,t,n){var r=n(44);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(21),i=n(51);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(21),i=n(142),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},function(e,t,n){var r=n(180),i=n(181),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t){e.exports={}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var r=n(62);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(14),i=n(198),o=n(52),a=n(22);e.exports=function(e,t){for(var n=i(t),l=a.f,s=o.f,c=0;c<n.length;c++){var p=n[c];r(e,p)||l(e,p,s(t,p))}}},function(e,t,n){var r=n(58),i=n(15),o=n(69),a=function(e){return function(t,n,a){var l,s=r(t),c=i(s.length),p=o(a,c);if(e&&n!=n){for(;c>p;)if((l=s[p++])!=l)return!0}else for(;c>p;p++)if((e||p in s)&&s[p]===n)return e||p||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,n){var r=n(18),i=n(8),o=n(14),a=Object.defineProperty,l={},s=function(e){throw e};e.exports=function(e,t){if(o(l,e))return l[e];t||(t={});var n=[][e],c=!!o(t,"ACCESSORS")&&t.ACCESSORS,p=o(t,0)?t[0]:s,u=o(t,1)?t[1]:void 0;return l[e]=!!n&&!i((function(){if(c&&!r)return!0;var e={length:-1};c?a(e,1,{enumerable:!0,get:s}):e[1]=1,n.call(e,p,u)}))}},function(e,t,n){var r,i,o=n(5),a=n(89),l=o.process,s=l&&l.versions,c=s&&s.v8;c?i=(r=c.split("."))[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},function(e,t,n){"use strict";var r=n(18),i=n(8),o=n(126),a=n(123),l=n(119),s=n(32),c=n(97),p=Object.assign,u=Object.defineProperty;e.exports=!p||i((function(){if(r&&1!==p({b:1},p(u({},"a",{enumerable:!0,get:function(){u(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=p({},e)[n]||o(p({},t)).join("")!=i}))?function(e,t){for(var n=s(e),i=arguments.length,p=1,u=a.f,d=l.f;i>p;)for(var f,v=c(arguments[p++]),m=u?o(v).concat(u(v)):o(v),h=m.length,_=0;h>_;)f=m[_++],r&&!d.call(v,f)||(n[f]=v[f]);return n}:p},function(e,t,n){var r=n(5);e.exports=r.Promise},function(e,t,n){var r=n(11),i=n(101),o=n(15),a=n(48),l=n(60),s=n(132),c=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var p,u,d,f,v,m,h,_=n&&n.that,g=!(!n||!n.AS_ENTRIES),y=!(!n||!n.IS_ITERATOR),b=!(!n||!n.INTERRUPTED),k=a(t,_,1+g+b),S=function(e){return p&&s(p),new c(!0,e)},w=function(e){return g?(r(e),b?k(e[0],e[1],S):k(e[0],e[1])):b?k(e,S):k(e)};if(y)p=e;else{if("function"!=typeof(u=l(e)))throw TypeError("Target is not iterable");if(i(u)){for(d=0,f=o(e.length);f>d;d++)if((v=w(e[d]))&&v instanceof c)return v;return new c(!1)}p=u.call(e)}for(m=p.next;!(h=m.call(p)).done;){try{v=w(h.value)}catch(e){throw s(p),e}if("object"==typeof v&&v&&v instanceof c)return v}return new c(!1)}},function(e,t,n){var r=n(7)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},function(e,t,n){var r=n(11),i=n(16),o=n(135);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(8);function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},function(e,t,n){"use strict";var r=n(5),i=n(18),o=n(215),a=n(23),l=n(100),s=n(8),c=n(64),p=n(40),u=n(15),d=n(216),f=n(284),v=n(74),m=n(71),h=n(86).f,_=n(22).f,g=n(285),y=n(47),b=n(30),k=b.get,S=b.set,w="ArrayBuffer",C="DataView",O="prototype",P="Wrong index",x=r[w],T=x,E=r[C],$=E&&E[O],j=Object.prototype,A=r.RangeError,M=f.pack,N=f.unpack,L=function(e){return[255&e]},I=function(e){return[255&e,e>>8&255]},D=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},F=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},V=function(e){return M(e,23,4)},R=function(e){return M(e,52,8)},U=function(e,t){_(e[O],t,{get:function(){return k(this)[t]}})},B=function(e,t,n,r){var i=d(n),o=k(e);if(i+t>o.byteLength)throw A(P);var a=k(o.buffer).bytes,l=i+o.byteOffset,s=a.slice(l,l+t);return r?s:s.reverse()},G=function(e,t,n,r,i,o){var a=d(n),l=k(e);if(a+t>l.byteLength)throw A(P);for(var s=k(l.buffer).bytes,c=a+l.byteOffset,p=r(+i),u=0;u<t;u++)s[c+u]=p[o?u:t-u-1]};if(o){if(!s((function(){x(1)}))||!s((function(){new x(-1)}))||s((function(){return new x,new x(1.5),new x(NaN),x.name!=w}))){for(var H,J=(T=function(e){return c(this,T),new x(d(e))})[O]=x[O],z=h(x),W=0;z.length>W;)(H=z[W++])in T||a(T,H,x[H]);J.constructor=T}m&&v($)!==j&&m($,j);var q=new E(new T(2)),K=$.setInt8;q.setInt8(0,2147483648),q.setInt8(1,2147483649),!q.getInt8(0)&&q.getInt8(1)||l($,{setInt8:function(e,t){K.call(this,e,t<<24>>24)},setUint8:function(e,t){K.call(this,e,t<<24>>24)}},{unsafe:!0})}else T=function(e){c(this,T,w);var t=d(e);S(this,{bytes:g.call(new Array(t),0),byteLength:t}),i||(this.byteLength=t)},E=function(e,t,n){c(this,E,C),c(e,T,C);var r=k(e).byteLength,o=p(t);if(o<0||o>r)throw A("Wrong offset");if(o+(n=void 0===n?r-o:u(n))>r)throw A("Wrong length");S(this,{buffer:e,byteLength:n,byteOffset:o}),i||(this.buffer=e,this.byteLength=n,this.byteOffset=o)},i&&(U(T,"byteLength"),U(E,"buffer"),U(E,"byteLength"),U(E,"byteOffset")),l(E[O],{getInt8:function(e){return B(this,1,e)[0]<<24>>24},getUint8:function(e){return B(this,1,e)[0]},getInt16:function(e){var t=B(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=B(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return F(B(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return F(B(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return N(B(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return N(B(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){G(this,1,e,L,t)},setUint8:function(e,t){G(this,1,e,L,t)},setInt16:function(e,t){G(this,2,e,I,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){G(this,2,e,I,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){G(this,4,e,D,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){G(this,4,e,D,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){G(this,4,e,V,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){G(this,8,e,R,t,arguments.length>2?arguments[2]:void 0)}});y(T,w),y(E,C),e.exports={ArrayBuffer:T,DataView:E}},function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.provideLoggingImpl=function(e){r=e},t.setHooks=function(e){i=e.onStdout,o=e.onUpdateReplState},t.logEvent=function(e){s(),r(e)},t.stdout=function(e,t){"\n"!=e&&(a||(a=+new Date),console.log((t?"SERVER: ":"CLIENT: ")+e));i(e,t),t||(null===l&&(l="",setTimeout(s)),l+=e)},t.updateReplState=function(e){o(e)};var r=console.log,i=()=>{},o=e=>{};var a,l=null;function s(){null!==l&&(r({print:l}),l=null)}},function(e,t,n){"use strict";n(0),n(54),n(3),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.SerializationInfo=void 0;var r=n(4);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=new r.pyStr(":GLOBAL"),s=["keys","items","values","get","pop","popitem","clear","update","setdefault"].map((e=>new r.pyStr(e))),c=(0,r.buildNativeClass)("anvil.server.SerializeInfo",{constructor:function(e){if(this.$txData=new r.pyDict,this.$localData=new r.pyDict,this.$defaultKey=null,this.$enableTxData=!0,this.$originalData=null,e)if(Array.isArray(e)){var t=e.map(r.toPy);this.$originalData=new r.pyList(t),this.$txData=new r.pyDict(t)}else this.$originalData=(0,r.toPy)(e),this.$txData.mp$ass_subscript(l,this.$originalData);else;},slots:o({$r(){return new r.pyStr("SerializationInfo<".concat((0,r.objectRepr)(this.$txData),", ").concat((0,r.objectRepr)(this.$localData),">"))},tp$as_sequence_or_mapping:!0,tp$as_number:!0,nb$bool(){return(0,r.isTrue)(this.$enableTxData)}},Object.fromEntries(["mp$subscript","mp$ass_subscript","tp$iter","sq$length","sq$contains"].map((e=>[e,function(){var t=this.$sharedData("GLOBAL")[0];if(t===r.pyNone)throw new r.pyRuntimeError("This object is part of shared_data; you cannot access shared_data from its __serialize__ method.");return t[e](...arguments)}])))),methods:o({shared_data:{$meth(e,t,n){return new r.pyTuple(this.$sharedData(e,t,n))},$flags:{NamedArgs:["key","transmitted_data_factory","local_data_factory"],Defaults:[r.pyNone,r.pyDict,r.pyDict]}}},Object.fromEntries(s.map((e=>[e,{$meth(t,n){var i=this.$sharedData("GLOBAL")[0];if(i===r.pyNone)throw new r.pyRuntimeError("This object is part of shared_data; you cannot access shared_data from its __serialize__ method.");var o=i.tp$getattr(e);return(0,r.pyCallOrSuspend)(o,t,n)},$flags:{FastCall:!0}}])))),getsets:{remote_is_trusted:{$get:()=>r.pyTrue},local_is_trusted:{$get:()=>r.pyFalse}},proto:{$toJson(){if(1===this.$txData.sq$length()&&this.$txData.sq$contains(l))return this.$txData.mp$subscript(l);var e=[];for(var[t,n]of this.$txData.$items())e.push(t,n);return new r.pyList(e)},$resolveKey(e){if(null==e||e===r.pyNone)return this.$defaultKey;if("string"==typeof e)e=new r.pyStr(":"+e);else if(e instanceof r.pyType){var t=e.anvil$serializableName;e=null!=t?t:"".concat((0,r.lookupSpecial)(e,r.pyStr.$module),".").concat((0,r.lookupSpecial)(e,r.pyStr.$name))}else e=":"+e.toString();return new r.pyStr(e)},$updatePath(e,t){var n,i,o=this.$originalData;for(i of e)i=(0,r.toPy)(i),n=o,o=o.mp$subscript(i);n.mp$ass_subscript(i,t)},$setDefaultKey(e){this.$defaultKey=new r.pyStr(e)},$setTxDataAvailable(e){this.$enableTxData=e},$setDataFactory(e,t,n){var i=e.quick$lookup(t);return void 0===i&&(i=(0,r.pyCall)(null!=n?n:r.pyDict),e.mp$ass_subscript(t,i)),i},$sharedData(e,t,n){e=this.$resolveKey(e);var i=this.$setDataFactory(this.$localData,e,n);return(0,r.isTrue)(this.$enableTxData)?[this.$setDataFactory(this.$txData,e,t),i]:[r.pyNone,i]}}});t.SerializationInfo=c},function(e,t,n){"use strict";n(20),Object.defineProperty(t,"__esModule",{value:!0}),t.connect=function(e){if(null!=u)return u;var n=null==e?void 0:e.append("Connect websocket"),s=(0,i.defer)();t.websocket=u=s.promise;var p=new h(f());window.anvilWebsocket=p;var v=()=>{};p.onopen=()=>{(0,o.diagnosticEvent)("connected"),null==n||n.end(),v=function(e){var t=setInterval((()=>{try{e.send(JSON.stringify(c(c({},d),{},{id:"client-keepalive-"+(0,l.incHeartbeatCount)()})))}catch(e){console.error("Failed to send client keepalive.",e)}}),5e3);return()=>clearInterval(t)}(p),s.resolve(p)};var m=e=>{for(var n in v(),u===s.promise&&(t.websocket=u=null),s.reject(e),r.anvilAppOnline.fetchStatus(!1),l.outstandingRequests)l.outstandingRequests[n].ws!=e.target&&null!=l.outstandingRequests[n].ws||l.outstandingRequests[n].onerror(e)};return p.onclose=e=>{(0,o.diagnosticEvent)("closed"),console.log("WebSocket closed",e),m(e)},p.onerror=e=>{(0,o.diagnosticEvent)("error"),console.log("WebSocket error",e),m(e)},p.onmessage=e=>{r.anvilAppOnline.updateStatus(!0),o.diagnosticData.nReceived++,(0,a.handleMessage)(e.data)},s.promise},t.WebsocketFallback=t.websocket=void 0;var r=n(230),i=n(27),o=n(118),a=n(138),l=n(76);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=null;t.websocket=u;var d={type:"CALL",id:"client-keepalive-",command:"anvil.private.echo",args:["keep-alive"],kwargs:{}};var f=()=>{var e=window.anvilAppOrigin.replace(/^http/,"ws");return"".concat(e,"/_/ws/").concat(window.anvilParams.accessKey||"","?_anvil_session=").concat(window.anvilSessionToken)},v=!0;class m extends Error{}t.WebsocketFallback=m;class h extends WebSocket{send(e){try{super.send(e)}catch(e){if(v)throw new m("use HTTP");throw e}v=!1}}},function(e,t,n){var r=n(21),i=n(44),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t,n){var r=n(143),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},function(e,t,n){var r,i,o,a=n(248),l=n(21),s=n(44),c=n(51),p=n(34),u=n(143),d=n(144),f=n(145),v=l.WeakMap;if(a){var m=u.state||(u.state=new v),h=m.get,_=m.has,g=m.set;r=function(e,t){return t.facade=e,g.call(m,e,t),t},i=function(e){return h.call(m,e)||{}},o=function(e){return _.call(m,e)}}else{var y=d("state");f[y]=!0,r=function(e,t){return t.facade=e,c(e,y,t),t},i=function(e){return p(e,y)?e[y]:{}},o=function(e){return p(e,y)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!s(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){"use strict";var r=n(77),i=n(253),o=n(107),a=n(165),l=n(256),s="Array Iterator",c=a.set,p=a.getterFor(s);e.exports=l(Array,"Array",(function(e,t){c(this,{type:s,target:r(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(e,t,n){var r=n(50).f,i=n(34),o=n(28)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){"use strict";var r=n(35);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){var r=n(7),i=n(70),o=n(22),a=r("unscopables"),l=Array.prototype;null==l[a]&&o.f(l,a,{configurable:!0,value:i(null)}),e.exports=function(e){l[a][e]=!0}},function(e,t,n){var r=n(18),i=n(5),o=n(99),a=n(210),l=n(22).f,s=n(86).f,c=n(109),p=n(110),u=n(157),d=n(25),f=n(8),v=n(30).set,m=n(90),h=n(7)("match"),_=i.RegExp,g=_.prototype,y=/a/g,b=/a/g,k=new _(y)!==y,S=u.UNSUPPORTED_Y;if(r&&o("RegExp",!k||S||f((function(){return b[h]=!1,_(y)!=y||_(b)==b||"/a/i"!=_(y,"i")})))){for(var w=function(e,t){var n,r=this instanceof w,i=c(e),o=void 0===t;if(!r&&i&&e.constructor===w&&o)return e;k?i&&!o&&(e=e.source):e instanceof w&&(o&&(t=p.call(e)),e=e.source),S&&(n=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var l=a(k?new _(e,t):_(e,t),r?this:g,w);return S&&n&&v(l,{sticky:n}),l},C=function(e){e in w||l(w,e,{configurable:!0,get:function(){return _[e]},set:function(t){_[e]=t}})},O=s(_),P=0;O.length>P;)C(O[P++]);g.constructor=w,w.prototype=g,d(i,"RegExp",w)}m("RegExp")},function(e,t,n){var r=n(16),i=n(131),o=n(7)("species");e.exports=function(e,t){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){"use strict";n(0),n(19),n(241),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.getUnsetValue=_,t.getUnsetMargin=b,t.getUnsetPadding=k,t.getUnsetSpacing=S,t.getSpacingObject=t.isPyInstantiatorFunction=t.PyInstantiatorFunction=t.pyPropertyUtilsApi=void 0;var r=n(4),i=n(115),o=n(292),a=n(43);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={__name__:new r.pyStr("property_utils"),anvil_property:o.anvil_property};t.pyPropertyUtilsApi=p;var u=(0,r.buildNativeClass)("anvil.InstantiatorFunction",{constructor:function(e){this.anvil$underlyingInstantiator=e},slots:{tp$call(e,t){if(e.length>1||e[0]&&!(0,r.checkString)(e[0])&&!(0,r.checkNumber)(e[0]))throw new r.pyTypeError("Instantiator functions take one positional argument, which must be a string or number");return this.anvil$underlyingInstantiator(t,e[0]?(0,r.toJs)(e[0]):void 0)},tp$richcompare(e,t){if("Eq"===t){var n=this.anvil$underlyingInstantiator.anvil$instantiatorForForm,i=e instanceof u&&e.anvil$underlyingInstantiator.anvil$instantiatorForForm;return!(!n||!i||n.depId!==i.depId||n.formName!==i.formName)}return r.pyNotImplemented}}});t.PyInstantiatorFunction=u;var d=e=>!!(null==e?void 0:e.anvil$underlyingInstantiator);t.isPyInstantiatorFunction=d;var f=e=>"number"==typeof e||"string"==typeof e&&"".concat(parseFloat(e))===e?"".concat(e,"px"):"string"==typeof e?e:"",v=(e,t)=>{var[n,r,i,o]="number"==typeof e||"string"==typeof e?[e,e,e,e]:e?2===e.length?[e[0],e[1],e[0],e[1]]:3===e.length?[e[0],e[1],e[2],e[1]]:[e[0],e[1],e[2],e[3]]:[null,null,null,null];return{["".concat(t,"Top")]:f(n),["".concat(t,"Right")]:f(r),["".concat(t,"Bottom")]:f(i),["".concat(t,"Left")]:f(o)}};t.getSpacingObject=v;var m=e=>e||null,h=e=>e?e.endsWith("px")?parseFloat(e):e:null;function _(e,t,n){if(""!==n&&null!=n)return{value:null,css:null};var r=window.getComputedStyle(e)[t];return{value:h(r),css:m(r)}}var g=["Top","Right","Bottom","Left"];function y(e,t,n){var r=v(n,""),i=window.getComputedStyle(e),o=g.map((e=>""===r[e]?i[t+e]:null));return{value:o.map(h),css:o.map(m)}}function b(e,t){return y(e,"margin",t)}function k(e,t){return y(e,"padding",t)}function S(e,t,n){var r=b(e,null==n?void 0:n.margin),i=k(t,null==n?void 0:n.padding);return{value:{margin:r.value,padding:i.value},css:{margin:r.css,padding:i.css}}}(0,r.setUpModuleMethods)("property_utils",p,{get_form_constructor:{$meth:(e,t,n)=>d(t)?t:(0,r.chainOrSuspend)((0,i.getFormInstantiator)({requestingComponent:e},t,{preferLiveDesign:(0,r.isTrue)(n)}),(e=>new u(e))),$flags:{NamedArgs:["parent_form","property_value","prefer_live_design"],Defaults:[r.pyTrue]}},get_margin_styles:{$meth:e=>(0,r.toPy)(v((0,r.toJs)(e),"margin")),$flags:{NamedArgs:["margin"]}},get_padding_styles:{$meth:e=>(0,r.toPy)(v((0,r.toJs)(e),"padding")),$flags:{NamedArgs:["padding"]}},get_spacing_styles:{$meth(e){var t=(0,r.toJs)(e);return(0,r.toPy)(s(s({},v(t.margin,"margin")),v(t.padding,"padding")))},$flags:{NamedArgs:["spacing"]}},set_element_margin:{$meth(e,t){var n=(0,r.toJs)(e);return Object.assign(n.style,v((0,r.toJs)(t),"margin")),r.pyNone},$flags:{NamedArgs:["element","margin"]}},set_element_padding:{$meth(e,t){var n=(0,r.toJs)(e);return Object.assign(n.style,v((0,r.toJs)(t),"padding")),r.pyNone},$flags:{NamedArgs:["element","padding"]}},set_element_spacing:{$meth(e,t){var n=(0,r.toJs)(e),i=(0,r.toJs)(t);return Object.assign(n.style,v(null==i?void 0:i.margin,"margin"),v(null==i?void 0:i.padding,"padding")),r.pyNone},$flags:{NamedArgs:["element","spacing"]}},set_element_visibility:{$meth(e,t){var n=(0,r.toJs)(e);return(0,a.setElementVisibility)(n,(0,r.isTrue)(t)),r.pyNone},$flags:{NamedArgs:["element","visible"]}},get_unset_margin:{$meth:(e,t)=>(0,r.toPy)(b((0,r.toJs)(e),(0,r.toJs)(t))),$flags:{NamedArgs:["element","current_value"],Defaults:[r.pyNone]}},get_unset_padding:{$meth:(e,t)=>(0,r.toPy)(k((0,r.toJs)(e),(0,r.toJs)(t))),$flags:{NamedArgs:["element","current_value"],Defaults:[r.pyNone]}},get_unset_spacing:{$meth:(e,t,n)=>(0,r.toPy)(S((0,r.toJs)(e),(0,r.toJs)(t),(0,r.toJs)(n))),$flags:{NamedArgs:["margin_element","padding_element","current_value"],Defaults:[r.pyNone]}},get_unset_value:{$meth:(e,t,n)=>(0,r.toPy)(_((0,r.toJs)(e),(0,r.toJs)(t),(0,r.toJs)(n))),$flags:{NamedArgs:["element","key","current_value"],Defaults:[r.pyNone]}}})},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o;n(0),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.appendSvgSpinner=function(e){var t,n,r;if(null!==(t=l)&&void 0!==t||(l=document.getElementById("loadingSpinner")),null!==(n=o)&&void 0!==n||(o=null===(r=l)||void 0===r?void 0:r.querySelector("svg")),!o)return;e.appendChild(o.cloneNode(!0))},t.checkForBackgroundImage=s,t.getBodySpinner=u,t.setLoading=function(e,t){var n;null===(n=u())||void 0===n||n.setLoading(!!e,t)},t.SpinnerLoader=void 0;var a,l=null;function s(e){var t=t=>getComputedStyle(e,t).backgroundImage,n=e.querySelector("svg");if(n){for(var r of[void 0,"::after","::before"])if("none"!==t(r))return void n.style.setProperty("display","none");n.style.removeProperty("display")}}var c=new WeakMap;class p{static getOrCreate(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=c.get(e);if(n)return n;var r=new p(e,t);return c.set(e,r),r}constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,"el",void 0),i(this,"options",void 0),i(this,"timeout",void 0),i(this,"animation",null),i(this,"refCount",0),this.el=e,this.options=t}get opacity(){return+(getComputedStyle(this.el).opacity||"1")}commitStyles(){if(this.animation){try{this.animation.commitStyles()}catch(e){console.warn(e)}this.animation.cancel()}}animate(e,t){var n,r;this.el.style.display="block",this.commitStyles();var i=this.opacity;this.animation=null===(n=(r=this.el).animate)||void 0===n?void 0:n.call(r,[{opacity:i},{opacity:e}],{duration:t,fill:"forwards"});var o=()=>{var t,n;(this.commitStyles(),0===e&&(this.el.style.display="none"),0===this.refCount)&&(null===(t=(n=this.options).onFinish)||void 0===t||t.call(n));this.animation=null};this.animation?this.animation.onfinish=o:(clearTimeout(this.timeout),this.timeout=setTimeout(o,t))}fadeIn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:400;this.animate(1,e)}fadeOut(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;this.animate(0,e)}setLoading(e){var t,n,{animate:r=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.refCount;(e?this.refCount++:this.refCount--,r)&&(0===i&&this.refCount>0?(null===(t=(n=this.options).onStart)||void 0===t||t.call(n),s(this.el),this.fadeIn()):i>0&&0===this.refCount&&this.fadeOut())}withIndicator(e){var t,n=this;return(t=function*(){n.setLoading(!0),yield e,n.setLoading(!1)},function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function l(e){r(a,i,o,l,s,"next",e)}function s(e){r(a,i,o,l,s,"throw",e)}l(void 0)}))})()}}function u(){var e,t;if(null!==(e=l)&&void 0!==e||(l=document.getElementById("loadingSpinner")),l)return null!==(t=a)&&void 0!==t||(a=p.getOrCreate(l)),a}t.SpinnerLoader=p},function(e,t,n){"use strict";n(0),n(54),n(3),n(38),n(33),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.getComponentClass=
/*!defClass(anvil,Slot)!*/
function(e,t){var n=e.match(/^form:(?:([^:]+):)?([^:]*)$/);if(!n)return l.anvilMod[e];var[i,a,s]=n,c=a?o.data.logicalDepIds[a]:null,p=c?o.data.app.dependency_code[c].package_name:t?o.data.app.dependency_code[t].package_name:o.data.appPackage;if(!p)throw'Missing dependency with ID "'.concat(c||a,'"');var[u,d,f]=s.match(/^(.+\.)?([^.]+)$/),v="".concat(p,".").concat(d||"").concat(f);return(0,r.chainOrSuspend)((0,r.tryCatchOrSuspend)((()=>(0,l.getModule)(v,!0)),(e=>{throw(0,l.reportError)(e),"Error importing ".concat(v,": ").concat((0,l.strError)(e))})),(()=>(0,l.importFrom)(v,f)))},t.WithLayout=t.Slot=void 0;var r=n(4),i=n(26),o=n(41),a=n(115),l=n(6);function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,i,o){return{getPyTarget:e,pyLayoutProps:n,insertionIndex:t,components:[],oneComponent:i,templateSpec:o,lastUse:null,earlierSlots:[],canAddComponent(){return 0===this.components.length||!this.oneComponent},fillCache(){return this.cache||(0,r.chainOrSuspend)(e(),(e=>{var t;return(0,r.chainOrSuspend)(null===(t=e._slotState)||void 0===t?void 0:t.fillCache(),(()=>{var t=Sk.abstr.gattr(e,l.s_add_component);return this.cache={pyTarget:e,pyAddComponent:t,hooks:e.anvil$hooks||e._slotState}}))}))},calculateOffset(){var e=0;for(var t of this.earlierSlots)e+=t._slotState.components.length;return e},enableDropMode(e){var t,n,i,o,a=(e.pyLayoutProperties||new r.pyDict).nb$or(this.pyLayoutProps),l=this.calculateOffset(),c=(null===(t=this.cache)||void 0===t||null===(n=(i=t.hooks).enableDropMode)||void 0===n?void 0:n.call(i,p(p({},e),{},{pyLayoutProperties:a,minChildIdx:this.insertionIndex+l,maxChildIdx:this.insertionIndex+l+this.components.length})))||[],u=c.filter((e=>{var{element:t,dropInfo:{minChildIdx:n,maxChildIdx:i,layout_properties:o}={}}=e;return(void 0===n&&void 0===i||void 0===i&&void 0!==n&&n<=this.insertionIndex+l+this.components.length||void 0===n&&void 0!==i&&i>=this.insertionIndex+l||void 0!==n&&void 0!==i&&n<=this.insertionIndex+l+this.components.length&&i>=this.insertionIndex+l)&&this.pyLayoutProps.$items().every((e=>{var[t,n]=e;return Sk.misceval.richCompareBool((0,r.toPy)(null==o?void 0:o[t.toString()]),n,"Eq")}))})).map((e=>{var{dropInfo:{minChildIdx:t,maxChildIdx:n,layout_properties:i}={}}=e,o=s(e.dropInfo,["minChildIdx","maxChildIdx","layout_properties"]);return p(p({},s(e,["dropInfo"])),{},{dropInfo:p(p({},o),{},{layout_properties:Object.fromEntries(Object.entries(null!=i?i:{}).filter((e=>{var[t,n]=e;return!this.pyLayoutProps.quick$lookup(new r.pyStr(t))}))),minChildIdx:void 0===t?void 0:Math.max(t-this.insertionIndex-l,0),maxChildIdx:void 0===n?void 0:Math.min(n-this.insertionIndex-l,this.components.length),_originalMinChildIdx:t,_originalMaxChildIdx:n})})}));return console.log((0,r.toJs)(this.pyLayoutProps),"got DZs from parent",c,"with offset",l,"target",null===(o=this.cache)||void 0===o?void 0:o.pyTarget,"insertion idx",this.insertionIndex,"components",this.components.length,"Filtered DZs:",u),u},disableDropMode(){var e;null===(e=this.cache)||void 0===e||e.hooks.disableDropMode()},getContainerDesignInfo(e){var t,i,o,a=null===(t=this.cache)||void 0===t||null===(i=(o=t.hooks).getContainerDesignInfo)||void 0===i?void 0:i.call(o,e);return p(p({},a||{}),{},{layoutPropertyDescriptions:((null==a?void 0:a.layoutPropertyDescriptions)||[]).filter((e=>!n.quick$lookup(new r.pyStr(e.name))))})}}}var f=Sk.abstr.buildNativeClass("anvil.Slot",{constructor:function(e,t,n,i,o){e&&(this._slotState=d(e,t,(0,r.toPy)(n||{}),!!i,o))},slots:{tp$init(e,t){Sk.abstr.checkArgsLen("Slot",e,2,3);var[n,i,o,a]=e,s=(0,r.toJs)(i);if("number"!=typeof s)throw new Sk.builtin.TypeError("the second argument (insertion index) should be an integer");if(!(o instanceof Sk.builtin.dict))throw new Sk.builtin.TypeError("the third argument (layout properties) should be a dict");if(a&&!(a instanceof Sk.builtin.dict)&&a!==r.pyNone)throw new Sk.builtin.TypeError("the third argument (template spec) should be a dict or None");var{one_component:c}=(0,l.kwsToObj)(t);this._slotState=d((()=>n),s,o,(0,r.isTrue)(c),(0,r.toJs)(a))}},methods:{add_component:{$meth(e,t){Sk.abstr.checkArgsLen("add_component",e,1,1);var[n]=e,i=(0,l.kwsToObj)(t),{_slotState:o}=this;for(var[a,s]of o.pyLayoutProps.$items())i[a.toString()]=s;var c=i.index?(0,r.toJs)(i.index):o.components.length;if("number"!=typeof c)throw new Sk.builtin.ValueError("index= must be a number");var p=o.calculateOffset();i.index=new Sk.builtin.int_(c+o.insertionIndex+p);var u=(0,l.objToKws)(i);if(!o.canAddComponent())throw new Sk.builtin.ValueError("There is already a component in this slot");return o.lastUse=n,(0,r.chainOrSuspend)(o.fillCache(),(e=>{var{pyAddComponent:t}=e;return Sk.misceval.callsimOrSuspendArray(t,[n],u)}),(()=>(n.anvilComponent$onRemove((()=>{o.components=o.components.filter((e=>e!==n))})),o.components.push(n),r.pyNone)))},$flags:{FastCall:!0}},get_components:{$meth(){return new r.pyList([...this._slotState.components])},$flags:{NoArgs:!0}},clear:{$meth(){for(var e of[...this._slotState.components])Sk.misceval.callsim(Sk.abstr.gattr(e,l.s_remove_from_parent));return this._slotState.components=[],r.pyNone},$flags:{NoArgs:!0}},offset_by_slot:{$meth(e){Sk.abstr.checkArgsLen("offset_by_slot",e,1,1);var[t]=e;return this._slotState.earlierSlots.push(t),r.pyNone},$flags:{FastCall:!0}}}});
/*!defMethod(_,target_container,insertion_index,[layout_properties])!2*/t.Slot=f;var v=Sk.abstr.buildNativeClass("anvil.WithLayout",{constructor:function(){this.$d=new r.pyDict},base:i.Component,slots:{tp$new(e,t){var{_withLayoutSubclass:n}=this.constructor,o=i.Component.prototype.tp$new.call(this,[]),[a,s]=e,c=(0,r.checkCallable)(a)?(e,t)=>a.tp$call([e,t]):void 0,p=(0,r.checkCallable)(s)?(e,t)=>s.tp$call([e,t]):void 0;return o._withLayout={kwargs:t,onAssociate:c,onDissociate:p,domElement:null,_pyLayout:null,_withLayoutSubclass:n,get pyLayout(){return this._pyLayout},set pyLayout(e){this._pyLayout&&(delete this._pyLayout._Component.portalParent,this.domElement=null),this._pyLayout=e,o.$setupPageState()}},(0,i.addEventHandler)(o,l.s_x_anvil_classic_show,(()=>(0,i.raiseEventOrSuspend)(o,l.s_show))),(0,i.addEventHandler)(o,l.s_x_anvil_classic_hide,(()=>(0,i.raiseEventOrSuspend)(o,l.s_hide))),o},tp$init(e,t){var[n,i]=e;n&&(this._withLayout.onAssociate=(e,t)=>(0,r.pyCallOrSuspend)(n,[e,t])),i&&(this._withLayout.onDissociate=(e,t)=>(0,r.pyCallOrSuspend)(i,[e,t])),t&&0!==t.length&&(this._withLayout.kwargs=t)}},proto:{$requireLayout(e){return(0,r.chainOrSuspend)(Sk.abstr.gattr(this,l.s_layout,!0),(t=>(0,r.chainOrSuspend)(t.anvil$hooks.setupDom(),(()=>e(t)))))},$setupPageState(){var e,t,n=this._Component.pageState,r=this._withLayout.pyLayout;if(r){var i=r._Component.pageState;i.ancestorsVisible=n.ancestorsVisible&&n.currentlyVisible,i.ancestorsMounted=n.ancestorsMounted&&n.currentlyMounted,i.currentlyMounted=!0,Object.defineProperty(r._Component,"portalParent",{get:()=>this._Component.parent,configurable:!0}),null===(e=this._Component.parent)||void 0===e||null===(t=e.setVisibility)||void 0===t||t.call(e,i.currentlyVisible)}},anvil$hookSpec:{setupDom(){return this._withLayout.domElement||this.$requireLayout((e=>this._withLayout.domElement=e.anvil$hooks.domElement))},getDomElement(){return this._withLayout.domElement},getEvents:()=>[{name:"show",description:"When the form is shown on the page",parameters:[],important:!0},{name:"hide",description:"When the form is hidden on the page",parameters:[],important:!0}]}},flags:{sk$klass:!0},classmethods:{__init_subclass__:{$meth(e,t){var n,o=(0,l.kwsToObj)(t),s=o.layout;if((e=>!!e&&"string"==typeof e.type)(s)){var{type:c,defaultDepId:p}=s,u=c.startsWith("form:");this._withLayoutSubclass={layout:u?{type:"form",formSpec:(0,a.resolveFormSpec)(c.substring(5),p)}:{type:"builtin",name:c}}}else if(s&&s instanceof r.pyType&&(0,r.isTrue)((0,r.pyIsSubclass)(s,i.Component)))delete o.layout,this._withLayoutSubclass={layout:{type:"constructor",constructor:s}};else{if(s||!(null===(n=this.prototype.tp$base)||void 0===n?void 0:n._withLayoutSubclass))throw new Sk.builtin.ValueError("layout= argument to WithLayout must be a subclass of Component");this._withLayoutSubclass=this.prototype.tp$base._withLayoutSubclass}var d=new r.pySuper(v,this).tp$getattr(l.s_init_subclass);return(0,r.pyCallOrSuspend)(d,e,t)},$flags:{FastCall:!0}}},getsets:{layout:{$get(){var{pyLayout:e,kwargs:t,onAssociate:n,_withLayoutSubclass:i}=this._withLayout;if(e)return e;if(!i)return r.pyNone;var o=i.layout;o.type;return(0,r.tryCatchOrSuspend)((()=>(0,r.chainOrSuspend)("form"===o.type?(0,a.getNamedFormInstantiator)(o.formSpec,this):"builtin"===o.type?(0,a.getAnvilComponentInstantiator)({fromYaml:!1,requestingComponent:this},o.name):e=>(0,r.pyCallOrSuspend)(o.constructor,[],e),(e=>e(t)),(e=>(this._withLayout.pyLayout=e,null==n?void 0:n(e,this))),(()=>this._withLayout.pyLayout))),(e=>{if(e instanceof r.pyAttributeError){var t=new r.pyException("Failed to instantiate layout for ".concat((0,r.objectRepr)(this),": got ").concat((0,r.objectRepr)(e)));t.traceback=e.traceback,e=t}throw e}))},$set(e){var{onAssociate:t,pyLayout:n}=this._withLayout;if(n)throw new Sk.builtin.ValueError("Cannot overwrite the 'layout' property of a form after it has been initialised.");if(null==e)throw new Sk.builtin.AttributeError("Cannot delete the 'layout'.");if(!e.tp$getattr(l.s_slots))throw new Sk.builtin.ValueError("A form's 'layout' property must be set to a layout form, not a ".concat(Sk.abstr.typeName(e)," object."));return this._withLayout.pyLayout=e,null==t?void 0:t(e,this)}},__dict__:Sk.generic.getSetDict}});
/*!defMethod(_)!2*/t.WithLayout=v,
/*!defClass(anvil,WithLayout,Component)!*/
(0,l.initNativeSubclass)(v)},function(e,t,n){"use strict";n(13),n(0),n(17),n(9),n(61),n(38),n(20),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.getOutstandingMedia=function(e){var t={};for(var n of Object.values(e)){var r;if("DataMedia"===(null===(r=n.type)||void 0===r?void 0:r[0])){var{id:i,"mime-type":o,path:a,name:l}=n;t[i]={mime_type:o,path:a,content:[],name:l}}}return t},t.reconstructObjects=y,t.reconstructSerializedMapWithMedia=function(e){return k.apply(this,arguments)};var r,i=n(4),o=n(6),a=(r=n(1))&&r.__esModule?r:{default:r},l=n(117),s=n(228),c=n(161);function p(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,l,"next",e)}function l(e){u(o,r,i,a,l,"throw",e)}a(void 0)}))}}var f=/^(.+)\.[^.]+$/,v={Primitive:e=>(0,i.toPy)(e.value),DataMedia(e,t){var{content:n,mime_type:r,name:a}=t[e.id],l=[new Blob(n,{type:r}),a];return(0,i.pyCall)(o.anvilMod.DataMedia,l)},LazyMedia:e=>(0,i.pyCall)(o.anvilMod.LazyMedia,[e]),LiveObject(e,t,n){for(var r in null!==(a=e.itemCache)&&void 0!==a?a:{}){var a;e.itemCache[r]=m(e.itemCache[r],t,n)}if(e.iterItems&&e.iterItems.items){var l=[];for(var s of null!==(c=e.iterItems.items)&&void 0!==c?c:[]){var c;l.push(m(s,t,n))}e.iterItems.items=l}return e.methods?n[e.backend]=e.methods:e.methods=n[e.backend],(0,i.pyCall)(o.anvilMod.LiveObjectProxy,[e])},Capability:e=>new(0,o.anvilServerMod.Capability)(e.scope,e.mac,null),ValueType:e=>e.typeName,ClassType:e=>e.typeName,Date:e=>(0,i.pyCall)(s.DT.dateFromIso,[new i.pyStr(e.value)]),DateTime(e){var t=e.value,n=t[t.length-5],r=0;"-"!==n&&"+"!==n||(r=60*Number(t.slice(-5,-2))+Number(n+t.slice(-2)),t=t.slice(0,-5));t.length>26&&(t=t.slice(0,26));var o=(0,i.pyCall)(s.TZ.tzoffset,[],["minutes",new i.pyInt(r)]),a=(0,i.pyCall)(s.DT.datetimeFromIso,[new i.pyStr(t)]);return(0,i.pyCall)(s.DT.replace,[a],["tzinfo",o])},Long:e=>new i.pyInt(e.value),Float:e=>new i.pyFloat(e.value)};function m(e,t,n){var r,o;for(var a of e.type){var l=v[a];if(l){r=l(e,t,n);break}}if(void 0===r)throw new i.pyTypeError("Cannot return object of type '"+(null===(o=e.type)||void 0===o?void 0:o[0])+"' from server call");return r}function h(e){var t,n=l.pyValueTypes[e];if(n)return n;var r=null===(t=e.match(f))||void 0===t?void 0:t[1];if(r){var o=(0,i.importModule)(r,!1,!0);return(0,i.suspensionToPromise)((()=>(0,i.chainOrSuspend)(o,(()=>l.pyValueTypes[e]))))}}function _(e,t,n){return g.apply(this,arguments)}function g(){return(g=d((function*(e,t,n){var r,l=yield h(e);if(!l)throw a.default.pyCall(o.anvilServerMod.SerializationError,[new Sk.builtin.str("No such serializable type: "+e)]);var c=l.tp$getattr(s.INTERNED.__new_deserialized__),p=(0,i.toPy)(t);if(c)r=yield(0,i.suspensionToPromise)((()=>(0,i.pyCallOrSuspend)(c,[p,n])));else{var u=(0,i.typeLookup)(l,i.pyStr.$new),d=(r=(0,i.pyCall)(u,[l])).tp$getattr(s.INTERNED.__deserialize__);if(d)yield(0,i.suspensionToPromise)((()=>(0,i.pyCallOrSuspend)(d,[p,n])));else{var f=(0,i.lookupSpecial)(r,i.pyStr.$dict);(0,i.pyCall)(f.tp$getattr(s.INTERNED.update),[p])}}return r}))).apply(this,arguments)}function y(e,t){return b.apply(this,arguments)}function b(){return b=d((function*(e,t){var n,r=e.objects,i={};for(var o of r){var a=m(o,t,i),s=o.path;if(s.length<1)console.error("Cannot reconstruct zero-length path; ignoring");else{var p=e,u=void 0,d=void 0;for(d of s)u=p,p=p[d];var f=a;if(o.type.includes("ValueType")){var v,g=a;null!==(v=n)&&void 0!==v||(n=new c.SerializationInfo(e.vt_global)),n.$setTxDataAvailable(s[0]!==l.VT_GLOBAL),n.$setDefaultKey(g),f=yield _(g,p,n)}else o.type.includes("ClassType")?f=yield h(a):null!=p&&(console.error("Object reconstruction replacing something that's not a null leaf!",p),console.log(s,p));if(u[d]=f,void 0!==n&&s[0]===l.VT_GLOBAL)try{n.$updatePath(s.slice(1),f)}catch(e){console.error("Failed to update shared data",e)}}}return e})),b.apply(this,arguments)}function k(){return(k=d((function*(e){var t=null!=e?e:{},{media:n}=t,r=p(t,["media"]),i={};for(var o of null!==(a=r.objects)&&void 0!==a?a:[]){var a,l;if("DataMedia"===(null===(l=o.type)||void 0===l?void 0:l[0])){var{id:s,"mime-type":c,path:u,name:d}=o,f=yield fetch("data:".concat(c,";base64,")+n[s]);i[s]={mime_type:c,path:u,content:[yield f.blob()],name:d}}}return yield y(r,i)}))).apply(this,arguments)}},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(24),i=n(78),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},function(e,t,n){var r=n(42),i=n(24),o=n(163);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(104),i=n(143);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.3",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t,n){var r=n(34),i=n(249),o=n(140),a=n(50);e.exports=function(e,t){for(var n=i(t),l=a.f,s=o.f,c=0;c<n.length;c++){var p=n[c];r(e,p)||l(e,p,s(t,p))}}},function(e,t,n){var r=n(34),i=n(77),o=n(252).indexOf,a=n(145);e.exports=function(e,t){var n,l=i(e),s=0,c=[];for(n in l)!r(a,n)&&r(l,n)&&c.push(n);for(;t.length>s;)r(l,n=t[s++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var r=n(106),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(24);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(e,t,n){var r,i=n(35),o=n(255),a=n(146),l=n(145),s=n(233),c=n(163),p=n(144),u="prototype",d="script",f=p("IE_PROTO"),v=function(){},m=function(e){return"<"+d+">"+e+"</"+d+">"},h=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t,n;h=r?function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):(t=c("iframe"),n="java"+d+":",t.style.display="none",s.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(m("document.F=Object")),e.close(),e.F);for(var i=a.length;i--;)delete h[u][a[i]];return h()};l[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(v[u]=i(e),n=new v,v[u]=null,n[f]=e):n=h(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(183),i=n(146);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){"use strict";var r,i,o,a=n(24),l=n(190),s=n(51),c=n(34),p=n(28),u=n(104),d=p("iterator"),f=!1;[].keys&&("next"in(o=[].keys())?(i=l(l(o)))!==Object.prototype&&(r=i):f=!0);var v=null==r||a((function(){var e={};return r[d].call(e)!==e}));v&&(r={}),u&&!v||c(r,d)||s(r,d,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},function(e,t,n){var r=n(34),i=n(147),o=n(144),a=n(258),l=o("IE_PROTO"),s=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=i(e),r(e,l)?e[l]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){var r=n(105);e.exports=r("navigator","userAgent")||""},function(e,t,n){"use strict";var r=n(24);function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},function(e,t,n){"use strict";n(267);var r=n(96),i=n(24),o=n(28),a=n(108),l=n(51),s=o("species"),c=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),p="$0"==="a".replace(/./,"$0"),u=o("replace"),d=!!/./[u]&&""===/./[u]("a","$0"),f=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,u){var v=o(e),m=!i((function(){var t={};return t[v]=function(){return 7},7!=""[e](t)})),h=m&&!i((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[s]=function(){return n},n.flags="",n[v]=/./[v]),n.exec=function(){return t=!0,null},n[v](""),!t}));if(!m||!h||"replace"===e&&(!c||!p||d)||"split"===e&&!f){var _=/./[v],g=n(v,""[e],(function(e,t,n,r,i){return t.exec===a?m&&!i?{done:!0,value:_.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),y=g[0],b=g[1];r(String.prototype,e,y),r(RegExp.prototype,v,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}u&&l(RegExp.prototype[v],"sham",!0)}},function(e,t,n){"use strict";var r=n(268).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(78),i=n(108);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(e,t,n){var r=n(5),i=n(82),o=r.WeakMap;e.exports="function"==typeof o&&/native code/.test(i(o))},function(e,t,n){var r=n(39),i=n(86),o=n(123),a=n(11);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(a(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(5);e.exports=r},function(e,t,n){"use strict";var r=n(8);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t,n){var r=n(124);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(8);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var r=n(16);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){var r=n(8),i=n(7),o=n(151),a=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){var r={};r[n(7)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){var r,i,o,a,l,s,c,p,u=n(5),d=n(52).f,f=n(133).set,v=n(134),m=n(207),h=n(92),_=u.MutationObserver||u.WebKitMutationObserver,g=u.document,y=u.process,b=u.Promise,k=d(u,"queueMicrotask"),S=k&&k.value;S||(r=function(){var e,t;for(h&&(e=y.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?a():o=void 0,e}}o=void 0,e&&e.enter()},v||h||m||!_||!g?b&&b.resolve?(c=b.resolve(void 0),p=c.then,a=function(){p.call(c,r)}):a=h?function(){y.nextTick(r)}:function(){f.call(u,r)}:(l=!0,s=g.createTextNode(""),new _(r).observe(s,{characterData:!0}),a=function(){s.data=l=!l})),e.exports=S||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,a()),o=t}},function(e,t,n){var r=n(89);e.exports=/web0s(?!.*chrome)/i.test(r)},function(e,t,n){var r=n(5);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){var r=n(16),i=n(71);e.exports=function(e,t,n){var o,a;return i&&"function"==typeof(o=t.constructor)&&o!==n&&r(a=o.prototype)&&a!==n.prototype&&i(e,a),e}},function(e,t,n){"use strict";var r=n(12),i=n(72);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.s__get__=t.s__name__=t.s__module__=t.s_setdefault=t.s_update=t.s_hide=t.s_show=t.s_x_anvil_classic_hide=t.s_x_anvil_classic_show=t.s_x_anvil_page_hidden=t.s_x_anvil_page_shown=t.s_x_anvil_page_removed=t.s_x_anvil_page_added=t.s_notify_visibility_change=t.s_notify_mounted_by_parent=t.s_clear=t.s_properties=t.s_builtin=t.s_form=t.s_name=t.s_anvil_get_unset_property_values=t.s_anvil_get_interactions=t.s_anvil_properties=t.s_anvil_events=t.s_get_components=t.s_set_data_binding_listener=t.s_page_shown=t.s_page_removed=t.s_page_added=t.s_set_parent=t.s_anvil_disable_drop_mode=t.s_anvil_enable_drop_mode=t.s_anvil_set_section_property_values=t.s_anvil_get_section_dom_element=t.s_anvil_get_sections=t.s_anvil_update_layout_properties=t.s_anvil_get_container_design_info=t.s_anvil_update_design_name=t.s_anvil_set_property_values=t.s_anvil_setup_dom=t.s_anvil_dom_element=t.s_get_attribute=t.s_setattr=t.s_init_subclass=t.s_new=t.s_init=t.s_refreshing_data_bindings=t.s_refresh_data_bindings=t.s_item=t.s_layout=t.s_slot=t.s_slots=t.s_parent=t.s_raise_event=t.s_remove_from_parent=t.s_add_component=t.s_set_event_handler=t.s_remove_event_handler=t.s_add_event_handler=void 0;var r=n(4),i=new r.pyStr("add_event_handler"),o=new r.pyStr("remove_event_handler"),a=new r.pyStr("set_event_handler"),l=new r.pyStr("add_component"),s=new r.pyStr("remove_from_parent"),c=new r.pyStr("raise_event"),p=new r.pyStr("parent"),u=new r.pyStr("slots"),d=new r.pyStr("slot"),f=new r.pyStr("layout"),v=new r.pyStr("item"),m=new r.pyStr("refresh_data_bindings"),h=new r.pyStr("refreshing_data_bindings"),_=new r.pyStr("__init__"),g=new r.pyStr("__new__"),y=new r.pyStr("__init_subclass__"),b=new r.pyStr("__setattr__"),k=new r.pyStr("__getattribute__"),S=new r.pyStr("_anvil_dom_element_"),w=new r.pyStr("_anvil_setup_dom_"),C=new r.pyStr("_anvil_set_property_values_"),O=new r.pyStr("_anvil_update_design_name_"),P=new r.pyStr("_anvil_get_container_design_info_"),x=new r.pyStr("_anvil_update_layout_properties_"),T=new r.pyStr("_anvil_get_sections_"),E=new r.pyStr("_anvil_get_section_dom_element_"),$=new r.pyStr("_anvil_set_section_property_values_"),j=new r.pyStr("_anvil_enable_drop_mode_"),A=new r.pyStr("_anvil_disable_drop_mode_"),M=new r.pyStr("set_parent"),N=new r.pyStr("page_added"),L=new r.pyStr("page_removed"),I=new r.pyStr("page_shown"),D=new r.pyStr("set_data_binding_listener"),F=new r.pyStr("get_components"),V=new r.pyStr("_anvil_events_"),R=new r.pyStr("_anvil_properties_"),U=new r.pyStr("_anvil_get_interactions_"),B=new r.pyStr("_anvil_get_unset_property_values_"),G=new r.pyStr("name"),H=new r.pyStr("form"),J=new r.pyStr("builtin"),z=new r.pyStr("properties"),W=new r.pyStr("clear"),q=new r.pyStr("_notify_mounted_by_parent"),K=new r.pyStr("_notify_visibility_change"),Y=new r.pyStr("x-anvil-page-added"),Z=new r.pyStr("x-anvil-page-removed"),X=new r.pyStr("x-anvil-page-shown"),Q=new r.pyStr("x-anvil-page-hidden"),ee=new r.pyStr("x-anvil-classic-show"),te=new r.pyStr("x-anvil-classic-hide"),ne=new r.pyStr("show"),re=new r.pyStr("hide"),ie=new r.pyStr("update"),oe=new r.pyStr("setdefault"),ae=new r.pyStr("__module__"),le=new r.pyStr("__name__"),se=new r.pyStr("__get__");t.s__get__=se,t.s__name__=le,t.s__module__=ae,t.s_setdefault=oe,t.s_update=ie,t.s_hide=re,t.s_show=ne,t.s_x_anvil_classic_hide=te,t.s_x_anvil_classic_show=ee,t.s_x_anvil_page_hidden=Q,t.s_x_anvil_page_shown=X,t.s_x_anvil_page_removed=Z,t.s_x_anvil_page_added=Y,t.s_notify_visibility_change=K,t.s_notify_mounted_by_parent=q,t.s_clear=W,t.s_properties=z,t.s_builtin=J,t.s_form=H,t.s_name=G,t.s_anvil_get_unset_property_values=B,t.s_anvil_get_interactions=U,t.s_anvil_properties=R,t.s_anvil_events=V,t.s_get_components=F,t.s_set_data_binding_listener=D,t.s_page_shown=I,t.s_page_removed=L,t.s_page_added=N,t.s_set_parent=M,t.s_anvil_disable_drop_mode=A,t.s_anvil_enable_drop_mode=j,t.s_anvil_set_section_property_values=$,t.s_anvil_get_section_dom_element=E,t.s_anvil_get_sections=T,t.s_anvil_update_layout_properties=x,t.s_anvil_get_container_design_info=P,t.s_anvil_update_design_name=O,t.s_anvil_set_property_values=C,t.s_anvil_setup_dom=w,t.s_anvil_dom_element=S,t.s_get_attribute=k,t.s_setattr=b,t.s_init_subclass=y,t.s_new=g,t.s_init=_,t.s_refreshing_data_bindings=h,t.s_refresh_data_bindings=m,t.s_item=v,t.s_layout=f,t.s_slot=d,t.s_slots=u,t.s_parent=p,t.s_raise_event=c,t.s_remove_from_parent=s,t.s_add_component=l,t.s_set_event_handler=a,t.s_remove_event_handler=o,t.s_add_event_handler=i},function(e,t,n){"use strict";n(63),n(0),n(19),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BOOTSTRAP_MODAL_BG=void 0;var r=n(26),i=n(10),o=n(6),a=n(4),l=n(1);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function c(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,l,"next",e)}function l(e){c(o,r,i,a,l,"throw",e)}a(void 0)}))}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=new a.pyStr("click"),f=new a.pyStr("anvil.alerts.FooterButton");function v(e){e.offsetHeight}var m=Symbol();class h{constructor(){u(this,m,{})}on(e,t){var n,r;(null!==(r=(n=this[m])[e])&&void 0!==r?r:n[e]=new Set).add(t)}removeListener(e,t){var n;null===(n=this[m][e])||void 0===n||n.delete(t)}emit(e){var t=arguments,n=this;return p((function*(){for(var r=t.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=t[o];for(var a of null!==(l=n[m][e])&&void 0!==l?l:[]){var l;yield a.apply(n,i)}}))()}once(e,t){var n=this;this.on(e,(function r(){n.removeListener(e,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];t.apply(n,o)}))}}var _,g={backdrop:!0,keyboard:!0,show:!0,id:void 0,large:null,title:null,dismissible:!0,body:!0,showFooter:!1,buttons:[]},y="fade",b="in";var k=["appGoesHere","anvil-header","anvil-badge"];function*S(e){if(e)for(yield e;e=e.parentNode;)yield e}t.BOOTSTRAP_MODAL_BG=1040;var w="z-index: ".concat(1040,";"),C={style:"display: none;"};function O(e){var{id:t,large:n,title:r,showFooter:i,dismissible:o,body:a}=e;t=t?"string"==typeof t?t:"alert-modal-"+t:"alert-modal";var l=null==a?C:{},c=null==r?C:{},p=i?{}:C,u=o?{}:C,d=null==n?"":"".concat(_,"modal-").concat(n?"lg":"sm"),f="".concat(_,"modal ").concat(_,"fade ").concat(_,"alert-modal");return PyDefUtils.h("div",{refName:"modal",id:t,className:f,style:w},PyDefUtils.h("div",{refName:"modalDialog",tabIndex:0,className:"".concat(_,"modal-dialog ").concat(d)},PyDefUtils.h("div",{refName:"modalContent",className:"".concat(_,"modal-content")},PyDefUtils.h("div",s({refName:"modalHeader",className:"".concat(_,"modal-header")},c),PyDefUtils.h("button",s({refName:"closeButton",type:"button",className:"".concat(_,"close"),"data-dismiss":"modal"},u),PyDefUtils.h("span",{refName:"closeIcon","aria-hidden":"true"},"×"),PyDefUtils.h("span",{refName:"closeText",className:"".concat(_,"sr-only")},"Close")),PyDefUtils.h("h4",{refName:"modalTitle",className:"".concat(_,"modal-title ").concat(_,"alert-title")},r)),PyDefUtils.h("div",s({refName:"modalBody",className:"".concat(_,"modal-body ").concat("string"==typeof a?_+"alert-text":"")},l),a),PyDefUtils.h("div",s({refName:"modalFooter",className:"".concat(_,"modal-footer")},p)))))}class P extends h{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),u(this,"el",void 0),u(this,"backdrop",void 0),u(this,"elements",void 0),u(this,"content",void 0),u(this,"_showFns",void 0),u(this,"_hideFns",void 0),u(this,"_events",{keydownHandler:()=>{},mousedownHandler:()=>{},clickHandler:()=>{},resizeHandler:()=>{}}),u(this,"_isShown",!1),u(this,"_pointerInContent",!1),u(this,"_scrollbarWidth",function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var r=t-n.offsetWidth;return document.body.removeChild(e),r}()),u(this,"_bodyIsOverflowing",!1),u(this,"_originalBodyPad",""),u(this,"_options",void 0),null==_&&(_=(0,i.getCssPrefix)(),y=_+y,b=_+b);var t=this._options=Object.assign({},P.options,e);t.showFooter||(t.showFooter=t.buttons.length>0);var[n,r]=PyDefUtils.h(O,t);this.el=n,this.elements=r,(this.backdrop=document.createElement("div")).className="".concat(_,"modal-backdrop"),this.content=this.elements.modalContent,this._showFns=[],this._hideFns=[]}static create(){var e=arguments;return p((function*(){var t=new P(e.length>0&&void 0!==e[0]?e[0]:{});return yield t.setup(),t}))()}setup(){var e=this;return p((function*(){var t=e.elements.modalFooter,n=e._options.buttons,i=[],s=[],c=yield(0,l.asyncToPromise)((()=>(0,a.pyCallOrSuspend)(o.anvilMod.HtmlTemplate))),p=yield(0,l.asyncToPromise)(c.anvil$hooks.setupDom);p.classList.add("anvil-alert-footer-button-panel");var u=o.anvilMod.pluggable_ui.mp$subscript(f),v=function*(t,n,i){var s=yield(0,l.asyncToPromise)((()=>(0,a.pyCallOrSuspend)(u,[],["text",new a.pyStr(t),"button_type",new a.pyStr(n||"default")]))),p=()=>{null==i||i(),e.hide()};yield(0,l.asyncToPromise)((()=>(0,r.addEventHandler)(s,d,p))),yield(0,l.asyncToPromise)((()=>(0,a.pyCallOrSuspend)(c.tp$getattr(o.s_add_component),[s])))};for(var{text:m,style:h,onClick:_}of n)yield*v(m,h,_);t.append(p),i.push((()=>(0,r.notifyComponentUnmounted)(c,!0))),s.push((()=>(0,r.notifyComponentMounted)(c,!0))),e._showFns=s,e._hideFns=i}))()}_setEvents(){this._events.keydownHandler=this._handleKeydown.bind(this),document.body.addEventListener("keydown",this._events.keydownHandler),this._events.mousedownHandler=this._handleMousedown.bind(this),this.el.addEventListener("mousedown",this._events.mousedownHandler),this._events.clickHandler=this._handleClick.bind(this),this.el.addEventListener("click",this._events.clickHandler),this._events.resizeHandler=this._handleResize.bind(this),window.addEventListener("resize",this._events.resizeHandler)}_handleMousedown(e){this._pointerInContent=!1;var t=S(e.target);for(var n of t)if(n===this.content){this._pointerInContent=!0;break}}_handleClick(e){var t=S(e.target);for(var n of t){if("HTML"===n.tagName)break;if(!0!==this._options.backdrop&&n===this.el)break;if(n===this.content)break;if("modal"===n.getAttribute("data-dismiss")){this.hide();break}if(!this._pointerInContent&&n===this.el){this.hide();break}}this._pointerInContent=!1}_handleKeydown(e){"Escape"===e.key&&this._options.keyboard&&(this.emit("dismiss",this,e),this.hide())}_handleResize(e){this._resize()}_showElement(){var e=this.el;v(this.el),e.classList.add(b),this._resize(),setTimeout((()=>{this.emit("shown",this)}),300)}_showBackdrop(e){if(!1!==this._options.backdrop){var t=this.backdrop;t.classList.add(y),v(t),t.classList.add(b)}setTimeout(e,150)}_createButtons(){}show(){var e=this;return p((function*(){var t,n;if(!e._isShown){e._setEvents(),e._checkScrollbar(),e._setScrollbar(),document.body.classList.add("".concat(_,"modal-open")),k.forEach((e=>{var t;null===(t=document.getElementById(e))||void 0===t||t.setAttribute("inert","")})),P._activeAlerts.forEach((e=>{e.elements.modal.setAttribute("inert","")})),P._activeAlerts.push(e);var r=e.el;return r.style.display="block",r.scrollTop=0,!1!==e._options.backdrop&&document.body.appendChild(e.backdrop),r.isConnected||document.body.appendChild(r),e._isShown=!0,e._showBackdrop((()=>e._showElement())),null===(t=document.activeElement)||void 0===t||null===(n=t.blur)||void 0===n||n.call(t),e.elements.modalDialog.focus(),yield(0,l.asyncToPromise)((()=>(0,a.chainOrSuspend)(null,...e._showFns))),yield e.emit("show",e),e}}))()}toggle(){var e=this;return p((function*(){return yield e._isShown?e.hide():e.show()}))()}_resize(){var e=this.el,t=e.scrollHeight>document.documentElement.clientHeight;e.style.paddingLeft=!this._bodyIsOverflowing&&t?this._scrollbarWidth+"px":"",e.style.paddingRight=this._bodyIsOverflowing&&!t?this._scrollbarWidth+"px":""}hide(){var e=this;return p((function*(){if(e._isShown){var t=e._options,n=e.backdrop,r=e.el.classList;if(e._isShown=!1,e.emit("hide",e),r.remove(b),t.backdrop&&n.classList.remove(b),e._removeEvents(),P._activeAlerts=P._activeAlerts.filter((t=>t!==e)),P._activeAlerts.length){var i=P._activeAlerts[P._activeAlerts.length-1];i.elements.modal.removeAttribute("inert"),i.elements.modalDialog.focus()}else document.body.classList.remove("".concat(_,"modal-open")),k.forEach((e=>{var t;null===(t=document.getElementById(e))||void 0===t||t.removeAttribute("inert")}));return setTimeout((()=>{document.body.style.paddingRight=e._originalBodyPad}),150),setTimeout((()=>{t.backdrop&&n.remove(),e.el.style.display="none",(0,l.asyncToPromise)((()=>(0,a.chainOrSuspend)(null,...e._hideFns))),e.emit("hidden",e),e.el.remove()}),300),e}}))()}_removeEvents(){document.body.removeEventListener("keydown",this._events.keydownHandler),this.el.removeEventListener("mousedown",this._events.mousedownHandler),this.el.removeEventListener("click",this._events.clickHandler),window.removeEventListener("resize",this._events.resizeHandler)}_checkScrollbar(){this._bodyIsOverflowing=document.body.clientWidth<window.innerWidth}_setScrollbar(){if(this._originalBodyPad=document.body.style.paddingRight||"",this._bodyIsOverflowing){var e=parseInt(this._originalBodyPad||"0",10);document.body.style.paddingRight=e+this._scrollbarWidth+"px"}}}u(P,"options",g),u(P,"_activeAlerts",[]);var x=P;t.default=x,window.anvilModal=P},function(e,t){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(e,t,n){var r=n(40),i=n(15);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length or index");return n}},function(e,t,n){"use strict";var r=n(94).charAt,i=n(30),o=n(128),a="String Iterator",l=i.set,s=i.getterFor(a);o(String,"String",(function(e){l(this,{type:a,string:String(e),index:0})}),(function(){var e,t=s(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){"use strict";var r=n(48),i=n(32),o=n(219),a=n(101),l=n(15),s=n(88),c=n(60);e.exports=function(e){var t,n,p,u,d,f,v=i(e),m="function"==typeof this?this:Array,h=arguments.length,_=h>1?arguments[1]:void 0,g=void 0!==_,y=c(v),b=0;if(g&&(_=r(_,h>2?arguments[2]:void 0,2)),null==y||m==Array&&a(y))for(n=new m(t=l(v.length));t>b;b++)f=g?_(v[b],b):v[b],s(n,b,f);else for(d=(u=y.call(v)).next,n=new m;!(p=d.call(u)).done;b++)f=g?o(u,_,[p.value,b],!0):p.value,s(n,b,f);return n.length=b,n}},function(e,t,n){var r=n(11),i=n(132);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){throw i(e),t}}},function(e,t,n){"use strict";var r=2147483647,i=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",l=Math.floor,s=String.fromCharCode,c=function(e){return e+22+75*(e<26)},p=function(e,t,n){var r=0;for(e=n?l(e/700):e>>1,e+=l(e/t);e>455;r+=36)e=l(e/35);return l(r+36*e/(e+38))},u=function(e){var t=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);var n,i,o=e.length,u=128,d=0,f=72;for(n=0;n<e.length;n++)(i=e[n])<128&&t.push(s(i));var v=t.length,m=v;for(v&&t.push("-");m<o;){var h=r;for(n=0;n<e.length;n++)(i=e[n])>=u&&i<h&&(h=i);var _=m+1;if(h-u>l((r-d)/_))throw RangeError(a);for(d+=(h-u)*_,u=h,n=0;n<e.length;n++){if((i=e[n])<u&&++d>r)throw RangeError(a);if(i==u){for(var g=d,y=36;;y+=36){var b=y<=f?1:y>=f+26?26:y-f;if(g<b)break;var k=g-b,S=36-b;t.push(s(c(b+k%S))),g=l(k/S)}t.push(s(c(g))),f=p(d,_,m==v),d=0,++m}}++d,++u}return t.join("")};e.exports=function(e){var t,n,r=[],a=e.toLowerCase().replace(o,".").split(".");for(t=0;t<a.length;t++)n=a[t],r.push(i.test(n)?"xn--"+u(n):n);return r.join(".")}},function(e,t,n){"use strict";n(0);var r=n(12),i=n(39),o=n(136),a=n(25),l=n(100),s=n(47),c=n(129),p=n(30),u=n(64),d=n(14),f=n(48),v=n(75),m=n(11),h=n(16),_=n(70),g=n(45),y=n(222),b=n(60),k=n(7),S=i("fetch"),w=i("Headers"),C=k("iterator"),O="URLSearchParams",P=O+"Iterator",x=p.set,T=p.getterFor(O),E=p.getterFor(P),$=/\+/g,j=Array(4),A=function(e){return j[e-1]||(j[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},M=function(e){try{return decodeURIComponent(e)}catch(t){return e}},N=function(e){var t=e.replace($," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(A(n--),M);return t}},L=/[!'()~]|%20/g,I={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},D=function(e){return I[e]},F=function(e){return encodeURIComponent(e).replace(L,D)},V=function(e,t){if(t)for(var n,r,i=t.split("&"),o=0;o<i.length;)(n=i[o++]).length&&(r=n.split("="),e.push({key:N(r.shift()),value:N(r.join("="))}))},R=function(e){this.entries.length=0,V(this.entries,e)},U=function(e,t){if(e<t)throw TypeError("Not enough arguments")},B=c((function(e,t){x(this,{type:P,iterator:y(T(e).entries),kind:t})}),"Iterator",(function(){var e=E(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),G=function(){u(this,G,O);var e,t,n,r,i,o,a,l,s,c=arguments.length>0?arguments[0]:void 0,p=[];if(x(this,{type:O,entries:p,updateURL:function(){},updateSearchParams:R}),void 0!==c)if(h(c))if("function"==typeof(e=b(c)))for(n=(t=e.call(c)).next;!(r=n.call(t)).done;){if((a=(o=(i=y(m(r.value))).next).call(i)).done||(l=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");p.push({key:a.value+"",value:l.value+""})}else for(s in c)d(c,s)&&p.push({key:s,value:c[s]+""});else V(p,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},H=G.prototype;l(H,{append:function(e,t){U(arguments.length,2);var n=T(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){U(arguments.length,1);for(var t=T(this),n=t.entries,r=e+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){U(arguments.length,1);for(var t=T(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){U(arguments.length,1);for(var t=T(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){U(arguments.length,1);for(var t=T(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){U(arguments.length,1);for(var n,r=T(this),i=r.entries,o=!1,a=e+"",l=t+"",s=0;s<i.length;s++)(n=i[s]).key===a&&(o?i.splice(s--,1):(o=!0,n.value=l));o||i.push({key:a,value:l}),r.updateURL()},sort:function(){var e,t,n,r=T(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(e=o[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function(e){for(var t,n=T(this).entries,r=f(e,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new B(this,"keys")},values:function(){return new B(this,"values")},entries:function(){return new B(this,"entries")}},{enumerable:!0}),a(H,C,H.entries),a(H,"toString",(function(){for(var e,t=T(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(F(e.key)+"="+F(e.value));return n.join("&")}),{enumerable:!0}),s(G,O),r({global:!0,forced:!o},{URLSearchParams:G}),o||"function"!=typeof S||"function"!=typeof w||r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,i=[e];return arguments.length>1&&(h(t=arguments[1])&&(n=t.body,v(n)===O&&((r=t.headers?new w(t.headers):new w).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=_(t,{body:g(0,String(n)),headers:g(0,r)}))),i.push(t)),S.apply(this,i)}}),e.exports={URLSearchParams:G,getState:T}},function(e,t,n){var r=n(11),i=n(60);e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}n(9),n(33),window.messages=window.messages||{};var i=0,o={};window.anvilCallIdeFn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,r={type:"CALL",id:i++,fn:e,args:t},a=new Promise(((e,t)=>{o[r.id]={resolve:e,reject:t}}));if(window.parent!==window)window.parent.postMessage(r,"*");else{if(!window.opener)throw new Error("No IDE to talk to.");window.opener.postMessage(r,"*")}return n&&setTimeout((()=>{var e;null===(e=o[r.id])||void 0===e||e.reject(new Error("Timeout"))}),n),a},$((function(){var e;window.addEventListener("message",function(){var e,t=(e=function*(e){if(e.data&&(e.origin==window.anvilParams.ideOrigin||window.anvilAppOrigin.startsWith(e.origin)))if(e.data.response||e.data.error){var{id:t,response:n,error:r}=e.data,i=o[t];i&&(delete o[t],n?i.resolve(n):i.reject(r))}else{var a,l=window.messages[e.data.fn];try{l?a={result:yield l.call(window.messages,e.data.args)}:console.debug("Message not recognised:",e.data)}catch(e){console.error(e,e.stack||"(no stack trace)"),a=e instanceof Sk.builtin.BaseException?{fn:"pythonError",traceback:e.traceback,type:e.tp$name,msg:Sk.ffi.remapToJs(e.args)[0]}:{error:""+e}}a&&(a.requestId=e.data.requestId,window.parent!==window?window.parent.postMessage(a,e.origin):window.opener&&window.opener.postMessage(a,e.origin))}},function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function l(e){r(a,i,o,l,s,"next",e)}function s(e){r(a,i,o,l,s,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}()),window.parent.postMessage({fn:"ready"},"*"),null===(e=window.opener)||void 0===e||e.postMessage({fn:"ready"},"*")}))},function(e,t,n){"use strict";n(0),n(9),n(3),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.setDesignerApi=function(e){t.designerApi=l=e,s.in_designer=i.pyTrue},t.pyDesignerApi=t.designerApi=void 0;var r,i=n(4),o=(r=n(1))&&r.__esModule?r:{default:r};var a=function(){throw new Error("UI designer not available")},l={inDesigner:!1,getDesignName:e=>null,updateComponentProperties:a,updateComponentSections:()=>null,preEditSubform:a,startEditingSubform:a,startInlineEditing:a,startEditingForm:a,registerInteraction:()=>null,notifyInteractionsChanged:()=>null,notifyDomNodeChanged:()=>null,getDesignerState:a,getDesignComponent:e=>e,requestFormPropertyChange:()=>null};t.designerApi=l;var s={__name__:new i.pyStr("designer"),in_designer:i.pyFalse};function c(e){return(0,i.promiseToSuspension)(Promise.resolve(e).then((()=>i.pyNone)))}t.pyDesignerApi=s,(0,i.setUpModuleMethods)("designer",s,{get_design_name:{$meth:e=>(0,i.toPy)(l.getDesignName(e)),$flags:{OneArg:!0}},get_designer_state:{$meth:e=>(0,i.proxy)(l.getDesignerState(e)),$flags:{OneArg:!0}},update_component_properties:{$meth:(e,t,n)=>c(l.updateComponentProperties(e,(0,i.toJs)(t),(0,i.toJs)(n))),$flags:{NamedArgs:["component","properties","layout_properties"],Defaults:[new i.pyDict,new i.pyDict]}},update_component_sections:{$meth:(e,t)=>c(l.updateComponentSections(e,t&&t!==i.pyNone&&(0,i.toJs)(t))),$flags:{NamedArgs:["component","section_updates"],Defaults:[i.pyNone]}},start_editing_subform:{$meth:e=>c(l.startEditingSubform(e)),$flags:{OneArg:!0}},start_editing_form:{$meth:(e,t)=>(0,i.checkString)(t)?c(l.startEditingForm(e,t.toString())):i.pyNone,$flags:{NamedArgs:["requesting_component","form_property_value"]}},register_interaction:{$meth:(e,t,n,r)=>n!==i.pyNone&&"dblclick"!==n.toString()?i.pyNone:(0,i.chainOrSuspend)((0,i.toJs)(t)||e.anvil$hooks.setupDom(),(t=>c(l.registerInteraction(e,t,"dblclick",(e=>o.default.callAsync(r,void 0,void 0,void 0,(0,i.toPy)(e))))))),$flags:{NamedArgs:["component","dom_element","event","callback"],Defaults:[new i.pyStr("dblclick"),i.pyNone]}},notify_interactions_changed:{$meth:e=>c(l.notifyInteractionsChanged(e)),$flags:{OneArg:!0}},get_design_component:{$meth:e=>l.getDesignComponent(e),$flags:{OneArg:!0}},request_form_property_change:{$meth:(e,t,n,r)=>(0,i.checkString)(t)?c(l.requestFormPropertyChange(e,t.toString(),n.toString(),(0,i.toJs)(r))):i.pyNone,$flags:{NamedArgs:["requesting_component","form","property_name","property_value"]}},start_inline_editing:{$meth(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],[r,o,a,s]=(0,i.copyKeywordsToNamedArgs)("start_inline_editing",["component","property_name","dom_element","on_finished"],e,n,[i.pyNone,i.pyNone]);if((0,i.checkArgsLen)("start_inline_editing",e,2,3),!(0,i.checkString)(o))return i.pyNone;var p=null!==(t=(0,i.remapToJsOrWrap)(s))&&void 0!==t?t:void 0;return(0,i.chainOrSuspend)((0,i.toJs)(a)||r.anvil$hooks.setupDom(),(e=>c(l.startInlineEditing(r,{name:(0,i.toJs)(o),type:"string"},e,{onFinished:p}))))},$flags:{FastCall:!0}}})},function(e,t,n){var r=n(29),i="["+n(159)+"]",o=RegExp("^"+i+i+"*"),a=RegExp(i+i+"*$"),l=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(o,"")),2&e&&(n=n.replace(a,"")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},function(e,t,n){"use strict";var r=n(12),i=n(225).trim;r({target:"String",proto:!0,forced:n(316)("trim")},{trim:function(){return i(this)}})},function(e,t,n){"use strict";function r(e){return e<26?e+65:e<52?e+71:e<62?e-4:62===e?43:63===e?47:33}n(0),n(49),n(20),n(65),n(66),e.exports={base64EncStr:function(e){for(var t=2,n="",i=e.length,o=0,a=0;a<i;a++)t=a%3,o|=e.charCodeAt(a)<<(16>>>t&24),2!==t&&e.length-a!=1||(n+=String.fromCharCode(r(o>>>18&63),r(o>>>12&63),r(o>>>6&63),r(63&o)),o=0);return n.substr(0,n.length-2+t)+(2===t?"":1===t?"=":"==")},base64DecToStr:function(e){for(var t=function(e,t){for(var n,r,i,o=e.replace(/[^A-Za-z0-9+/]/g,""),a=o.length,l=t?Math.ceil((3*a+1>>2)/t)*t:3*a+1>>2,s=new Uint8Array(l),c=0,p=0,u=0;u<a;u++)if(r=3&u,c|=((i=o.charCodeAt(u))>64&&i<91?i-65:i>96&&i<123?i-71:i>47&&i<58?i+4:43===i?62:47===i?63:0)<<6*(3-r),3===r||a-u==1){for(n=0;n<3&&p<l;n++,p++)s[p]=c>>>(16>>>n&24)&255;c=0}return s}(e),n="",r=0;r<t.length;r++)n+=String.fromCharCode(t[r]);return n}}},function(e,t,n){"use strict";n(0),n(17),n(73),n(49),n(54),n(20),n(65),n(66),Object.defineProperty(t,"__esModule",{value:!0}),t.pythonifyPath=s,t.pyBytesOrStr2ab=function(e){if("string"!=typeof e)return e.buffer;for(var t=e,n=new ArrayBuffer(t.length),r=new Uint8Array(n),i=0;i<t.length;i++){var o=t.charCodeAt(i);if(o>255)throw new Sk.builtin.ValueError("Cannot encode unicode character for transfer to server");r[i]=o}return n},t.throwNonStrKey=function(e,t){var n="Cannot use '".concat(e.tp$name,"' objects as the key in a dict when sending to a server-side module; only string keys are allowed (arguments ").concat(s(t),")");throw new r.pyTypeError(n)},t.throwSerializationError=c,t.assertIsPy=function(e){var t;(null===(t=e.value)||void 0===t?void 0:t.sk$object)||c(e)},t.isInstance=function(e,t){return(0,r.isTrue)((0,r.pyIsInstance)(e,t))},t.INTERNED=t.TZ=t.DT=void 0;var r=n(4),i=n(6),o={get dateFromIso(){return delete this.dateFromIso,this.dateFromIso=i.datetimeMod.date.tp$getattr(l.fromisoformat)},get datetimeFromIso(){return delete this.datetimeFromIso,this.datetimeFromIso=i.datetimeMod.datetime.tp$getattr(l.fromisoformat)},get strftime(){return delete this.strftime,this.strftime=i.datetimeMod.date.tp$getattr(l.strftime)},get replace(){return delete this.replace,this.replace=i.datetimeMod.datetime.tp$getattr(l.replace)},datetimeFmt:new r.pyStr("%Y-%m-%d %H:%M:%S.%f"),datetimeFmtTz:new r.pyStr("%Y-%m-%d %H:%M:%S.%f%z"),dateFmt:new r.pyStr("%Y-%m-%d")};t.DT=o;var a={get tzoffset(){return delete this.tzoffset,this.tzoffset=i.tzMod.tzoffset}};t.TZ=a;var l=Object.fromEntries(["__serialize__","__new_deserialized__","__deserialize__","fromisoformat","get_content_type","get_bytes","get_name","replace","strftime","tzinfo","update","utcoffset"].map((e=>[e,new r.pyStr(e)])));function s(e){return e.map((e=>"["+JSON.stringify(e)+"]")).join("")}function c(e){var t,n,o=null!==(t=null===(n=e.value)||void 0===n?void 0:n.tp$name)&&void 0!==t?t:"unexpected",a="Cannot pass ".concat(o," object to a server function: arguments ").concat(s(e.path.slice(1)));throw(0,r.pyCall)(i.anvilServerMod.SerializationError,[new r.pyStr(a)])}t.INTERNED=l},function(e,t,n){"use strict";n(0),n(17),n(49),n(9),n(3),n(20),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.serialize=function(e,t,n){var r,{knownCapabilities:a,knownLiveObjectMethods:p,knownLiveObjectInstances:d,blobContent:f,commandOrMethod:v,liveObjectSpec:_}=n,g=[],y=new c.SerializationInfo,b=m(e,[],g,y),k=[],S=y.$toJson();if(y.$setTxDataAvailable(!1),b[l.VT_GLOBAL]=m(S,[l.VT_GLOBAL],k,y),null!==(r=b.objects)&&void 0!==r||(b.objects=[]),_)b.liveObjectCall={method:v,id:_.id,backend:_.backend,permissions:_.permissions,mac:_.mac},d[_.backend]={[_.id]:[_]};else{if(!v)throw new i.pyTypeError("anvil.server.call() requires at least one parameter");b.command=v}var w=[...k,...g];return function(e,t,n,r){for(var{knownCapabilities:a,knownLiveObjectMethods:l,knownLiveObjectInstances:c,blobContent:p}=r,d=0;d<t.length;d++){var f=t[d];if((0,s.assertIsPy)(f),f.value.$anvil_isLazyMedia)e.objects.push(u(u({},f.value._spec),{},{path:f.path}));else if((0,s.isInstance)(f.value,o.anvilMod.Media))e.objects.push(h(f,d,n,p));else if((0,s.isInstance)(f.value,o.anvilMod.LiveObjectProxy)){var v,m,_,g=f.value._spec,{backend:y,id:b,permissions:k,mac:S,methods:w}=g,C={path:f.path,type:["LiveObject"],backend:y,id:b,permissions:k,mac:S};w!==l[C.backend]&&(C.methods=w,l[C.backend]=w);var O=null!==(m=c[v=C.backend])&&void 0!==m?m:c[v]={};(null!==(_=O[b])&&void 0!==_?_:O[b]=[]).push(g),e.objects.push(C)}else if((0,s.isInstance)(f.value,o.anvilServerMod.Capability))a.push(f.value),e.objects.push({path:f.path,type:["Capability"],scope:f.value._scope,narrow:f.value._narrow,mac:f.value._mac});else if((0,s.isInstance)(f.value,o.datetimeMod.datetime)){var P=f.value.tp$getattr(s.INTERNED.tzinfo),x=void 0;if(P===i.pyNone||(0,i.pyCall)(P.tp$getattr(s.INTERNED.utcoffset),[f.value])===i.pyNone){var T=(0,i.pyCall)(s.TZ.tzoffset,[],["minutes",(0,i.toPy)(-(new Date).getTimezoneOffset())]);x=(0,i.pyCall)(s.DT.replace,[f.value],["tzinfo",T])}else x=f.value;var E=(0,i.pyCall)(s.DT.strftime,[x,s.DT.datetimeFmtTz]);e.objects.push({path:f.path,type:["DateTime"],value:E.toString()})}else if((0,s.isInstance)(f.value,o.datetimeMod.date)){var $=(0,i.pyCall)(s.DT.strftime,[f.value,s.DT.dateFmt]);e.objects.push({path:f.path,type:["Date"],value:$.toString()})}else if(f.value instanceof i.pyLong)e.objects.push({path:f.path,type:["Long"],value:String(f.value.valueOf())});else if(f.value instanceof i.pyFloat)e.objects.push({path:f.path,type:["Float"],value:""+f.value.valueOf()});else{var j=f.value.ob$type,A="ValueType";j===i.pyType&&(j=f.value,A="ClassType");var M=j.anvil$serializableName;M?e.objects.push({path:f.path,type:[A],typeName:M}):(0,s.throwSerializationError)(f)}}}(b,w,t,{knownCapabilities:a,knownLiveObjectMethods:p,knownLiveObjectInstances:d,blobContent:f}),b};var r,i=n(4),o=n(6),a=(r=n(1))&&r.__esModule?r:{default:r},l=n(117),s=n(228),c=n(161);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function v(e,t,n,r,i){n.push(e);var o=m(t,n,r,i);return n.pop(),o}function m(e,t,n,r){var a;if(null==e||null===(a=e.ob$type)||void 0===a?void 0:a.anvil$serializableName)return function(e,t,n,r){var a=e.ob$type.anvil$serializableName;if(!a||!(a in l.pyValueTypes)){var c,p=null!==(c=e.tp$name)&&void 0!==c?c:"[unknown]",u="Type ".concat(p," is not registered with @anvil.server.portable_class.");throw(0,i.pyCall)(o.anvilServerMod.SerializationError,[new i.pyStr(u)])}var d=e.tp$getattr(s.INTERNED.__serialize__);r.$setDefaultKey(a);var f=m(d?(0,i.pyCall)(d,[r]):e.tp$getattr(i.pyStr.$dict),t,n,r);return n.push({path:t.slice(0),value:e}),f}(e,t,n,r);var c=e.valueOf(),p=typeof c;if(null===c)return null;if("number"===p&&Number.isFinite(c))return c;if("string"===p||"boolean"===p)return c;if(JSBI.__isBigInt(c))return n.push({path:t.slice(0),value:new i.pyLong(c)}),null;if(Array.isArray(c)){for(var u=[],d=0;d<c.length;d++)u.push(v(d,c[d],t,n,r));return u}if(e instanceof i.pyDict){var f={};for(var[h,_]of e.$items()){h instanceof i.pyStr||(0,s.throwNonStrKey)(h,t);var g=h.toString();f[g]=v(g,_,t,n,r)}return f}if("object"===p&&Object.getPrototypeOf(e)===Object.prototype){var y={};for(var b in e)y[b]=v(b,e[b],t,n,r);return y}return n.push({path:t.slice(0),value:e}),null}function h(e,t,n,r){return _.apply(this,arguments)}function _(){var e;return e=function*(e,t,n,r){for(var o=yield Promise.all([a.default.callAsync(e.value.tp$getattr(s.INTERNED.get_content_type)),a.default.callAsync(e.value.tp$getattr(s.INTERNED.get_bytes)),a.default.callAsync(e.value.tp$getattr(s.INTERNED.get_name))]),[c,p,u]=o.map(i.toJs),d=e.path,f=(0,s.pyBytesOrStr2ab)(p),v=[],m=0,h=0,_=n+"_"+t;;){var g=Math.min(l.CHUNK_SIZE,f.byteLength-m),y=new DataView(f,m,g),b={type:"CHUNK_HEADER",requestId:n,mediaId:_,chunkIndex:h++,lastChunk:(m+=l.CHUNK_SIZE)>=f.byteLength};if(v.push({json:b,data:y}),b.lastChunk)break}return r.push(v),{path:d,type:["DataMedia"],id:_,name:u,"mime-type":c}},_=function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){f(o,r,i,a,l,"next",e)}function l(e){f(o,r,i,a,l,"throw",e)}a(void 0)}))},_.apply(this,arguments)}},function(e,t,n){"use strict";n(9),Object.defineProperty(t,"__esModule",{value:!0}),t.anvilAppOnline=void 0;var r=n(27);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function l(e){o(a,r,i,l,s,"next",e)}function s(e){o(a,r,i,l,s,"throw",e)}l(void 0)}))}}var l=7500;function s(){return(s=a((function*(e){var t=new AbortController,{signal:n}=t,r=!1,i=fetch(e,{signal:n});setTimeout((()=>{r||t.abort()}),l);var o=yield i;return r=!0,o}))).apply(this,arguments)}var c=new class{constructor(){i(this,"onLine",navigator.onLine),i(this,"offlineTimeout",5e3),i(this,"lastCheck",0),i(this,"deferredStatus",null)}updateStatus(e){this.onLine=e,this.lastCheck=Date.now(),this.deferredStatus=null}fetchStatus(e){var t=this;return a((function*(){if(e===t.onLine)return t.onLine;if(t.deferredStatus)return t.deferredStatus.promise;var n,i=t.deferredStatus=(0,r.defer)();try{yield function(e){return s.apply(this,arguments)}("_/check-app-online?t="+Date.now()),n=!0}catch(e){n=!1}return i.resolve(n),t.updateStatus(n),n}))()}checkStatus(){var e=this;return a((function*(){return e.lastCheck>Date.now()-e.offlineTimeout?e.onLine:e.fetchStatus()}))()}};function p(){c.updateStatus(navigator.onLine)}t.anvilAppOnline=c,window.anvilAppOnline=c,window.addEventListener("online",p),window.addEventListener("offline",p)},function(e,t,n){"use strict";n(0),n(17),n(9),n(37),n(33),n(226),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.makeRequest=u,t.executeCallHttp=f,t.doHttpCall=function(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.globalSuppressLoading.value>0;return(0,o.doRpcCall)(e,t,n,i,a,f)};var r=n(27),i=n(138),o=n(76);function a(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function l(e){a(o,r,i,l,s,"next",e)}function s(e){a(o,r,i,l,s,"throw",e)}l(void 0)}))}}var s=new TextEncoder;function c(){return(c=l((function*(e,t){t="--"+t;var n=(yield e.text()).split("\r\n"),r=[],i=!1,o=!1,a=null;for(var l of n)l!==t?l||!i?o?("application/json"===a?r.push(l):"application/octet-stream"===a&&r.push(s.encode(l).buffer),o=!1,i=!1):i&&l.startsWith("Content-Type: ")&&(a=l.slice("Content-Type: ".length)):(i=!1,o=!0):(i=!0,o=!1,a=null);return r}))).apply(this,arguments)}function p(){return p=l((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=new FormData;n.append("json-data",JSON.stringify(e)),t.forEach(((e,t)=>{e.forEach(((e,r)=>{var{json:i,data:o}=e;n.append("chunk-json-".concat(t,"-").concat(r),JSON.stringify(i));var a=new Blob([o],{type:"application/octet-stream"});n.append("chunk-data-".concat(t,"-").concat(r),a,"chunk-".concat(t,"-").concat(r,".bin"))}))}));var r=yield fetch("".concat(window.anvilAppOrigin,"/_/server-call-http?_anvil_session=").concat(window.anvilSessionToken),{method:"POST",body:n});if(!r.ok)throw new Error(r.statusText);var i=function(e){var t=e.headers.get("Content-Type");if(!t)return null;var n=t.split(";").map((e=>e.trim()));if(n.length<2||!n[0].startsWith("multipart"))return null;var r=n.find((e=>e.startsWith("boundary=")));return r?r.slice("boundary=".length):null}(r);if(!i)throw new Error("unexpected return from server");var o=yield function(e,t){return c.apply(this,arguments)}(r,i);return o})),p.apply(this,arguments)}function u(e,t,n){return d.apply(this,arguments)}function d(){return d=l((function*(e,t,n){var{profile:r,id:i}=e,a=r.append("Send call");yield(0,o.waitForOutstandingRequests)(a),o.outstandingRequests[i]=e;var l=yield function(e){return p.apply(this,arguments)}(t,n);return a.end(),l})),d.apply(this,arguments)}function f(e,t,n,r){return v.apply(this,arguments)}function v(){return(v=l((function*(e,t,n,r){var{id:a,deferred:l}=e;try{var s=yield t,c=yield u(e,s,n);for(var p of c)(0,i.handleMessage)(p)}catch(e){console.error(e),(0,o.deleteOutstandingRequest)(a),r||window.setLoading(!1),l.reject(e)}}))).apply(this,arguments)}},function(e,t,n){var r=n(24),i=/#|\.prototype\./,o=function(e,t){var n=l[a(e)];return n==c||n!=s&&("function"==typeof t?r(t):!!t)},a=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},l=o.data={},s=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},function(e,t,n){var r=n(105);e.exports=r("document","documentElement")},function(e,t,n){"use strict";var r=n(57),i=n(44),o=n(261),a=n(184),l=n(79),s=n(77),c=n(262),p=n(28),u=n(263),d=n(264),f=u("slice"),v=d("slice",{ACCESSORS:!0,0:0,1:2}),m=p("species"),h=[].slice,_=Math.max;r({target:"Array",proto:!0,forced:!f||!v},{slice:function(e,t){var n,r,p,u=s(this),d=l(u.length),f=a(e,d),v=a(void 0===t?d:t,d);if(o(u)&&("function"!=typeof(n=u.constructor)||n!==Array&&!o(n.prototype)?i(n)&&null===(n=n[m])&&(n=void 0):n=void 0,n===Array||void 0===n))return h.call(u,f,v);for(r=new(void 0===n?Array:n)(_(v-f,0)),p=0;f<v;f++,p++)f in u&&c(r,p,u[f]);return r.length=p,r}})},function(e,t,n){var r,i,o=n(21),a=n(191),l=o.process,s=l&&l.versions,c=s&&s.v8;c?i=(r=c.split("."))[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},function(e,t,n){var r=n(57),i=n(265);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(e,t,n){"use strict";var r=n(193),i=n(35),o=n(79),a=n(106),l=n(62),s=n(194),c=n(269),p=n(195),u=Math.max,d=Math.min;r("replace",2,(function(e,t,n,r){var f=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=r.REPLACE_KEEPS_$0,m=f?"$":"$0";return[function(n,r){var i=l(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!f&&v||"string"==typeof r&&-1===r.indexOf(m)){var l=n(t,e,this,r);if(l.done)return l.value}var h=i(e),_=String(this),g="function"==typeof r;g||(r=String(r));var y=h.global;if(y){var b=h.unicode;h.lastIndex=0}for(var k=[];;){var S=p(h,_);if(null===S)break;if(k.push(S),!y)break;""===String(S[0])&&(h.lastIndex=s(_,o(h.lastIndex),b))}for(var w,C="",O=0,P=0;P<k.length;P++){S=k[P];for(var x=String(S[0]),T=u(d(a(S.index),_.length),0),E=[],$=1;$<S.length;$++)E.push(void 0===(w=S[$])?w:String(w));var j=S.groups;if(g){var A=[x].concat(E,T,_);void 0!==j&&A.push(j);var M=String(r.apply(void 0,A))}else M=c(x,_,T,E,j,r);T>=O&&(C+=_.slice(O,T)+M,O=T+x.length)}return C+_.slice(O)}]}))},function(e,t,n){var r=n(44),i=n(78),o=n(28)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(35),i=n(169),o=n(28)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},function(e,t,n){var r=n(21),i=n(274),o=n(166),a=n(51),l=n(28),s=l("iterator"),c=l("toStringTag"),p=o.values;for(var u in i){var d=r[u],f=d&&d.prototype;if(f){if(f[s]!==p)try{a(f,s,p)}catch(e){f[s]=p}if(f[c]||a(f,c,u),i[u])for(var v in o)if(f[v]!==o[v])try{a(f,v,o[v])}catch(e){f[v]=o[v]}}}},function(e,t,n){"use strict";var r,i=n(12),o=n(52).f,a=n(15),l=n(111),s=n(29),c=n(112),p=n(36),u="".endsWith,d=Math.min,f=c("endsWith");i({target:"String",proto:!0,forced:!!(p||f||(r=o(String.prototype,"endsWith"),!r||r.writable))&&!f},{endsWith:function(e){var t=String(s(this));l(e);var n=arguments.length>1?arguments[1]:void 0,r=a(t.length),i=void 0===n?r:d(a(n),r),o=String(e);return u?u.call(t,o,i):t.slice(i-o.length,i)===o}})},function(e,t,n){"use strict";var r=n(12),i=n(59),o=n(32),a=n(8),l=n(200),s=[],c=s.sort,p=a((function(){s.sort(void 0)})),u=a((function(){s.sort(null)})),d=l("sort");r({target:"Array",proto:!0,forced:p||!u||!d},{sort:function(e){return void 0===e?c.call(o(this)):c.call(o(this),i(e))}})},function(e,t,n){"use strict";n(0),n(55),n(3),n(33),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.setupDefaultAnvilPluggableUI=t.pluggableUI=void 0;var r=n(10),i=n(6),o=n(4),a=new o.pyDict,l=new o.pyStr("focus"),s=new o.pyStr("spacing_above"),c=new o.pyStr("spacing_below"),p=new o.pyStr("none"),u=new o.pyStr("text"),d=new o.pyStr("anvil.TextBox"),f=[],v=(e,t)=>{if((null==t?void 0:t.length)||2!==e.length)throw new o.pyTypeError("usage: pluggable_ui.provide(package_name, updates)");var[n,r]=e;if(!(n instanceof o.pyStr))throw new o.pyTypeError("package_name must be a string");if(!(r instanceof o.pyDict))throw new o.pyTypeError("updates must be a dict");var i=r.$items();for(var[a,l]of i)if(!(a instanceof o.pyStr))throw new o.pyTypeError("keys of pluggable_ui must be strings");return[n,r,i]},m=new((0,o.buildNativeClass)("anvil.PluggableUI",{base:o.pyMappingProxy,constructor:function(){this.mapping=a},slots:{$r:()=>new o.pyStr("PluggableUI(".concat((0,o.objectRepr)(a),")")),tp$as_sequence_or_mapping:!0,mp$ass_subscript(e,t){throw new o.pyTypeError("use provide() method to update anvil.pluggable_ui")}},methods:{provide:{$meth(e,t){var[n,r,l]=v(e,t);(0,o.pyCall)(a.tp$getattr(i.s_update),[r]);var s=[],c=function(e){var t=new o.pyDict;for(var[n,r]of l){var i=n.toString();(e.isPrefix?i.startsWith(e.key):i===e.key)&&t.mp$ass_subscript(n,r)}t.sq$length()&&s.push((()=>(0,o.pyCallOrSuspend)(e.function,[t])))};for(var p of f)c(p);return(0,o.chainOrSuspend)(null,...s,(()=>o.pyNone))},$flags:{FastCall:!0}},provide_defaults:{$meth(e,t){var[n,r,l]=v(e,t),s=a.tp$getattr(i.s_setdefault);for(var[c,p]of l)(0,o.pyCall)(s,[c,p]);return o.pyNone},$flags:{FastCall:!0}},add_listener:{$meth(e,t){if((null==t?void 0:t.length)||2!=e.length)throw new o.pyTypeError("usage: add_listener(name, listener_func)");var[n,r]=e;if(!(n instanceof o.pyStr))throw new o.pyTypeError("first argument to add_listener() must be a string");if(!r.tp$call)throw new o.pyTypeError("second argument to add_listener() must be a callable function");var i=n.toString(),a=/\*$/.test(i),l=a?i.substring(0,i.length-1):i;return f.push({key:l,isPrefix:a,function:r}),r},$flags:{FastCall:!0}},remove_listener:{$meth(e){var t=f.findIndex((t=>t.function===e));return-1!==t&&f.splice(t,1),o.pyNone},$flags:{OneArg:!0}}}}));t.pluggableUI=m;t.setupDefaultAnvilPluggableUI=e=>{var t={__name__:new o.pyStr("_builtin_composites")};for(var n of["TextBox","TextArea","Button","CheckBox","RadioButton"])a.mp$ass_subscript(new o.pyStr("anvil."+n),e[n]);var f=e.LinearPanel,v=(0,o.buildPyClass)(t,((t,n)=>{var r=["focus","lost_focus","pressed_enter"];n._anvil_events_=(0,o.toPy)(r.map((e=>({name:e})))),n.__init__=(0,i.funcFastCall)(((t,n)=>{(0,o.checkOneArg)("TextBoxWithLabel",t);var r=(0,i.kwsToObj)(n),{label:a=o.pyStr.$empty,text:l=o.pyStr.$empty}=r;delete r.label,r.text=l;var[u]=t;u.tp$setattr(s,p),u.tp$setattr(c,p);var f=u.tp$getattr(i.s_add_component);return(0,o.chainOrSuspend)((0,o.pyCallOrSuspend)(e.Label,[],["text",a]),(e=>(u.$label=e,(0,o.pyCallOrSuspend)(f,[e]))),(()=>(0,o.pyCallOrSuspend)(m.mp$subscript(d),[],(0,i.objToKws)(r))),(e=>(u.$box=e,(0,o.pyCallOrSuspend)(f,[e]))),(()=>o.pyNone))}));var a=function(e){n[e]=(0,i.pyPropertyFromGetSet)((t=>t.$box.tp$getattr(new o.pyStr(e),!0)),((t,n)=>t.$box.tp$setattr(new o.pyStr(e),n,!0)))};for(var v of["text","placeholder"])a(v);n.label=(0,i.pyPropertyFromGetSet)((e=>e.$label.tp$getattr(u,!0)),((e,t)=>e.$label.tp$setattr(u,t,!0))),n.focus=new o.pyFunc((e=>(0,o.pyCallOrSuspend)(e.$box.tp$getattr(l))));var h=function(e){n[e.toString()]=new o.pyFunc((function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];var[l]=i;return r.includes(null==l?void 0:l.toString())?(0,o.pyCallOrSuspend)(t.$box.tp$getattr(e),i):(0,o.pyCallOrSuspend)(f.tp$getattr(e),[t,...i])}))};for(var _ of[i.s_add_event_handler,i.s_set_event_handler,i.s_remove_event_handler])h(_)}),"TextBoxWithLabel",[f]),h=(0,i.funcFastCall)(((t,n)=>{var a,l,s=(0,i.kwsToObj)(n),c=(0,o.toJs)(s.button_type);return delete s.button_type,null!==(a=s.spacing_above)&&void 0!==a||(s.spacing_above=p),null!==(l=s.spacing_below)&&void 0!==l||(s.spacing_below=p),(0,o.chainOrSuspend)((0,o.pyCallOrSuspend)(e.Button,t,(0,i.objToKws)(s)),(e=>(0,o.chainOrSuspend)(e.anvil$hooks.setupDom(),(t=>{var n=t.querySelector("button"),i=(0,r.getCssPrefix)();return null==n||n.classList.remove("".concat(i,"btn-default")),null==n||n.classList.add("".concat(i,"btn-").concat(c||"default")),e}))))}));a.mp$ass_subscript(new o.pyStr("anvil.TextBoxWithLabel"),v),a.mp$ass_subscript(new o.pyStr("anvil.alerts.FooterButton"),h)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"SerializationInfo",{enumerable:!0,get:function(){return r.SerializationInfo}}),Object.defineProperty(t,"serialize",{enumerable:!0,get:function(){return i.serialize}}),Object.defineProperty(t,"reconstructObjects",{enumerable:!0,get:function(){return o.reconstructObjects}}),Object.defineProperty(t,"doRpcCall",{enumerable:!0,get:function(){return a.doRpcCall}}),Object.defineProperty(t,"reloadEnvOnNextCall",{enumerable:!0,get:function(){return a.reloadEnvOnNextCall}}),Object.defineProperty(t,"doHttpCall",{enumerable:!0,get:function(){return l.doHttpCall}}),Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return s.connect}}),Object.defineProperty(t,"websocket",{enumerable:!0,get:function(){return s.websocket}}),Object.defineProperty(t,"sendLog",{enumerable:!0,get:function(){return c.sendLog}}),Object.defineProperty(t,"pyNamedExceptions",{enumerable:!0,get:function(){return p.pyNamedExceptions}}),Object.defineProperty(t,"pyServerEventHandlers",{enumerable:!0,get:function(){return p.pyServerEventHandlers}}),Object.defineProperty(t,"pyValueTypes",{enumerable:!0,get:function(){return p.pyValueTypes}});var r=n(161),i=n(229),o=n(176),a=n(76),l=n(231),s=n(162),c=n(340),p=n(117)},function(e,t,n){"use strict";var r=n(93),i=n(11),o=n(29),a=n(342),l=n(95);r("search",1,(function(e,t,n){return[function(t){var n=o(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var o=i(e),s=String(this),c=o.lastIndex;a(c,0)||(o.lastIndex=0);var p=l(o,s);return a(o.lastIndex,c)||(o.lastIndex=c),null===p?-1:p.index}]}))},function(e,t,n){"use strict";n(13),n(9),n(61),Object.defineProperty(t,"__esModule",{value:!0}),t.setHooks=function(e){u=e},t.uncaughtExceptions=t.isCustomAnvilError=void 0;var r,i=n(4),o=(r=n(214))&&r.__esModule?r:{default:r},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1)),l=n(160);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}t.isCustomAnvilError=e=>e._anvil&&e._anvil.errorObj,window.onunhandledrejection=e=>{window.onerror(null,null,null,null,e.reason)};var p={pyHandler:i.pyNone};t.uncaughtExceptions=p;var u={};function d(e){return null!=e.nativeError}$("#error-indicator").on("click",(function(){$("#error-indicator .output").show(),$("#error-indicator .message").hide()})),window.onerror=function(e,t,n,r,o){if("string"==typeof e&&e.indexOf("__gCrWeb.autofill.extractForms")>-1)return!0;if("string"==typeof e&&e.includes("ResizeObserver loop completed with undelivered notifications"))return console.warn(e),!0;try{var a=Sk.sysmodules.quick$lookup(new Sk.builtin.str("anvil.server"));a||console.error("Error before anvil.server module loaded");var s=null==a?void 0:a.tp$getattr(new i.pyStr("SessionExpiredError"));s&&o instanceof s?(console.log("Well that worked? Did it?"),function(e){h()?_(e,m):m()}(o)):o instanceof Sk.builtin.BaseException?function(e){var t,n,r=(0,i.toJs)(e.args)[0],o=null===(t=e._anvil)||void 0===t?void 0:t.errorObj,a=e.traceback;n=o?o.type:e.tp$name;if(u.onPythonException){var s={fn:"pythonError",traceback:a,type:n,msg:r,errorObj:o};u.onPythonException(s)}console.log("Python exception: "+n+": "+r),d(e)?console.log(e.nativeError):console.log(e);var c={type:n,trace:a.map((e=>{var{filename:t,lineno:n}=e;return[t,n]})),message:r,jsTrace:d(e)?e.nativeError.stack:void 0,bindingErrors:null==o?void 0:o.bindingErrors,anvilVersion:window.anvilVersion};(0,l.logEvent)({error:c}),$("#error-indicator .output").text(n+": "+r),h()?_(e):f()}(o):function(e,t,n,r,i){var o,a;console.error("Uncaught runtime error: "+e+" at "+t+":"+n+", column "+r,i),null===(o=(a=u).onRuntimeError)||void 0===o||o.call(a,e,t,n,r,i);var s={runtimeError:i&&i.constructor&&i.constructor.name||"Unknown error",jsUrl:t,jsLine:n,jsCol:r,message:""+(i||"Unknown error"),jsTrace:i&&i.stack,anvilVersion:window.anvilVersion};if((0,l.logEvent)({error:s}),$("#error-indicator .output").text(""+(e||"Unhandled runtime error")),h())_(new Sk.builtin.ExternalError(null!=i?i:"Unknown error"));else{var c,p;null===(c=(p=u).onUncaughtRuntimeError)||void 0===c||c.call(p,s),f()}}(e,t,n,r,o)}catch(e){console.error("Uncaught error in window.onerror! "),console.error(e)}};var f=()=>{$("#error-indicator").show().stop(!0).css({"padding-left":30,"padding-right":30,right:10}).animate({"padding-left":20,"padding-right":20,right:20},1e3)},v=!1,m=function(){var e,t=(e=function*(){if(!v&&!document.getElementById("session-expired-modal"))try{v=!0;var e=yield o.default.create({id:"session-expired-modal",large:!1,title:"Session Expired",body:"Your session has timed out. Please refresh the page to continue.",buttons:[{text:"Refresh now",style:"danger",onClick:()=>{window.location.reload()}}]});yield e.show()}finally{v=!1}},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,l,"next",e)}function l(e){c(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();function h(){return p.pyHandler!==Sk.builtin.none.none$}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;a.callAsyncWithoutDefaultError(p.pyHandler,void 0,void 0,void 0,e).catch((n=>{n===e?t():(p.pyHandler=Sk.builtin.none.none$,window.onerror(null,null,null,null,n))}))}},function(e,t,n){"use strict";var r=n(57),i=n(42),o=n(21),a=n(34),l=n(44),s=n(50).f,c=n(182),p=o.Symbol;if(i&&"function"==typeof p&&(!("description"in p.prototype)||void 0!==p().description)){var u={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new p(e):void 0===e?p():p(e);return""===e&&(u[t]=!0),t};c(d,p);var f=d.prototype=p.prototype;f.constructor=d;var v=f.toString,m="Symbol(test)"==String(p("test")),h=/^Symbol\((.*)\)[^)]+$/;s(f,"description",{configurable:!0,get:function(){var e=l(this)?this.valueOf():this,t=v.call(e);if(a(u,e))return"";var n=m?t.slice(7,-1):t.replace(h,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:d})}},function(e,t,n){var r=n(21),i=n(164),o=r.WeakMap;e.exports="function"==typeof o&&/native code/.test(i(o))},function(e,t,n){var r=n(105),i=n(251),o=n(185),a=n(35);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(a(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(21);e.exports=r},function(e,t,n){var r=n(183),i=n(146).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(77),i=n(79),o=n(184),a=function(e){return function(t,n,a){var l,s=r(t),c=i(s.length),p=o(a,c);if(e&&n!=n){for(;c>p;)if((l=s[p++])!=l)return!0}else for(;c>p;p++)if((e||p in s)&&s[p]===n)return e||p||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,n){var r=n(28),i=n(187),o=n(50),a=r("unscopables"),l=Array.prototype;null==l[a]&&o.f(l,a,{configurable:!0,value:i(null)}),e.exports=function(e){l[a][e]=!0}},function(e,t,n){var r=n(186);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(42),i=n(50),o=n(35),a=n(188);e.exports=r?Object.defineProperties:function(e,t){o(e);for(var n,r=a(t),l=r.length,s=0;l>s;)i.f(e,n=r[s++],t[n]);return e}},function(e,t,n){"use strict";var r=n(57),i=n(257),o=n(190),a=n(259),l=n(167),s=n(51),c=n(96),p=n(28),u=n(104),d=n(107),f=n(189),v=f.IteratorPrototype,m=f.BUGGY_SAFARI_ITERATORS,h=p("iterator"),_="keys",g="values",y="entries",b=function(){return this};e.exports=function(e,t,n,p,f,k,S){i(n,t,p);var w,C,O,P=function(e){if(e===f&&j)return j;if(!m&&e in E)return E[e];switch(e){case _:case g:case y:return function(){return new n(this,e)}}return function(){return new n(this)}},x=t+" Iterator",T=!1,E=e.prototype,$=E[h]||E["@@iterator"]||f&&E[f],j=!m&&$||P(f),A="Array"==t&&E.entries||$;if(A&&(w=o(A.call(new e)),v!==Object.prototype&&w.next&&(u||o(w)===v||(a?a(w,v):"function"!=typeof w[h]&&s(w,h,b)),l(w,x,!0,!0),u&&(d[x]=b))),f==g&&$&&$.name!==g&&(T=!0,j=function(){return $.call(this)}),u&&!S||E[h]===j||s(E,h,j),d[t]=j,f)if(C={values:P(g),keys:k?j:P(_),entries:P(y)},S)for(O in C)(m||T||!(O in E))&&c(E,O,C[O]);else r({target:t,proto:!0,forced:m||T},C);return C}},function(e,t,n){"use strict";var r=n(189).IteratorPrototype,i=n(187),o=n(103),a=n(167),l=n(107),s=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),a(e,c,!1,!0),l[c]=s,e}},function(e,t,n){var r=n(24);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var r=n(35),i=n(260);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},function(e,t,n){var r=n(44);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){var r=n(78);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){"use strict";var r=n(141),i=n(50),o=n(103);e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},function(e,t,n){var r=n(24),i=n(28),o=n(235),a=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){var r=n(42),i=n(24),o=n(34),a=Object.defineProperty,l={},s=function(e){throw e};e.exports=function(e,t){if(o(l,e))return l[e];t||(t={});var n=[][e],c=!!o(t,"ACCESSORS")&&t.ACCESSORS,p=o(t,0)?t[0]:s,u=o(t,1)?t[1]:void 0;return l[e]=!!n&&!i((function(){if(c&&!r)return!0;var e={length:-1};c?a(e,1,{enumerable:!0,get:s}):e[1]=1,n.call(e,p,u)}))}},function(e,t,n){"use strict";var r=n(42),i=n(24),o=n(188),a=n(185),l=n(177),s=n(147),c=n(178),p=Object.assign,u=Object.defineProperty;e.exports=!p||i((function(){if(r&&1!==p({b:1},p(u({},"a",{enumerable:!0,get:function(){u(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=p({},e)[n]||o(p({},t)).join("")!=i}))?function(e,t){for(var n=s(e),i=arguments.length,p=1,u=a.f,d=l.f;i>p;)for(var f,v=c(arguments[p++]),m=u?o(v).concat(u(v)):o(v),h=m.length,_=0;h>_;)f=m[_++],r&&!d.call(v,f)||(n[f]=v[f]);return n}:p},function(e,t,n){var r=n(42),i=n(50),o=n(168),a=n(192).UNSUPPORTED_Y;r&&("g"!=/./g.flags||a)&&i.f(RegExp.prototype,"flags",{configurable:!0,get:o})},function(e,t,n){"use strict";var r=n(57),i=n(108);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(e,t,n){var r=n(106),i=n(62),o=function(e){return function(t,n){var o,a,l=String(i(t)),s=r(n),c=l.length;return s<0||s>=c?e?"":void 0:(o=l.charCodeAt(s))<55296||o>56319||s+1===c||(a=l.charCodeAt(s+1))<56320||a>57343?e?l.charAt(s):o:e?l.slice(s,s+2):a-56320+(o-55296<<10)+65536}};e.exports={codeAt:o(!1),charAt:o(!0)}},function(e,t,n){var r=n(147),i=Math.floor,o="".replace,a=/\$([$&'`]|\d\d?|<[^>]*>)/g,l=/\$([$&'`]|\d\d?)/g;e.exports=function(e,t,n,s,c,p){var u=n+e.length,d=s.length,f=l;return void 0!==c&&(c=r(c),f=a),o.call(p,f,(function(r,o){var a;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(u);case"<":a=c[o.slice(1,-1)];break;default:var l=+o;if(0===l)return r;if(l>d){var p=i(l/10);return 0===p?r:p<=d?void 0===s[p-1]?o.charAt(1):s[p-1]+o.charAt(1):r}a=s[l-1]}return void 0===a?"":a}))}},function(e,t,n){"use strict";var r=n(193),i=n(238),o=n(35),a=n(62),l=n(239),s=n(194),c=n(79),p=n(195),u=n(108),d=n(24),f=[].push,v=Math.min,m=4294967295,h=!d((function(){return!RegExp(m,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(a(this)),o=void 0===n?m:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,o);for(var l,s,c,p=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,h=new RegExp(e.source,d+"g");(l=u.call(h,r))&&!((s=h.lastIndex)>v&&(p.push(r.slice(v,l.index)),l.length>1&&l.index<r.length&&f.apply(p,l.slice(1)),c=l[0].length,v=s,p.length>=o));)h.lastIndex===l.index&&h.lastIndex++;return v===r.length?!c&&h.test("")||p.push(""):p.push(r.slice(v)),p.length>o?p.slice(0,o):p}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=a(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(String(i),t,n)},function(e,i){var a=n(r,e,this,i,r!==t);if(a.done)return a.value;var u=o(e),d=String(this),f=l(u,RegExp),_=u.unicode,g=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(h?"y":"g"),y=new f(h?u:"^(?:"+u.source+")",g),b=void 0===i?m:i>>>0;if(0===b)return[];if(0===d.length)return null===p(y,d)?[d]:[];for(var k=0,S=0,w=[];S<d.length;){y.lastIndex=h?S:0;var C,O=p(y,h?d:d.slice(S));if(null===O||(C=v(c(y.lastIndex+(h?0:S)),d.length))===k)S=s(d,S,_);else{if(w.push(d.slice(k,S)),w.length===b)return w;for(var P=1;P<=O.length-1;P++)if(w.push(O[P]),w.length===b)return w;S=k=C}}return w.push(d.slice(k)),w}]}),!h)},function(e,t,n){"use strict";var r=n(57),i=n(272).end,o=n(273)("trimEnd"),a=o?function(){return i(this)}:"".trimEnd;r({target:"String",proto:!0,forced:o},{trimEnd:a,trimRight:a})},function(e,t,n){var r=n(62),i="["+n(196)+"]",o=RegExp("^"+i+i+"*"),a=RegExp(i+i+"*$"),l=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(o,"")),2&e&&(n=n.replace(a,"")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},function(e,t,n){var r=n(24),i=n(196);e.exports=function(e){return r((function(){return!!i[e]()||"​᠎"!="​᠎"[e]()||i[e].name!==e}))}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var r=n(32),i=Math.floor,o="".replace,a=/\$([$&'`]|\d\d?|<[^>]*>)/g,l=/\$([$&'`]|\d\d?)/g;e.exports=function(e,t,n,s,c,p){var u=n+e.length,d=s.length,f=l;return void 0!==c&&(c=r(c),f=a),o.call(p,f,(function(r,o){var a;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(u);case"<":a=c[o.slice(1,-1)];break;default:var l=+o;if(0===l)return r;if(l>d){var p=i(l/10);return 0===p?r:p<=d?void 0===s[p-1]?o.charAt(1):s[p-1]+o.charAt(1):r}a=s[l-1]}return void 0===a?"":a}))}},function(e,t,n){"use strict";var r=n(12),i=n(131),o=[].reverse,a=[1,2];r({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),o.call(this)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initNativeSubclass=function(e){var t=new r.pySuper(e,e).tp$getattr(i.s_init_subclass);return(0,r.pyCall)(t)},t.pyPropertyFromGetSet=function(e,t){var n,i=new r.pyFunc((t=>e(t)));t&&(n=new r.pyFunc(((e,n)=>(0,r.chainOrSuspend)(t(e,n),(()=>r.pyNone)))));return new r.pyProperty(i,n)};var r=n(4),i=n(213)},function(e,t,n){"use strict";n(3),Object.defineProperty(t,"__esModule",{value:!0}),t.reportError=function(e){window.onerror(null,null,null,null,e)},t.strError=void 0;t.strError=e=>"string"==typeof e?e:e instanceof Sk.builtin.BaseException?e.toString():"<Internal error>"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.funcFastCall=function(e){return e.co_fastcall=1,new r.pyFunc(e)};var r=n(4)},function(e,t,n){"use strict";n(0),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.kwsToObj=function(e){var t={};if(void 0===e)return t;for(var n=0;n<e.length;n+=2)t[e[n]]=e[n+1];return t},t.objToKws=function(e){var t=[];for(var[n,r]of Object.entries(null!=e?e:{}))t.push(n,r);return t},t.kwsToJsObj=function(e){var t={};if(void 0===e)return t;for(var n=0;n<e.length;n+=2)t[e[n]]=(0,r.toJs)(e[n+1]);return t},t.jsObjToKws=function(e){var t=[];for(var[n,i]of Object.entries(null!=e?e:{}))t.push(n,(0,r.toPy)(i));return t};var r=n(4)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getImportedModule=function(e){var t=new r.pyStr(e);return Sk.sysmodules.mp$subscript(t)},t.getModule=i,t.importFrom=function(e,t){var n=i(e);return Sk.abstr.gattr(n,new r.pyStr(t))},t.pyLazyMod=o,t.tzMod=t.datetimeMod=t.anvilJsMod=t.anvilServerMod=t.anvilMod=void 0;var r=n(4);function i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new r.pyStr(e),i=()=>Sk.sysmodules.quick$lookup(n),o=i();if(void 0!==o)return o;var a=Sk.importModule(e,!1,!0);return t?(0,r.chainOrSuspend)(a,i):((0,r.retryOptionalSuspensionOrThrow)(a),i())}function o(e){var t;return new Proxy({},{get(n,o){var a,l;return null!==(a=t)&&void 0!==a||(t=i(e)),null!==(l=n[o])&&void 0!==l?l:n[o]=Sk.abstr.gattr(t,new r.pyStr(o))},set(n,o,a){var l;return null!==(l=t)&&void 0!==l||(t=i(e)),n[o]=a,t.tp$setattr(new r.pyStr(o),a),!0},has(n,r){var o;return null!==(o=t)&&void 0!==o||(t=i(e)),r in t.$d}})}var a=o("anvil");t.anvilMod=a;var l=o("anvil.server");t.anvilServerMod=l;var s=o("anvil.js");t.anvilJsMod=s;var c=o("datetime");t.datetimeMod=c;var p=o("anvil.tz");t.tzMod=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pyTryFinally=a,t.Mutex=void 0;var r=n(4),i=n(27);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n,i=!1;return(0,r.tryCatchOrSuspend)((()=>(0,r.chainOrSuspend)(e(),(e=>(i=!0,n=e,t())),(()=>n))),(e=>(0,r.chainOrSuspend)(!i&&t(),(()=>{throw e}))))}class l{constructor(){o(this,"_complete",!1),o(this,"_deferred",null),o(this,"_suspension",null)}get suspension(){var e,t;return this._complete?null:(null!==(e=this._deferred)&&void 0!==e||(this._deferred=(0,i.defer)()),null!==(t=this._suspension)&&void 0!==t||(this._suspension=(0,r.promiseToSuspension)(this._deferred.promise)),this._suspension)}done(){var e;this._complete=!0,null===(e=this._deferred)||void 0===e||e.resolve(null)}}t.Mutex=class{constructor(){o(this,"_prev",null)}withLock(e){var t=this._prev,n=new l;return this._prev=n,()=>a((()=>(0,r.chainOrSuspend)(null==t?void 0:t.suspension,e)),(()=>n.done()))}runWithLock(e){return this.withLock(e)()}}},function(e,t,n){"use strict";n(0),n(3),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.setupClsHooks=function(e){d(e.prototype,"anvil$hookSpec")&&function(e){var t=e.prototype,n=t.anvil$hookSpec;for(var i of Object.getOwnPropertyNames(n))if("getDomElement"===i){var o=(0,p[i])(n[i]);e.tp$setattr(new r.pyStr(o.$name),new r.pyGetSetDescriptor(e,o))}else if(i in f){var a=f[i],l=n[i];e.tp$setattr(a,new v(l))}else{var s=c[i];s&&e.tp$setattr(new r.pyStr(s.$name),new r.pyWrapperDescriptor(e,s,n[i]))}}(e)},t.setupInstanceHooks=function(e,t){d(t.prototype,"anvil$hookSpec")?function(e,t){var n=t.prototype,r={},i=n.anvil$hookSpec,o=function(t){var n=g[t],o=i[t].bind(e);n===t?r[n]=o:Object.defineProperty(r,n,{get:()=>o(),set(e){delete r[n],r[n]=e},configurable:!0})};for(var a in i)o(a);e.anvil$hooks=r}(e,t):function(e,t){var n=new Proxy({},{get(n,i){if(i in n)return n[i];var o=_[i];if(void 0!==o){var a=t.$typeLookup(o);if(void 0!==a){var l=a.ob$type;if(l===r.pyWrapperDescriptor)return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return a.d$wrapped.call(e,...n)};if(l===r.pyGetSetDescriptor)return a.d$def.$wrapped.call(e);if(l===v)return a.$wrapped.call(e);var s,c,p=null!==(s=null==a||null===(c=a.tp$descr_get)||void 0===c?void 0:c.call(a,e,t))&&void 0!==s?s:a;if(i in h){var u=h[i];return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u((0,r.pyCallOrSuspend)(p,t.map(r.toPy)))}}return(0,r.toJs)(p)}}},set:(e,t,n)=>(e[t]=n,!0)});e.anvil$hooks=n}(e,t)};var r=n(4),i=n(6),o=n(26);function a(e,t){return function(n,i,o){(0,r.checkNoArgs)(e,i,o);var a=this.call(n);return t?(0,r.toPy)((0,r.retryOptionalSuspensionOrThrow)(a)):(0,r.chainOrSuspend)(a,r.toPy)}}var l={NoArgs:!0},s={OneArg:!0},c={setupDom:{$name:"_anvil_setup_dom_",$wrapper:a("_anvil_setup_dom_",!0),$flags:l},updateDesignName:{$name:"_anvil_update_design_name_",$wrapper(e,t,n){return(0,r.checkOneArg)("_anvil_update_design_name_",t,n),(0,r.toPy)(this.call(e,t[0].toString()))},$flags:s},getInteractions:{$name:"_anvil_get_interactions_",$wrapper:a("_anvil_get_interactions_"),$flags:l},getUnsetPropertyValues:{$name:"_anvil_get_unset_property_values_",$wrapper:a("_anvil_get_unset_property_values_"),$flags:l},getContainerDesignInfo:{$name:"_anvil_get_container_design_info_",$wrapper(e,t,n){(0,r.checkOneArg)("_anvil_get_container_design_info_",t,n);var i=t[0];if(!(i instanceof o.Component))throw new r.pyValueError("for_child must be a Component instance");return(0,r.toPy)(this.call(e,i))},$flags:s},enableDropMode:{$name:"_anvil_enable_drop_mode_",$wrapper(e,t,n){return(0,r.toPy)(this.call(e,(0,r.toJs)(t[0]),(0,r.toJs)(t[1])))},$flags:{MinArgs:2,MaxArgs:2}},disableDropMode:{$name:"_anvil_disable_drop_mode_",$wrapper:a("_anvil_disable_drop_mode_"),$flags:l},updateLayoutProperties:{$name:"_anvil_update_layout_properties_",$wrapper(e,t,n){var[i,a]=(0,r.copyKeywordsToNamedArgs)("_anvil_update_layout_properties_",["for_child","updates"],t,n,[]);if(!(i instanceof o.Component))throw new r.pyValueError("for_child must be a Component instance");if(!(a instanceof r.pyDict))throw new r.pyValueError("updates must be a dictionary");return(0,r.toPy)(this.call(e,i,(0,r.toJs)(a)))},$flags:{NamedArgs:["for_child","updates"],Defaults:[]}},getSections:{$name:"_anvil_get_sections_",$wrapper:a("_anvil_get_sections_"),$flags:l},getSectionDomElement:{$name:"_anvil_get_section_dom_element_",$wrapper(e,t,n){var[i]=(0,r.copyKeywordsToNamedArgs)("_anvil_get_section_dom_element_",["section_id"],t,n,[]);return(0,r.toPy)(this.call(e,(0,r.toJs)(i)))},$flags:{NamedArgs:["section_id"],Defaults:[]}},setSectionPropertyValues:{$name:"_anvil_set_section_property_values_",$wrapper(e,t,n){var[i,o]=(0,r.copyKeywordsToNamedArgs)("_anvil_set_section_property_values_",["section_id","updates"],t,n,[]);return(0,r.toPy)(this.call(e,(0,r.toJs)(i),(0,r.toJs)(o)))},$flags:{NamedArgs:["section_id","updates"],Defaults:[]}}},p={getDomElement:e=>({$name:"_anvil_dom_element_",$get(){return(0,r.toPy)(e.call(this))},$wrapped:e})},u=Object.prototype.hasOwnProperty;function d(e,t){return u.call(e,t)}var f={getProperties:i.s_anvil_properties,getEvents:i.s_anvil_events},v=(0,r.buildNativeClass)("anvil.AnvilMagicDescriptor",{constructor:function(e){this.$wrapped=e},slots:{tp$descr_get(e,t){var n;if(null!=e?n=this.$wrapped.call(e):null!=t&&(n=this.$wrapped.call(t.prototype)),n)return(0,r.toPy)(n)},tp$descr_set(e,t,n){throw new r.pyAttributeError("readonly")}}});var m=e=>(0,r.remapToJsOrWrap)((0,r.retryOptionalSuspensionOrThrow)(e)),h={setupDom:e=>(0,r.chainOrSuspend)(e,(e=>{var t=(0,r.toJs)(e);if(!t)throw new r.pyValueError("_anvil_setup_dom_ cannot return None");return t})),updateDesignName:m,getContainerDesignInfo:m,enableDropMode:m,disableDropMode:m,updateLayoutProperties:m,getSections:m,getSectionDomElement:m,setSectionPropertyValues:m,getInteractions:m,getUnsetPropertyValues:m},_={setupDom:i.s_anvil_setup_dom,domElement:i.s_anvil_dom_element,updateDesignName:i.s_anvil_update_design_name,getContainerDesignInfo:i.s_anvil_get_container_design_info,enableDropMode:i.s_anvil_enable_drop_mode,disableDropMode:i.s_anvil_disable_drop_mode,updateLayoutProperties:i.s_anvil_update_layout_properties,getSections:i.s_anvil_get_sections,getSectionDomElement:i.s_anvil_get_section_dom_element,setSectionPropertyValues:i.s_anvil_set_section_property_values,properties:i.s_anvil_properties,events:i.s_anvil_events,getInteractions:i.s_anvil_get_interactions,getUnsetPropertyValues:i.s_anvil_get_unset_property_values};var g={setupDom:"setupDom",getDomElement:"domElement",getProperties:"properties",getEvents:"events",updateDesignName:"updateDesignName",getInteractions:"getInteractions",getUnsetPropertyValues:"getUnsetPropertyValues",getContainerDesignInfo:"getContainerDesignInfo",updateLayoutProperties:"updateLayoutProperties",getSections:"getSections",getSectionDomElement:"getSectionDomElement",setSectionPropertyValues:"setSectionPropertyValues",cleanupLayoutProperties:"cleanupLayoutProperties",enableDropMode:"enableDropMode",disableDropMode:"disableDropMode"}},function(e,t){var n=1/0,r=Math.abs,i=Math.pow,o=Math.floor,a=Math.log,l=Math.LN2;e.exports={pack:function(e,t,s){var c,p,u,d=new Array(s),f=8*s-t-1,v=(1<<f)-1,m=v>>1,h=23===t?i(2,-24)-i(2,-77):0,_=e<0||0===e&&1/e<0?1:0,g=0;for((e=r(e))!=e||e===n?(p=e!=e?1:0,c=v):(c=o(a(e)/l),e*(u=i(2,-c))<1&&(c--,u*=2),(e+=c+m>=1?h/u:h*i(2,1-m))*u>=2&&(c++,u/=2),c+m>=v?(p=0,c=v):c+m>=1?(p=(e*u-1)*i(2,t),c+=m):(p=e*i(2,m-1)*i(2,t),c=0));t>=8;d[g++]=255&p,p/=256,t-=8);for(c=c<<t|p,f+=t;f>0;d[g++]=255&c,c/=256,f-=8);return d[--g]|=128*_,d},unpack:function(e,t){var r,o=e.length,a=8*o-t-1,l=(1<<a)-1,s=l>>1,c=a-7,p=o-1,u=e[p--],d=127&u;for(u>>=7;c>0;d=256*d+e[p],p--,c-=8);for(r=d&(1<<-c)-1,d>>=-c,c+=t;c>0;r=256*r+e[p],p--,c-=8);if(0===d)d=1-s;else{if(d===l)return r?NaN:u?-1/0:n;r+=i(2,t),d-=s}return(u?-1:1)*r*i(2,d-t)}}},function(e,t,n){"use strict";var r=n(32),i=n(69),o=n(15);e.exports=function(e){for(var t=r(this),n=o(t.length),a=arguments.length,l=i(a>1?arguments[1]:void 0,n),s=a>2?arguments[2]:void 0,c=void 0===s?n:i(s,n);c>l;)t[l++]=e;return t}},function(e,t,n){"use strict";var r=n(12),i=n(5),o=n(18),a=n(287),l=n(114),s=n(158),c=n(64),p=n(45),u=n(23),d=n(15),f=n(216),v=n(288),m=n(68),h=n(14),_=n(75),g=n(16),y=n(70),b=n(71),k=n(86).f,S=n(290),w=n(291).forEach,C=n(90),O=n(22),P=n(52),x=n(30),T=n(210),E=x.get,$=x.set,j=O.f,A=P.f,M=Math.round,N=i.RangeError,L=s.ArrayBuffer,I=s.DataView,D=l.NATIVE_ARRAY_BUFFER_VIEWS,F=l.TYPED_ARRAY_TAG,V=l.TypedArray,R=l.TypedArrayPrototype,U=l.aTypedArrayConstructor,B=l.isTypedArray,G="BYTES_PER_ELEMENT",H="Wrong length",J=function(e,t){for(var n=0,r=t.length,i=new(U(e))(r);r>n;)i[n]=t[n++];return i},z=function(e,t){j(e,t,{get:function(){return E(this)[t]}})},W=function(e){var t;return e instanceof L||"ArrayBuffer"==(t=_(e))||"SharedArrayBuffer"==t},q=function(e,t){return B(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},K=function(e,t){return q(e,t=m(t,!0))?p(2,e[t]):A(e,t)},Y=function(e,t,n){return!(q(e,t=m(t,!0))&&g(n)&&h(n,"value"))||h(n,"get")||h(n,"set")||n.configurable||h(n,"writable")&&!n.writable||h(n,"enumerable")&&!n.enumerable?j(e,t,n):(e[t]=n.value,e)};o?(D||(P.f=K,O.f=Y,z(R,"buffer"),z(R,"byteOffset"),z(R,"byteLength"),z(R,"length")),r({target:"Object",stat:!0,forced:!D},{getOwnPropertyDescriptor:K,defineProperty:Y}),e.exports=function(e,t,n){var o=e.match(/\d+$/)[0]/8,l=e+(n?"Clamped":"")+"Array",s="get"+e,p="set"+e,m=i[l],h=m,_=h&&h.prototype,O={},P=function(e,t){j(e,t,{get:function(){return function(e,t){var n=E(e);return n.view[s](t*o+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,r){var i=E(e);n&&(r=(r=M(r))<0?0:r>255?255:255&r),i.view[p](t*o+i.byteOffset,r,!0)}(this,t,e)},enumerable:!0})};D?a&&(h=t((function(e,t,n,r){return c(e,h,l),T(g(t)?W(t)?void 0!==r?new m(t,v(n,o),r):void 0!==n?new m(t,v(n,o)):new m(t):B(t)?J(h,t):S.call(h,t):new m(f(t)),e,h)})),b&&b(h,V),w(k(m),(function(e){e in h||u(h,e,m[e])})),h.prototype=_):(h=t((function(e,t,n,r){c(e,h,l);var i,a,s,p=0,u=0;if(g(t)){if(!W(t))return B(t)?J(h,t):S.call(h,t);i=t,u=v(n,o);var m=t.byteLength;if(void 0===r){if(m%o)throw N(H);if((a=m-u)<0)throw N(H)}else if((a=d(r)*o)+u>m)throw N(H);s=a/o}else s=f(t),i=new L(a=s*o);for($(e,{buffer:i,byteOffset:u,byteLength:a,length:s,view:new I(i)});p<s;)P(e,p++)})),b&&b(h,V),_=h.prototype=y(R)),_.constructor!==h&&u(_,"constructor",h),F&&u(_,F,l),O[l]=h,r({global:!0,forced:h!=m,sham:!D},O),G in h||u(h,G,o),G in _||u(_,G,o),C(l)}):e.exports=function(){}},function(e,t,n){var r=n(5),i=n(8),o=n(155),a=n(114).NATIVE_ARRAY_BUFFER_VIEWS,l=r.ArrayBuffer,s=r.Int8Array;e.exports=!a||!i((function(){s(1)}))||!i((function(){new s(-1)}))||!o((function(e){new s,new s(null),new s(1.5),new s(e)}),!0)||i((function(){return 1!==new s(new l(2),1,void 0).length}))},function(e,t,n){var r=n(289);e.exports=function(e,t){var n=r(e);if(n%t)throw RangeError("Wrong offset");return n}},function(e,t,n){var r=n(40);e.exports=function(e){var t=r(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},function(e,t,n){var r=n(32),i=n(15),o=n(60),a=n(101),l=n(48),s=n(114).aTypedArrayConstructor;e.exports=function(e){var t,n,c,p,u,d,f=r(e),v=arguments.length,m=v>1?arguments[1]:void 0,h=void 0!==m,_=o(f);if(null!=_&&!a(_))for(d=(u=_.call(f)).next,f=[];!(p=d.call(u)).done;)f.push(p.value);for(h&&v>2&&(m=l(m,arguments[2],2)),n=i(f.length),c=new(s(this))(n),t=0;n>t;t++)c[t]=h?m(f[t],t):f[t];return c}},function(e,t,n){var r=n(48),i=n(97),o=n(32),a=n(15),l=n(172),s=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,p=4==e,u=6==e,d=7==e,f=5==e||u;return function(v,m,h,_){for(var g,y,b=o(v),k=i(b),S=r(m,h,3),w=a(k.length),C=0,O=_||l,P=t?O(v,w):n||d?O(v,0):void 0;w>C;C++)if((f||C in k)&&(y=S(g=k[C],C,b),e))if(t)P[C]=y;else if(y)switch(e){case 3:return!0;case 5:return g;case 6:return C;case 2:s.call(P,g)}else switch(e){case 4:return!1;case 7:s.call(P,g)}return u?-1:c||p?p:P}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},function(e,t,n){"use strict";n(13),n(0),n(55),n(3),n(61),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.anvil_property=void 0;var r=n(4),i=n(6),o=new r.pyStr("name"),a=new r.pyStr("fset"),l=new r.pyStr("setter"),s=new r.pyStr("fget"),c=new r.pyStr("update"),p=Object.prototype.hasOwnProperty,u=["string","number","boolean","text[]","enum","form","object","dict","color","icon","themeRole","uri","html","recordType","margin","padding","spacing"],d=r.pyDict.tp$getattr(c),f=function(){for(var e=new r.pyDict,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var o of n)(0,r.pyCall)(d,[e,o]);return e},v=(0,r.buildNativeClass)("anvil.designer.anvil_property",{constructor:function(e,t){this.descriptors=null!=e?e:new r.pyDict,this.property=null!=t?t:new r.pyProperty},slots:{tp$new:Sk.generic.new,tp$init(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=null==t?void 0:t.includes("type");if(e.length){if(e.length>1)throw new r.pyTypeError("anvil_property takes at most 1 position arg, but ".concat(e.length," were given"));if(n)throw new r.pyTypeError("got multiple arguments for type");t.push("type",e[0])}else if(!n)throw new r.pyTypeError("anvil_property() missing 1 required positional argument: 'type'");var i,o=t[t.indexOf("type")+1];if(!(0,r.checkString)(o))throw new r.pyTypeError("Invalid property type, expected a string, got '".concat((0,r.typeName)(o),"'"));if(i=o.toString(),!u.includes(i))throw new r.pyValueError("Invalid property type, got '".concat(o,"'"));this.descriptors=(0,r.keywordArrayToPyDict)(t)},tp$call(e,t){return this.property=(0,r.pyCall)(r.pyProperty,e,t),this},tp$descr_get(e,t,n){return this.property.tp$descr_get(e,t,!!n)},tp$descr_set(e,t,n){return this.property.tp$descr_set(e,t,!!n)}},methods:{setter:{$meth(e){var t=this.property.tp$getattr(l),n=(0,r.pyCall)(t,[e]);return this.property=n,this},$flags:{OneArg:!0}},__set_name__:{$meth(e,t){var n,a;(this.descriptors.mp$ass_subscript(o,t),p.call(e.prototype,i.s_anvil_properties.toString()))?n=e.tp$getattr(i.s_anvil_properties):(n=(0,r.pyCall)(r.pyList,[null!==(a=e.tp$getattr(i.s_anvil_properties))&&void 0!==a?a:new r.pyList]),e.tp$setattr(i.s_anvil_properties,n));try{((e,t)=>{for(var n=(0,r.toJs)(t.quick$lookup(o)),i=e.valueOf(),a=0;a<i.length;a++){var l=i[a];if((0,r.toJs)(l.quick$lookup(o))===n)return void i.splice(a,1,f(l,t))}i.push(t)})(n,this.descriptors)}catch(e){}return r.pyNone},$flags:{MinArgs:2,MaxArgs:2}}},getsets:{fget:{$get(){return this.property.tp$getattr(s)}},fset:{$get(){return this.property.tp$getattr(a)}}},flags:{sk$unacceptableBase:!0}});t.anvil_property=v},function(e,t,n){"use strict";Sk.builtinFiles.files["src/lib/anvil/ext_data/__init__.py"]='# This package implements a common interface for providing\n#\nimport json\n\nimport anvil.server\n\ntry:\n    from typing import (\n        TypedDict,\n        Dict,\n        Optional,\n        NewType,\n        Tuple,\n        List,\n        Set,\n    )\n\n    CollectionKey = NewType("CollectionKey", str)\n    LinkDestination = Tuple[CollectionKey]\n    CollectionInfoLink = TypedDict(\n        "CollectionInfoLink",\n        {\n            "to": CollectionKey,\n            "multi": bool,\n        },\n    )\n    CollectionInfoFields = TypedDict(\n        "CollectionInfoFields",\n        {"name": str, "client_visible": bool, "link": Optional[CollectionInfoLink]},\n    )\n    CollectionInfoDict = TypedDict(\n        "CollectionInfoDict",\n        {\n            "name": str,\n            "fields": List[CollectionInfoFields],\n            "summary_fields": Optional[List[str]],\n        },\n    )\n    RecordIdJson = NewType("RecordIdJson", str)\n\n    GlobalSharedData = TypedDict(\n        "GlobalSharedData", {"spec": Dict[CollectionKey, CollectionInfoDict]}\n    )\n\n    SendingLocalData = TypedDict("SendingLocalData", {"sent": Dict[RecordIdJson, set]})\n\n    ReceivingLocalData = TypedDict(\n        "ReceivingLocalData",\n        {\n            "instances": Dict[RecordIdJson, "Record"],\n            "collections": Dict[CollectionKey, "CollectionInfo"],\n            "seen_this_time": Set[RecordIdJson],\n            "call_impl": Optional["CallImpl"],\n        },\n    )\n\n    CompactData = Dict[RecordIdJson, dict]\n    # Field values for single columns are IDs, for multi-link columns arrays of IDs\n    # The empty string "" key contains a Capability.\n\nexcept (ImportError, AttributeError):\n    CollectionKey = str\n    LinkDestination = tuple\n    CollectionInfoDict = dict\n    RecordIdJson = str\n    GlobalSharedData = dict\n    SendingLocalData = dict\n    ReceivingLocalData = dict\n    CompactData = dict\n\n\ndef tightjson(data):\n    return json.dumps(data, separators=(\',\',\':\'))\n\n\ndef receiving_shared_data(si):\n    # NB we deliberately don\'t set seen_this_time, becayse every caller *needs* to reset it\n    return si.shared_data("anvil.ext_tables", local_data_factory=lambda: {"instances": {}, "collections": {}})\n\n\ndef sending_shared_data(si):\n    return si.shared_data("anvil.ext_tables", local_data_factory=lambda: {"sent": {}},\n                          transmitted_data_factory=lambda: {"spec": {}})\n\n\nclass CallImpl:\n    def __init__(self, schema_name):\n        self.prefix = "anvil.ext/" + schema_name\n\n    def load_record_data(self, collection_key, record_caps, request=None):\n        return anvil.server.call(self.prefix+"/load", collection_key, record_caps, request=request)\n\n    def update_records(self, collection_key, updates):\n        return anvil.server.call(self.prefix+"/update", collection_key, updates)\n\n    def delete_records(self, collection_key, to_delete):\n        return anvil.server.call(self.prefix+"/delete", collection_key, to_delete)\n\n\n_model_classes = {}\n\n\nclass CollectionInfo:\n    """Information about a collection"""\n    class FieldInfo:\n        def __init__(self, name, client_visible=True, from_id=False, is_link=False, link_to=None, link_multi=False):\n            self.name = name\n            self.client_visible = client_visible\n            self.is_link = is_link\n            self.link_to = link_to\n            self.link_multi = link_multi\n            self.from_id = from_id\n\n        @staticmethod\n        def load(data, gsdata, collection_cache):\n            link_info = data.get("link")\n            link_to = CollectionInfo.load(link_info["to"], gsdata, collection_cache) if link_info else None\n            link_multi = link_info and link_info["multi"]\n            return CollectionInfo.FieldInfo(data["name"], data.get("client_visible", True), data.get("from_id", False),\n                                            link_info is not None, link_to, link_multi)\n\n    def __init__(self, key, data, fields, call_impl=None):\n        """Don\'t try and make one of these yourself, use the impl package"""\n        self.schema_name = json.loads(key)["s"]\n        self.key = key\n        self.name = data["name"]\n        self.data = data\n        self.fields = fields\n        self.summary_fields = data.get("summary_fields")\n        self.calls = call_impl or CallImpl(self.schema_name)\n\n    @staticmethod\n    def load(key, gsdata, collection_cache, call_impl=None):\n        c = collection_cache.get(key)\n        if not c:\n            spec = gsdata[\'spec\'].get(key)\n            if spec is None:\n                return None\n            c = collection_cache[key] = CollectionInfo(key, spec, {}, call_impl)\n            # Do this after the collection is in local_data, so circular references work\n            c.fields = {data["name"]: c.FieldInfo.load(data, gsdata, collection_cache) for data in spec[\'fields\']}\n        return c\n\n    def update(self, gsdata):\n        """Ingest any fields in this txdata that we didn\'t get before"""\n        collection_cache = {}\n        spec = gsdata[\'spec\'].get(self.key)\n        if spec:\n            for fdata in spec[\'fields\']:\n                field = self.fields.get(fdata[\'name\'])\n                if not field or fdata.get("link") and not field.link_to:\n                    self.fields[fdata[\'name\']] = self.FieldInfo.load(fdata, gsdata, collection_cache)\n\n    def save(self, key, gsdata, remote_is_trusted):\n        if key not in gsdata[\'spec\']:\n            if remote_is_trusted:\n                gsdata[\'spec\'][key] = self.data\n            else:\n                gsdata[\'spec\'][key] = {**self.data, "fields": [field for field in self.data["fields"]\n                                                               if field["client_visible"]]}\n\n\n@anvil.server.portable_class\nclass Record:\n    def __init__(self, str_id, collection_info=None, cap=None, data=None):\n        """Don\'t make one of these yourself; use schema stuff in the impl package"""\n        # raise TypeError("Cannot instantiate a Record")\n        self._str_id = str_id\n        self._collection_info = collection_info\n        self._cap = cap\n        if cap:\n            cap.set_update_handler(self._cap_update_handler)\n        self._data = data or {}\n\n    def _cap_update_handler(self, updates):\n        if updates is False:\n            # We\'ve been deleted - clear cache so that\n            # server calls are required for data access (which will then fail)\n            self._data = {}\n        else:\n            # Updates are fleshed-out (ie contain Record objects), so we can just apply them like this\n            self._data.update(updates)\n\n    # USER API\n\n    @property\n    def id(self):\n        return self._cap.scope[2]\n\n    def __eq__(self, other):\n        return isinstance(other, Record) and other._cap.scope == self._cap.scope\n\n    def __hash__(self):\n        return hash(self._cap.scope[1]) ^ hash(tuple(self.id) if type(self.id) is list else self.id)\n\n    def __getitem__(self, field_name):\n        if field_name == "":\n            raise KeyError("") # that\'s where my cap lives\n\n        f = self._collection_info and self._collection_info.fields.get(field_name)\n        if f and f.from_id is not False:\n            if f.from_id is True:\n                return self.id\n            else:\n                return self.id[f.from_id]\n\n        if field_name not in self._data:\n            # Policy decision: Fetch just this field.\n            self._fetch((False, {field_name: True}))\n\n        return self._data[field_name]\n\n    def __iter__(self):\n        # Used to implement dict(record) efficiently\n        all_keys = set(self._data.keys())\n        all_keys.discard("")\n        to_fetch = None\n        if self._collection_info:\n            known_fields = self._collection_info.fields.keys()\n            to_fetch = {field_name: True for field_name in known_fields if field_name not in all_keys}\n            all_keys.update(known_fields)\n\n        def get_key(k):\n            if k not in self._data:\n                self._fetch((False, to_fetch))\n            return self._data[k]\n\n        return iter((k, get_key(k)) for k in all_keys)\n\n    def __setitem__(self, field, value):\n        self.update({field: value})\n\n    def update(self, updates=None, **values):\n        updates = values if updates is None else {**updates, **values}\n        self._calls.update_records(self._cap.scope[1], [(self._cap, updates)])\n\n    def delete(self):\n        self._calls.delete_records(self._cap.scope[1], [self._cap])\n\n    def __repr__(self):\n        info = json.loads(self._cap.scope[1]) if self._cap else {"s":"NO", "c":"CAP"}\n        if self._collection_info and self._collection_info.summary_fields:\n            keys = [k for k in self._collection_info.summary_fields if k in self._data]\n            values = ", ".join(k+"="+repr(self._data[k]) for k in keys)\n            if any(k not in self._collection_info.summary_fields for k in self._data.keys()):\n                values += " ..." if keys else "..."\n        else:\n            values = ", ".join(k+"="+repr(v) for k,v in self._data.items() if k != "")\n        return "<{} {}.{} {} {{{}}}>".format(\n            type(self).__name__, info["s"], info["c"], (repr(self.id) if self._cap else self._str_id), values\n        )\n\n    # MODELS\n\n    def __init_subclass__(cls, schema=None, collection=None, **kwargs):\n        if type(schema) is not str or type(collection) is not str:\n            raise TypeError("If subclassing Record, you must specify schema= and collection= as strings.")\n        if cls.__init__ is not Record.__init__:\n            raise TypeError("If subclassing Record, you may not override __init__")\n        _model_classes[(schema,collection)] = cls\n\n    # SENDING\n\n    def _compact_ref(self, cdata, gsdata, sldata, collection_info, local_is_trusted, remote_is_trusted):\n        if collection_info.key == self._cap.scope[1]:\n            self._add_to_cdata(cdata, gsdata, sldata, local_is_trusted, remote_is_trusted)\n            return self.id\n        else:\n            return self\n\n    def _add_to_cdata(self, cdata, gsdata, sldata, local_is_trusted, remote_is_trusted):\n        my_data = cdata.get(self._str_id, {})\n        sent_keys = sldata["sent"].setdefault(self.id, set())\n        if "" not in sent_keys:\n            my_data[""] = self._cap\n            sent_keys.add("")\n\n        # Only send data if we\'re on the server side - data from the client will be ignored:\n        if local_is_trusted and (remote_is_trusted or self._collection_info):\n            # If we know about our collection info we can send links compact style\n            fields = {}\n            if self._collection_info and gsdata:\n                self._collection_info.save(self._collection_info.key, gsdata, remote_is_trusted)\n                fields = self._collection_info.fields\n            for key, value in self._data.items():\n                field = fields.get(key)\n                if not remote_is_trusted and field and not field.client_visible:\n                    continue # skip this field\n                if field and field.is_link:\n                    if field.link_multi and type(value) is list:\n                        my_data[key] = [r._compact_ref(cdata, gsdata, sldata, field.link_to, local_is_trusted,\n                                                       remote_is_trusted)\n                                        if isinstance(r, Record) else r for r in value]\n                    elif not field.link_multi and isinstance(value, Record):\n                        my_data[key] = value._compact_ref(cdata, gsdata, sldata, field.link_to, local_is_trusted,\n                                                          remote_is_trusted)\n                my_data[key] = value\n                sent_keys.add(key)\n\n        if my_data:\n            # Only write into cdata if there\'s any data to add that hasn\'t been added elsewhere\n            cdata[self._str_id] = my_data\n\n    def __serialize__(self, si):\n        gsdata, sldata = sending_shared_data(si)\n        cdata = {}\n        if self._cap is not None:\n            # NB self._cap is only None if we\'re dehydrated in a RecordList. If so, we will be rehydreated\n            # before we are reachable, so all the user API assumes _cap is present\n            self._add_to_cdata(cdata, gsdata, sldata, si.local_is_trusted, si.remote_is_trusted)\n        return [self._str_id, cdata]\n\n    # RECEIVING\n\n    @staticmethod\n    def __new_deserialized__(wire_data, si):\n        gsdata, rldata = receiving_shared_data(si)\n        rldata["seen_this_time"] = set()\n        str_id, cdata = wire_data\n        return Record._get_from_data(str_id, cdata, gsdata, rldata, si.remote_is_trusted)\n\n    @staticmethod\n    def _get_from_data(str_id, cdata, gsdata, rldata, remote_is_trusted):\n        instance = rldata["instances"].get(str_id)\n        if not instance:\n            # Icky workaround for Skulpt missing raw_decode\n            try:\n                ck, _ = json.JSONDecoder().raw_decode(str_id)\n            except NotImplementedError:\n                idx = -1\n                while True:\n                    idx = str_id.find(".", idx+1)\n                    if idx == -1:\n                        raise ValueError("JSON parse failed for str_id: " + repr(str_id))\n                    try:\n                        ck = json.loads(str_id[:idx])\n                        break\n                    except json.JSONDecodeError:\n                        pass\n            cls = _model_classes.get((ck["s"], ck["c"]), Record)\n            instance = cls(str_id)\n            rldata["instances"][str_id] = instance\n        # Prevent looping:\n        if str_id not in rldata["seen_this_time"]:\n            rldata["seen_this_time"].add(str_id)\n            instance._update_from_txdata(cdata, gsdata, rldata, remote_is_trusted)\n        return instance\n\n    def _fill_out_links(self, data, cdata, gsdata, rldata):\n        """We\'ve got collection info, fill out links. Only makes sense if data is trusted."""\n        assert self._collection_info\n        for field in self._collection_info.fields.values():\n            if field.is_link and field.name in data:\n                v = data.get(field.name)\n                if field.link_multi:\n                    if type(v) is list:\n                        v = [Record._get_from_data(field.link_to.key+"."+tightjson(rid), cdata, gsdata, rldata, True)\n                             if not isinstance(rid, Record) else rid\n                             for rid in v]\n                else:\n                    if not isinstance(v, Record):\n                        v = Record._get_from_data(field.link_to.key+"."+tightjson(v), cdata, gsdata, rldata, True)\n\n                data[field.name] = v\n\n    def _update_from_txdata(self, cdata, gsdata, rldata, remote_is_trusted):\n        my_data = cdata.get(self._str_id, None)\n        if my_data is None:\n            return\n\n        if self._cap is None and "" in my_data:\n            self._cap = my_data[""]\n            self._cap.set_update_handler(self._cap_update_handler)\n\n        if remote_is_trusted:\n            if gsdata and self._cap:\n                if not self._collection_info:\n                    self._collection_info = CollectionInfo.load(self._cap.scope[1], gsdata, rldata["collections"],\n                                                                rldata.get("call_impl"))\n                    if self._collection_info:\n                        self._fill_out_links(self._data, cdata, gsdata, rldata)\n            if self._collection_info:\n                self._fill_out_links(my_data, cdata, gsdata, rldata)\n            self._data.update(my_data)\n\n    @property\n    def _calls(self):\n        if self._collection_info:\n            return self._collection_info.calls\n        else:\n            coll_dict = json.loads(self._cap.scope[1])\n            return CallImpl(coll_dict["s"])\n\n    @property\n    def _schema_and_collection(self):\n        if self._collection_info:\n            return self._collection_info.schema_name, self._collection_info.name\n        else:\n            ck = json.loads(self._cap.scope[1])\n            return ck["s"], ck["c"]\n\n\n    def _fetch(self, request_spec):\n        dhtd = self._calls.load_record_data(self._cap.scope[1], [self._cap], request=request_spec)\n        cdata, gsdata = dhtd.data\n        rldata = {"instances": {}, "collections": {}, "seen_this_time": set()}\n        if self._collection_info:\n            rldata["collections"][self._collection_info.key] = self._collection_info\n            self._collection_info.update(gsdata)\n        else:\n            self._collection_info = CollectionInfo.load(self._cap.scope[1], gsdata, rldata["collections"])\n        self._update_from_txdata(cdata, gsdata, rldata, True)\n\n\ndef _strip_for_client(s_cdata, s_gsdata, ck_and_ids):\n    if all(all(field["client_visible"] for field in cinfo["fields"])\n           for cinfo in s_gsdata["spec"].values()):\n        # No stripping required\n        return s_cdata, s_gsdata\n\n    c_cdata = {}\n    c_gsdata = {"spec": {}}\n    to_transfer = list(ck_and_ids)\n\n    while to_transfer:\n        ck, rid = to_transfer.pop()\n        coll = s_gsdata["spec"].get(ck)\n        if ck not in c_gsdata:\n            c_gsdata["spec"][ck] = {**coll, "fields": [field for field in coll["fields"] if field["client_visible"]]}\n        str_id = ck+"."+tightjson(rid)\n        if str_id not in c_cdata:\n            c_data = dict(s_cdata[str_id])\n            for field in coll["fields"]:\n                if field["name"] in c_data:\n                    if not field["client_visible"]:\n                        del c_data[field["name"]]\n                    elif field.get("link"):\n                        v = c_data[field["name"]]\n                        link = field["link"]\n                        if not link["multi"]:\n                            to_transfer.append((link["to"], v.id if isinstance(v, Record) else v))\n                        elif type(v) is list:\n                            for record in v:\n                                to_transfer.append((link["to"], record.id if isinstance(record, Record) else record))\n\n            c_cdata[str_id] = c_data\n\n    return c_cdata, c_gsdata\n\n\n\n@anvil.server.portable_class\nclass DehydratedTrustedData:\n    def __init__(self, cdata, gsdata, call_impl):\n        self._cdata = cdata\n        self._gsdata = gsdata\n        self._rldata = {"instances": {}, "collections": {}, "seen_this_time": set(), "call_impl": call_impl}\n        self._trusted = True\n        self._records_to_rehydrate = None\n\n    def _rehydrate(self):\n        if self._trusted and self._records_to_rehydrate:\n            for r in self._records_to_rehydrate:\n                r._update_from_txdata(self._cdata, self._gsdata, self._rldata, True)\n            self._records_to_rehydrate = None\n\n    @property\n    def data(self):\n        self._rehydrate()\n        return self._cdata, self._gsdata\n\n    def __serialize__(self, si):\n        return self._cdata, self._gsdata\n\n    def __deserialize__(self, data, si):\n        _, self._rldata = receiving_shared_data(si)\n        self._rldata["seen_this_time"] = set()\n        self._cdata, self._gsdata = data\n        self._trusted = si.remote_is_trusted\n        self._records_to_rehydrate = [r for r in self._rldata["instances"].values() if r._str_id in self._cdata]\n\n\n@anvil.server.portable_class\nclass RecordList(DehydratedTrustedData):\n    def __init__(self, cdata, gsdata, ck_and_ids, call_impl):\n        DehydratedTrustedData.__init__(self, cdata, gsdata, call_impl)\n        self._records = ck_and_ids\n        self._trusted = True\n        self._call_impl = call_impl\n\n    def __serialize__(self, si):\n        cdata, gsdata = self._cdata, self._gsdata\n        if not si.remote_is_trusted:\n            cdata, gsdata = _strip_for_client(cdata, gsdata, self._records)\n        return cdata, gsdata, self._records\n\n    def __deserialize__(self, data, si):\n        DehydratedTrustedData.__deserialize__(self, data[:2], si)\n        self._records = data[2]\n        self._call_impl = None\n\n    def _mk_record(self, record):\n        collection_key, record_id = record\n        str_id = collection_key+"."+tightjson(record_id)\n        # If we have an instance in cache, it\'s complete - there is only one cdata - so we can shortcut\n        instance = self._rldata["instances"].get(str_id)\n        return instance or Record._get_from_data(str_id, self._cdata, self._gsdata, self._rldata, self._trusted)\n\n    def __iter__(self):\n        self._rehydrate()\n        return iter(self._mk_record(record) for record in self._records)\n\n    def __getitem__(self, index):\n        if type(index) is not int:\n            raise TypeError("RecordList index must be integers")\n        self._rehydrate()\n        return self._mk_record(self._records[index])\n\n    def __len__(self):\n        return len(self._records)\n\n    def __bool__(self):\n        return bool(self._records)\n\n    def __repr__(self):\n        return "<RecordList ({} records)>".format(len(self._records))\n\n\n@anvil.server.portable_class\nclass LazyIterable:\n    def __init__(self, cap_first_page, first_page=None, cap_second_page=None, get_next_page=None):\n        # Don\'t create one of these manually; use impl.lazy_iter.LazyIterable\n        self._cap_first_page = cap_first_page\n        self._first_page = first_page\n        self._cap_second_page = cap_second_page\n        self._get_next_page = get_next_page\n\n    def __serialize__(self, si):\n        if si.local_is_trusted:\n            return self.cap_this_page, self._first_page, self._cap_second_page\n        else:\n            return self.cap_this_page, None, None\n\n    def __deserialize__(self, data, si):\n        self._get_next_page = None\n        if si.remote_is_trusted:\n            self._cap_first_page, self._first_page, self._cap_second_page = data\n        else:\n            self._cap_first_page = data[0]\n            self._first_page = self._cap_second_page = None\n\n    def __iter__(self):\n        if self._first_page is not None:\n            return self.Iterator(self._first_page, self._cap_second_page, self._get_next_page)\n        else:\n            return self.Iterator([], self._cap_first_page, self._get_next_page)\n\n    def __repr__(self):\n        return f"<LazyIterable({self._cap_first_page.scope[1]}): at {self._cap_first_page.scope[2:]} with {len(self._first_page)} items cached, next page = {self._cap_second_page}>"\n\n    class Iterator:\n        def __init__(self, first_page, next_page_cap, get_next_page):\n            self._page_iter = iter(first_page)\n            self._next_page_cap = next_page_cap\n            self._get_next_page = get_next_page\n\n        def __next__(self):\n            while True:\n                try:\n                    return self._page_iter.__next__()\n                except StopIteration:\n                    if not self._next_page_cap:\n                        raise\n                    if self._get_next_page:\n                        next_data, self._next_page_cap = self._get_next_page(self._next_page_cap)\n                    else:\n                        next_data, self._next_page_cap = anvil.server.call("ext.iter:" + self._next_page_cap.scope[1],\n                                                                           self._next_page_cap)\n                    self._page_iter = iter(next_data)\n\n',Sk.builtinFiles.files["src/lib/anvil/util.py"]='from anvil.server import serializable_type\nimport anvil\n\n\ndef _wrap(value):\n    if isinstance(value, (WrappedObject, WrappedList)):\n        return value\n    elif isinstance(value, dict):\n        return WrappedObject(value)\n    elif isinstance(value, list):\n        wl = WrappedList()\n        for i in value:\n            wl.append(i)\n        return wl\n    else:\n        return value\n\n\n@serializable_type\nclass WrappedObject(dict):\n    _name = None\n    _module = None\n\n    def __init__(self, d=None, **kwargs):\n        if d and isinstance(d, dict):\n            for k in d.keys():\n                self.__setitem__(k, d[k])\n\n        for k in kwargs.keys():\n            self.__setitem__(k, kwargs[k])\n\n    def __getattr__(self, key):\n        return self.__getitem__(key)\n\n    def __setattr__(self, key, value):\n        self.__setitem__(key, value)\n\n    def __setitem__(self, key, value):\n        dict.__setitem__(self, key, _wrap(value))\n\n    def __getitem__(self, key):\n        _sentinel = WrappedObject()\n        r = dict.get(self, key, _sentinel)\n\n        if r is _sentinel:\n            dict.__setitem__(self, key, _sentinel)\n\n        return r\n\n    def update(*args, **new_items):\n        # avoid name conflicts with keys, could use (self, other=(), /, **kws)\n        # but position only args not available in py2/Skulpt\n        if not args:\n            raise TypeError("method \'update\' needs an argument")\n        elif len(args) > 2:\n            raise TypeError("expected at most 1 argument, got %d" % (len(args) - 1))\n        elif len(args) == 2:\n            new_items = dict(args[1], **new_items)\n        self = args[0]\n        for k, v in new_items.items():\n            self[k] = v\n\n    def __repr__(self):\n        n = self._name or "WrappedObject"\n        m = self._module + "." if self._module else ""\n        return "%s%s<%s>" % (m, n, ", ".join(["%s=%s" % (k, repr(self[k])) for k in self.keys()]))\n\n    def __serialize__(self, global_data):\n        return dict(self)\n\n    def __deserialize__(self, data, global_data):\n        self.__init__(data)\n\n    def __copy__(self):\n        return self.__class__(dict.copy(self))\n\n    def __deepcopy__(self, memo):\n        # lazy load this - its only need on the\n        # server and we don\'t want to load copy on the client\n        from copy import deepcopy\n\n        return self.__class__(deepcopy(dict(self)))\n\n\n@serializable_type\nclass WrappedList(list):\n    def __init__(self, lst=[]):\n        for x in lst:\n            self.append(x)\n\n    def append(self, item):\n        list.append(self, _wrap(item))\n\n    def extend(self, items):\n        for i in items:\n            self.append(i)\n\n    def insert(self, offset, item):\n        list.insert(self, offset, _wrap(item))\n\n    def __serialize__(self, global_data):\n        return list(self)\n\n    def __deserialize__(self, data, global_data):\n        self.__init__(data)\n\n    def __copy__(self):\n        return self.__class__(list.copy(self))\n\n    def __deepcopy__(self, memo):\n        from copy import deepcopy\n\n        return self.__class__(deepcopy(list(self)))\n\n\n',Sk.builtinFiles.files["src/lib/plotly/__init__.py"]='import sys as _sys\n\nfrom anvil.server import portable_class as _portable\n\nfrom ._schema import schema as _root_schema\nfrom ._cls_overrides import _overrides, Base\n\n_ModType = type(_sys)\n\n\ndef _cache(fn):\n    cached = {}\n\n    def wrapper(name, module, trace_type=None):\n        args = (name, module, trace_type)\n        seen = cached.get(args)\n        if seen is not None:\n            return seen\n        rv = fn(name, module, trace_type)\n        cached[args] = rv\n        return rv\n\n    return wrapper\n\n\n@_cache\ndef _gen_cls(name, module, trace_type=None):\n    try:\n        cls = _overrides[module + "." + name]\n        cls.__module__ = module\n        cls.__name__ = name\n    except KeyError:\n        d = {"_name": name, "_module": module, "__module__": module}\n        if trace_type:\n\n            def __init__(self, d=None, **kws):\n                Base.__init__(self, d, type=trace_type, **kws)\n\n            d["__init__"] = __init__\n        cls = type(name, (Base,), d)\n\n    return _portable(cls)\n\n\nclass _LazyPlotlyMod(_ModType):\n    __slots__ = "_schema_"\n\n    def __init__(self, name, schema, package=True):\n        _ModType.__init__(self, name, None)\n        path = name.replace(".", "/")\n        self.__file__ = path + "/__init__.py" if package else path + ".py"\n        self._schema_ = schema\n        self.__package__ = name  # might be overridden\n\n    def __getattr__(self, attr):\n        if attr == "__all__":\n\n            def ignore(x):\n                if x.startswith("_"):\n                    return True\n                defn = self._schema_.get(x)\n                return defn is not None and defn["module"].endswith("_deprecations")\n\n            self.__all__ = sorted(x for x in self.__dir__() if not ignore(x))\n            return self.__all__\n\n        cls_schema = self._schema_.get(attr)\n        if cls_schema is not None:\n            cls = _gen_cls(attr, **cls_schema)\n            setattr(self, attr, cls)\n            return cls\n\n        raise AttributeError(attr)\n\n    def __dir__(self):\n        return sorted(set(_ModType.__dir__(self)) | set(self._schema_.keys()))\n\n\ndef _gen_mod(mod_name, schema, package):\n    trace_types = {cls_name: {"module": mod_name, "trace_type": cls_name.lower()} for cls_name in schema.get("t", [])}\n    mod_schema = {cls_name: {"module": mod_name} for cls_name in schema.get("a", [])}\n    mod_schema.update(trace_types)\n\n    mod = _LazyPlotlyMod(mod_name, mod_schema, package)\n    _sys.modules[mod_name] = mod\n\n    for leaf, s in schema.get("c", {}).items():\n        package = not leaf.startswith("_")  # private modules are not packages (e.g graph_objs._bar)\n        child = _gen_mod(mod_name + "." + leaf, s, package)\n        if not package:\n            child.__package__ = mod.__package__\n            mod_schema.update(child._schema_)\n        setattr(mod, leaf, child)\n\n    return mod\n\n\ngraph_objs = _gen_mod("plotly.graph_objs", {"c": _root_schema}, True)\n\n# do this after we\'ve created graph_objs\nfrom . import plotly, graph_objects\n',Sk.builtinFiles.files["src/lib/plotly/_cls_overrides.py"]='# Classes in plotly that have additional behaviour and features\n\nfrom anvil.util import WrappedObject\n\n_valid_underscore_properties = {\n    "error_x": "error-x",\n    "error_y": "error-y",\n    "error_z": "error-z",\n    "copy_xstyle": "copy-xstyle",\n    "copy_ystyle": "copy-ystyle",\n    "copy_zstyle": "copy-zstyle",\n    "paper_bgcolor": "paper-bgcolor",\n    "plot_bgcolor": "plot-bgcolor",\n}\n\n\ndef _get_props(full_path):\n    for under_prop, hyphen_prop in _valid_underscore_properties.items():\n        full_path = full_path.replace(under_prop, hyphen_prop)\n    \n    props = full_path.split("_")\n    for i, prop in enumerate(props):\n        props[i] = prop.replace("-", "_")\n    \n    return props\n\ndef _walk_props(self, path, props):\n    res = self\n    for p in props:\n        try:\n            res = WrappedObject.__getitem__(res, p)\n        except TypeError:\n            raise KeyError(path)\n    return res\n\n# support: https://plotly.com/python/creating-and-updating-figures/#magic-underscore-notation\nclass Base(WrappedObject):\n    def __setitem__(self, path, val):\n        if path[0] != "_" and "_" in path[1:]:\n            props = _get_props(path)\n            res = _walk_props(self, path, props[:-1])\n            WrappedObject.__setitem__(res, props[-1], val)\n        else:\n            return WrappedObject.__setitem__(self, path, val)\n\n    def __getitem__(self, path):\n        if path[0] != "_" and "_" in path[1:]:\n            props = _get_props(path)\n            return _walk_props(self, path, props)\n        else:\n            return WrappedObject.__getitem__(self, path)\n        \n\n\ndef _not_implemented_wrapper(cls_name, name):\n    def not_implemented(self, *args, **kws):\n        raise NotImplementedError(name + " is not yet implemented")\n\n    not_implemented.__name__ = name\n    not_implemented.__qualname__ = cls_name + "." + name\n\n    return not_implemented\n\n\nclass Figure(Base):\n    _name = "Figure"\n    def __init__(self, data=None, layout=None, **kws):\n        if isinstance(data, Figure):\n            data, layout = data.data, data.layout\n        elif type(data) is dict and ("data" in data or "layout" in data):\n            # Extract data, layout, and frames\n            data, layout = (\n                data.get("data", None),\n                data.get("layout", None),\n            )\n\n        if data is None:\n            data = []\n        elif not isinstance(data, (list, tuple)):\n            data = [data]\n\n        if layout is None:\n            layout = {}\n        elif isinstance(layout, dict):\n            layout = dict(layout)\n            template = self._initialize_template(layout.get("template", None))\n            if template is not None:\n                layout["template"] = template\n\n        Base.__init__(self, data=data, layout=layout, **kws)\n\n    # some common methods we don\'t support\n    update_traces = _not_implemented_wrapper("Figure", "update_traces")\n    add_trace = _not_implemented_wrapper("Figure", "add_trace")\n    for_each_trace = _not_implemented_wrapper("Figure", "for_each_trace")\n\n    def update_layout(self, dict1=None, **kws):\n        dict1 = dict1 or {}\n        self.layout.update(dict1, **kws)\n        return self\n\n    _default_template = None\n\n    def _get_template(self, template):\n        return template\n\n    def _initialize_template(self, template):\n        if template is None:\n            template = self._default_template\n        \n        if type(template) is str:\n            return self._get_template(template)\n\n        return template\n\n\n_overrides = {"plotly.graph_objs._figure.Figure": Figure}\n',Sk.builtinFiles.files["src/lib/plotly/_schema.py"]="schema={'bar':{'a':['ErrorX','ErrorY','Hoverlabel','Insidetextfont','Legendgrouptitle','Marker','Outsidetextfont','Selected','Stream','Textfont','Transform','Unselected'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Line','Pattern'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'selected':{'a':['Marker','Textfont']},'unselected':{'a':['Marker','Textfont']}}},'_bar':{'t':['Bar']},'barpolar':{'a':['Hoverlabel','Legendgrouptitle','Marker','Selected','Stream','Transform','Unselected'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Line','Pattern'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'selected':{'a':['Marker','Textfont']},'unselected':{'a':['Marker','Textfont']}}},'_barpolar':{'t':['Barpolar']},'box':{'a':['Hoverlabel','Legendgrouptitle','Line','Marker','Selected','Stream','Transform','Unselected'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['Line']},'selected':{'a':['Marker']},'unselected':{'a':['Marker']}}},'_box':{'t':['Box']},'candlestick':{'a':['Decreasing','Hoverlabel','Increasing','Legendgrouptitle','Line','Stream','Transform'],'c':{'decreasing':{'a':['Line']},'hoverlabel':{'a':['Font']},'increasing':{'a':['Line']},'legendgrouptitle':{'a':['Font']}}},'_candlestick':{'t':['Candlestick']},'carpet':{'a':['Aaxis','Baxis','Font','Legendgrouptitle','Stream'],'c':{'aaxis':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'baxis':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'legendgrouptitle':{'a':['Font']}}},'_carpet':{'t':['Carpet']},'choropleth':{'a':['ColorBar','Hoverlabel','Legendgrouptitle','Marker','Selected','Stream','Transform','Unselected'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['Line']},'selected':{'a':['Marker']},'unselected':{'a':['Marker']}}},'_choropleth':{'t':['Choropleth']},'choroplethmapbox':{'a':['ColorBar','Hoverlabel','Legendgrouptitle','Marker','Selected','Stream','Transform','Unselected'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['Line']},'selected':{'a':['Marker']},'unselected':{'a':['Marker']}}},'_choroplethmapbox':{'t':['Choroplethmapbox']},'cone':{'a':['ColorBar','Hoverlabel','Legendgrouptitle','Lighting','Lightposition','Stream'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']}}},'_cone':{'t':['Cone']},'contour':{'a':['ColorBar','Contours','Hoverlabel','Legendgrouptitle','Line','Stream','Textfont','Transform'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'contours':{'a':['Impliededits','Labelfont']},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']}}},'_contour':{'t':['Contour']},'contourcarpet':{'a':['ColorBar','Contours','Legendgrouptitle','Line','Stream'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'contours':{'a':['Impliededits','Labelfont']},'legendgrouptitle':{'a':['Font']}}},'_contourcarpet':{'t':['Contourcarpet']},'densitymapbox':{'a':['ColorBar','Hoverlabel','Legendgrouptitle','Stream','Transform'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']}}},'_densitymapbox':{'t':['Densitymapbox']},'funnel':{'a':['Connector','Hoverlabel','Insidetextfont','Legendgrouptitle','Marker','Outsidetextfont','Stream','Textfont','Transform'],'c':{'connector':{'a':['Line']},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Line'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}}}},'_funnel':{'t':['Funnel']},'funnelarea':{'a':['Domain','Hoverlabel','Insidetextfont','Legendgrouptitle','Marker','Stream','Textfont','Title','Transform'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['Line']},'title':{'a':['Font']}}},'_funnelarea':{'t':['Funnelarea']},'heatmap':{'a':['ColorBar','Hoverlabel','Legendgrouptitle','Stream','Textfont','Transform'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']}}},'_heatmap':{'t':['Heatmap']},'heatmapgl':{'a':['ColorBar','Hoverlabel','Legendgrouptitle','Stream','Transform'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']}}},'_heatmapgl':{'t':['Heatmapgl']},'histogram':{'a':['Cumulative','ErrorX','ErrorY','Hoverlabel','Insidetextfont','Legendgrouptitle','Marker','Outsidetextfont','Selected','Stream','Textfont','Transform','Unselected','XBins','YBins'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Line','Pattern'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'selected':{'a':['Marker','Textfont']},'unselected':{'a':['Marker','Textfont']}}},'_histogram':{'t':['Histogram']},'histogram2d':{'a':['ColorBar','Hoverlabel','Legendgrouptitle','Marker','Stream','Textfont','Transform','XBins','YBins'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']}}},'_histogram2d':{'t':['Histogram2d']},'histogram2dcontour':{'a':['ColorBar','Contours','Hoverlabel','Legendgrouptitle','Line','Marker','Stream','Textfont','Transform','XBins','YBins'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'contours':{'a':['Impliededits','Labelfont']},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']}}},'_histogram2dcontour':{'t':['Histogram2dContour']},'icicle':{'a':['Domain','Hoverlabel','Insidetextfont','Leaf','Legendgrouptitle','Marker','Outsidetextfont','Pathbar','Root','Stream','Textfont','Tiling','Transform'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Line'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'pathbar':{'a':['Textfont']}}},'_icicle':{'t':['Icicle']},'image':{'a':['Hoverlabel','Legendgrouptitle','Stream'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']}}},'_image':{'t':['Image']},'indicator':{'a':['Delta','Domain','Gauge','Legendgrouptitle','Number','Stream','Title','Transform'],'c':{'delta':{'a':['Decreasing','Font','Increasing']},'gauge':{'a':['Axis','Bar','Step','Threshold'],'c':{'axis':{'a':['Tickfont','Tickformatstop']},'bar':{'a':['Line']},'step':{'a':['Line']},'threshold':{'a':['Line']}}},'legendgrouptitle':{'a':['Font']},'number':{'a':['Font']},'title':{'a':['Font']}}},'_indicator':{'t':['Indicator']},'isosurface':{'a':['Caps','ColorBar','Contour','Hoverlabel','Legendgrouptitle','Lighting','Lightposition','Slices','Spaceframe','Stream','Surface'],'c':{'caps':{'a':['X','Y','Z']},'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'slices':{'a':['X','Y','Z']}}},'_isosurface':{'t':['Isosurface']},'mesh3d':{'a':['ColorBar','Contour','Hoverlabel','Legendgrouptitle','Lighting','Lightposition','Stream'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']}}},'_mesh3d':{'t':['Mesh3d']},'ohlc':{'a':['Decreasing','Hoverlabel','Increasing','Legendgrouptitle','Line','Stream','Transform'],'c':{'decreasing':{'a':['Line']},'hoverlabel':{'a':['Font']},'increasing':{'a':['Line']},'legendgrouptitle':{'a':['Font']}}},'_ohlc':{'t':['Ohlc']},'parcats':{'a':['Dimension','Domain','Labelfont','Legendgrouptitle','Line','Stream','Tickfont','Transform'],'c':{'legendgrouptitle':{'a':['Font']},'line':{'a':['ColorBar'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}}}},'_parcats':{'t':['Parcats']},'parcoords':{'a':['Dimension','Domain','Labelfont','Legendgrouptitle','Line','Rangefont','Stream','Tickfont','Transform','Unselected'],'c':{'legendgrouptitle':{'a':['Font']},'line':{'a':['ColorBar'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'unselected':{'a':['Line']}}},'_parcoords':{'t':['Parcoords']},'pie':{'a':['Domain','Hoverlabel','Insidetextfont','Legendgrouptitle','Marker','Outsidetextfont','Stream','Textfont','Title','Transform'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['Line']},'title':{'a':['Font']}}},'_pie':{'t':['Pie']},'pointcloud':{'a':['Hoverlabel','Legendgrouptitle','Marker','Stream'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['Border']}}},'_pointcloud':{'t':['Pointcloud']},'sankey':{'a':['Domain','Hoverlabel','Legendgrouptitle','Link','Node','Stream','Textfont'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'link':{'a':['Concentrationscales','Hoverlabel','Line'],'c':{'hoverlabel':{'a':['Font']}}},'node':{'a':['Hoverlabel','Line'],'c':{'hoverlabel':{'a':['Font']}}}}},'_sankey':{'t':['Sankey']},'scatter':{'a':['ErrorX','ErrorY','Fillpattern','Hoverlabel','Legendgrouptitle','Line','Marker','Selected','Stream','Textfont','Transform','Unselected'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Gradient','Line'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'selected':{'a':['Marker','Textfont']},'unselected':{'a':['Marker','Textfont']}}},'_scatter':{'t':['Scatter']},'scatter3d':{'a':['ErrorX','ErrorY','ErrorZ','Hoverlabel','Legendgrouptitle','Line','Marker','Projection','Stream','Textfont','Transform'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'line':{'a':['ColorBar'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'marker':{'a':['ColorBar','Line'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'projection':{'a':['X','Y','Z']}}},'_scatter3d':{'t':['Scatter3d']},'scattercarpet':{'a':['Hoverlabel','Legendgrouptitle','Line','Marker','Selected','Stream','Textfont','Transform','Unselected'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Gradient','Line'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'selected':{'a':['Marker','Textfont']},'unselected':{'a':['Marker','Textfont']}}},'_scattercarpet':{'t':['Scattercarpet']},'scattergeo':{'a':['Hoverlabel','Legendgrouptitle','Line','Marker','Selected','Stream','Textfont','Transform','Unselected'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Gradient','Line'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'selected':{'a':['Marker','Textfont']},'unselected':{'a':['Marker','Textfont']}}},'_scattergeo':{'t':['Scattergeo']},'scattergl':{'a':['ErrorX','ErrorY','Hoverlabel','Legendgrouptitle','Line','Marker','Selected','Stream','Textfont','Transform','Unselected'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Line'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'selected':{'a':['Marker','Textfont']},'unselected':{'a':['Marker','Textfont']}}},'_scattergl':{'t':['Scattergl']},'scattermapbox':{'a':['Cluster','Hoverlabel','Legendgrouptitle','Line','Marker','Selected','Stream','Textfont','Transform','Unselected'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'selected':{'a':['Marker']},'unselected':{'a':['Marker']}}},'_scattermapbox':{'t':['Scattermapbox']},'scatterpolar':{'a':['Hoverlabel','Legendgrouptitle','Line','Marker','Selected','Stream','Textfont','Transform','Unselected'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Gradient','Line'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'selected':{'a':['Marker','Textfont']},'unselected':{'a':['Marker','Textfont']}}},'_scatterpolar':{'t':['Scatterpolar']},'scatterpolargl':{'a':['Hoverlabel','Legendgrouptitle','Line','Marker','Selected','Stream','Textfont','Transform','Unselected'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Line'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'selected':{'a':['Marker','Textfont']},'unselected':{'a':['Marker','Textfont']}}},'_scatterpolargl':{'t':['Scatterpolargl']},'scattersmith':{'a':['Hoverlabel','Legendgrouptitle','Line','Marker','Selected','Stream','Textfont','Transform','Unselected'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Gradient','Line'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'selected':{'a':['Marker','Textfont']},'unselected':{'a':['Marker','Textfont']}}},'_scattersmith':{'t':['Scattersmith']},'scatterternary':{'a':['Hoverlabel','Legendgrouptitle','Line','Marker','Selected','Stream','Textfont','Transform','Unselected'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Gradient','Line'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'selected':{'a':['Marker','Textfont']},'unselected':{'a':['Marker','Textfont']}}},'_scatterternary':{'t':['Scatterternary']},'splom':{'a':['Diagonal','Dimension','Hoverlabel','Legendgrouptitle','Marker','Selected','Stream','Transform','Unselected'],'c':{'dimension':{'a':['Axis']},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Line'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'selected':{'a':['Marker']},'unselected':{'a':['Marker']}}},'_splom':{'t':['Splom']},'streamtube':{'a':['ColorBar','Hoverlabel','Legendgrouptitle','Lighting','Lightposition','Starts','Stream'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']}}},'_streamtube':{'t':['Streamtube']},'sunburst':{'a':['Domain','Hoverlabel','Insidetextfont','Leaf','Legendgrouptitle','Marker','Outsidetextfont','Root','Stream','Textfont','Transform'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Line'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}}}},'_sunburst':{'t':['Sunburst']},'surface':{'a':['ColorBar','Contours','Hoverlabel','Legendgrouptitle','Lighting','Lightposition','Stream'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'contours':{'a':['X','Y','Z'],'c':{'x':{'a':['Project']},'y':{'a':['Project']},'z':{'a':['Project']}}},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']}}},'_surface':{'t':['Surface']},'table':{'a':['Cells','Domain','Header','Hoverlabel','Legendgrouptitle','Stream'],'c':{'cells':{'a':['Fill','Font','Line']},'header':{'a':['Fill','Font','Line']},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']}}},'_table':{'t':['Table']},'treemap':{'a':['Domain','Hoverlabel','Insidetextfont','Legendgrouptitle','Marker','Outsidetextfont','Pathbar','Root','Stream','Textfont','Tiling','Transform'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Line','Pad'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'pathbar':{'a':['Textfont']}}},'_treemap':{'t':['Treemap']},'violin':{'a':['Box','Hoverlabel','Legendgrouptitle','Line','Marker','Meanline','Selected','Stream','Transform','Unselected'],'c':{'box':{'a':['Line']},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['Line']},'selected':{'a':['Marker']},'unselected':{'a':['Marker']}}},'_violin':{'t':['Violin']},'volume':{'a':['Caps','ColorBar','Contour','Hoverlabel','Legendgrouptitle','Lighting','Lightposition','Slices','Spaceframe','Stream','Surface'],'c':{'caps':{'a':['X','Y','Z']},'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'slices':{'a':['X','Y','Z']}}},'_volume':{'t':['Volume']},'waterfall':{'a':['Connector','Decreasing','Hoverlabel','Increasing','Insidetextfont','Legendgrouptitle','Outsidetextfont','Stream','Textfont','Totals','Transform'],'c':{'connector':{'a':['Line']},'decreasing':{'a':['Marker'],'c':{'marker':{'a':['Line']}}},'hoverlabel':{'a':['Font']},'increasing':{'a':['Marker'],'c':{'marker':{'a':['Line']}}},'legendgrouptitle':{'a':['Font']},'totals':{'a':['Marker'],'c':{'marker':{'a':['Line']}}}}},'_waterfall':{'t':['Waterfall']},'layout':{'a':['Activeselection','Activeshape','Annotation','Coloraxis','Colorscale','Font','Geo','Grid','Hoverlabel','Image','Legend','Mapbox','Margin','Modebar','Newselection','Newshape','Polar','Scene','Selection','Shape','Slider','Smith','Template','Ternary','Title','Transition','Uniformtext','Updatemenu','XAxis','YAxis'],'c':{'annotation':{'a':['Font','Hoverlabel'],'c':{'hoverlabel':{'a':['Font']}}},'coloraxis':{'a':['ColorBar'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'geo':{'a':['Center','Domain','Lataxis','Lonaxis','Projection'],'c':{'projection':{'a':['Rotation']}}},'grid':{'a':['Domain']},'hoverlabel':{'a':['Font','Grouptitlefont']},'legend':{'a':['Font','Grouptitlefont','Title'],'c':{'title':{'a':['Font']}}},'mapbox':{'a':['Bounds','Center','Domain','Layer'],'c':{'layer':{'a':['Circle','Fill','Line','Symbol'],'c':{'symbol':{'a':['Textfont']}}}}},'newselection':{'a':['Line']},'newshape':{'a':['Line']},'polar':{'a':['AngularAxis','Domain','RadialAxis'],'c':{'angularaxis':{'a':['Tickfont','Tickformatstop']},'radialaxis':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'scene':{'a':['Annotation','Aspectratio','Camera','Domain','XAxis','YAxis','ZAxis'],'c':{'annotation':{'a':['Font','Hoverlabel'],'c':{'hoverlabel':{'a':['Font']}}},'aspectratio':{'a':['Impliededits']},'camera':{'a':['Center','Eye','Projection','Up']},'xaxis':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'yaxis':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'zaxis':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'selection':{'a':['Line']},'shape':{'a':['Line']},'slider':{'a':['Currentvalue','Font','Pad','Step','Transition'],'c':{'currentvalue':{'a':['Font']}}},'smith':{'a':['Domain','Imaginaryaxis','Realaxis'],'c':{'imaginaryaxis':{'a':['Tickfont']},'realaxis':{'a':['Tickfont']}}},'ternary':{'a':['Aaxis','Baxis','Caxis','Domain'],'c':{'aaxis':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'baxis':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'caxis':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'title':{'a':['Font','Pad']},'updatemenu':{'a':['Button','Font','Pad']},'xaxis':{'a':['Minor','Rangebreak','Rangeselector','Rangeslider','Tickfont','Tickformatstop','Title'],'c':{'rangeselector':{'a':['Button','Font']},'rangeslider':{'a':['YAxis']},'title':{'a':['Font']}}},'yaxis':{'a':['Minor','Rangebreak','Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'_layout':{'a':['Layout']},'_deprecations':{'a':['Data','Annotations','Frames','AngularAxis','Annotation','ColorBar','Contours','ErrorX','ErrorY','ErrorZ','Font','Legend','Line','Margin','Marker','RadialAxis','Scene','Stream','XAxis','YAxis','ZAxis','XBins','YBins','Trace','Histogram2dcontour']},'_figure':{'a':['Figure']}}",Sk.builtinFiles.files["src/lib/plotly/graph_objects.py"]="from .graph_objs import *",Sk.builtinFiles.files["src/lib/plotly/plotly.py"]='\ndef _mk_unimplemented(name):\n    def f(*args, **kwargs):\n        raise Exception("You don\'t need %s() on Anvil. Set the \'data\' property on a Plot component instead" % name)\n    return f\n\niplot = _mk_unimplemented("iplot")\nplot = _mk_unimplemented("plot")\n'},function(e,t,n){"use strict";n(13),n(0),n(38),n(20),n(2);var{anvilMod:r}=n(6);e.exports.defineSystemComponents=function(t){t.ComponentProperty=Sk.misceval.buildClass(t,((e,t)=>{t.__init__=new Sk.builtin.func(((e,t)=>{e._anvil={propName:t}})),t.__get__=new Sk.builtin.func(((e,t,n)=>t===Sk.builtin.none.none$?e:t._anvil.getProp(e._anvil.propName))),t.__set__=new Sk.builtin.func(((e,t,n)=>t._anvil.setProp(e._anvil.propName,n)))}),"ComponentProperty",[]),t.CustomComponentProperty=Sk.misceval.buildClass(t,((e,t)=>{t.__init__=new Sk.builtin.func(((e,t,n)=>{e._anvil={propName:String(t),defaultPyVal:n}})),t.__get__=new Sk.builtin.func(((e,t,n)=>{var r;return t&&t!==Sk.builtin.none.none$?(null===(r=t.anvil$customProps)||void 0===r?void 0:r[e._anvil.propName])||e._anvil.defaultPyVal:e})),t.__set__=new Sk.builtin.func(((e,t,n)=>{var r;if(!t||t===Sk.builtin.none.none$)throw new Error("Cannot set custom component property value on null object.");return null!==(r=t.anvil$customProps)&&void 0!==r||(t.anvil$customProps={}),t.anvil$customProps[e._anvil.propName]=n,Sk.builtin.none.none$}))}),"CustomComponentProperty",[]),n(295)(t),n(296)(t),n(297)(t),n(298)(t),n(299)(t),n(300)(t),n(301)(t),n(302)(t),n(303)(t),n(306)(t),n(307)(t),n(308)(t),n(309)(t),n(310)(t),n(311)(t),n(312)(t),n(313)(t),n(314)(t),window.isIE?console.warn("Google Maps is no longer supported in Internet Explorer"):n(317)(t),n(318)(t),n(319)(t),n(320)(t,e.exports),n(321)(t),n(322)(t,e.exports),n(323)(t,e.exports),n(324)(t),n(325)(t),n(326)(t),n(327)(t),n(328)(t),n(329)(t),n(330)(t)};var i=function(e,t){return Sk.misceval.callsimArray(e.InvalidComponent,[],["text",new Sk.builtin.str(t)])};e.exports.withFormTrace=function(t,n){var r=e.exports.newPythonComponent,i={name:t,prev:r.formTrace};return r.formTrace=i,Sk.misceval.tryCatch((function(){return Sk.misceval.chain(n(),(function(e){return r.formTrace=i.prev,e}))}),(function(e){throw r.formTrace=i.prev,e}))},e.exports.withDependencyTrace=(t,n)=>{var r=e.exports.newPythonComponent,i={depId:t,prev:r.dependencyTrace};return r.dependencyTrace=i,Sk.misceval.tryCatch((function(){return Sk.misceval.chain(n(),(function(e){return r.dependencyTrace=r.dependencyTrace.prev,e}))}),(function(e){throw r.dependencyTrace=r.dependencyTrace.prev,e}))},e.exports.newPythonComponent=function t(n,o,a,l,s,c,p,u,d){var f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:void 0,v=[];for(var m in n.properties)void 0!==n.properties[m]&&(v.push(m),v.push(Sk.ffi.remapToPy(n.properties[m])));var h=void 0;n.type=n.type.replace(/MultiColumnPanel$/,"ColumnPanel");var _=n.type.match(/^form:(.*)$/);if(_){var g,[,y,b,k]=_[1].match(/^(?:([^:]*):)?((?:.*\.)?([^.]*))$/),S=y?window.anvilAppDependencyIds[y]:null,w=window.anvilAppMainPackage;if(y&&!S&&(console.error("Logical dep ID "+y+" not found"),h=i(r,"Missing dependency for form '"+b+"'")),(S=S||(null===(g=e.exports.newPythonComponent.dependencyTrace)||void 0===g?void 0:g.depId))&&!h){var C=u[S];C?w=C.package_name:(console.error("Dependency mapped but not found: "+S+" (logical "+y+")"),h=i(r,"Dependency missing for form '"+b+"'"))}for(var O=w+"."+b,P=!1,x=t.formTrace;x;x=x.prev)if(x.name==O){P=!0;break}if(P&&!h)h=i(r,'Cannot nest "'+O+'" inside itself');else if(p&&!h){var T=null,E=S?u[S].forms:p;for(var j of E)if(j.class_name==b){T=j;break}if(T){var A=$.extend({name:"",components:T.components,layout_properties:n.layout_properties},T.container),M={};h=Sk.misceval.chain(e.exports.withDependencyTrace(S,(()=>e.exports.withFormTrace(O,(function(){return t(A,M,{},{},s,null,p,u,d)})))),(function(e){for(var t of(""!=e._anvil.componentSpec.name&&(s[O]=s[O]||[],s[O].push(e)),e._anvil.isForm=!0,e._anvil.customComponentForm=T,e._anvil.customPropVals={},T.properties||[]))e._anvil.customPropVals[t.name]=t.name in n.properties?n.properties[t.name]:t.default_value;return e._anvil.dataBindingProp="item",e._anvil.componentsByName=M,e._anvil.element.addClass("anvil-custom-component anvil-designer-component-namespace anvil-designer-namespace-region"),e}))}else h=i(r,'No such form: "'+(S?O:b)+'"')}else h||(h=Sk.misceval.chain(Sk.importModule(O,!1,!0),(function(){var t=Sk.sysmodules.mp$subscript(new Sk.builtin.str(O)),n=t&&t.tp$getattr(new Sk.builtin.str(k));return t?n?e.exports.withFormTrace(O,(function(){var e=window.anvilCustomComponentProperties[S+":"+b];for(var t of e||[])v.indexOf(t.name)>-1||"object"!=t.type&&(v.push(t.name),v.push(Sk.ffi.remapToPy(t.default_value)));return Sk.misceval.callOrSuspend(n,void 0,void 0,v)})):i(r,Sk.builtin.repr(t).$jsstr()+" does not contain a class called '"+k+"'"):i(r,'No such form: "'+(S?O:b)+'"')})))}else{var N,L="Design"+n.type;L in r?N=r[L]:n.type in r&&(N=r[n.type]),N?(v=["__ignore_property_exceptions",!0].concat(v),h=Sk.misceval.chain(Sk.misceval.callOrSuspend(N,void 0,void 0,v),(function(e){if(Sk.builtin.isinstance(e,r.Container).v){var i=[null];for(var c in n.components)i.push(function(r){var i=n.components[r];return Sk.misceval.chain(t(i,o,a,l,s,e,p,u,d,f),(function(e){a&&(a[n.name]=a[n.name]||[],a[n.name].push(e))}))}.bind(null,c));return i.push((function(){return e})),Sk.misceval.chain.apply(null,i)}return e}))):h=i(r,'No such component: "'+n.type+'"')}return Sk.misceval.chain(h,(function(e){if(e._anvil.componentSpec=n,e._anvil.element.addClass("anvil-component"),e._anvil.element.data("anvil-py-component",e),Sk.builtin.isinstance(e,r.RepeatingPanel).v,e._anvil.updateDesignName&&(e._anvil.designName=n.name,e._anvil.updateDesignName(e)),o&&(o[n.name]=e),l&&(l[n.name]=n.event_bindings),f)for(var t in n.data_bindings){var i=Object.create(n.data_bindings[t]);i.pyComponent=e,i.component_name=n.name,f.push(i)}if(c){var a=Sk.abstr.gattr(c,new Sk.builtin.str("add_component")),s=[];for(var p in n.layout_properties){var u=n.layout_properties[p];void 0!==u&&(s.push(p),s.push(Sk.ffi.remapToPy(u)))}Sk.misceval.call(a,void 0,void 0,s,e)}return e}))}},function(e,t,n){"use strict";n(63),n(0),n(19),n(54),n(2);var r=n(41),i=n(10),o=n(4),a=n(224),l=n(6),s=n(26),c=n(1),p=Object.prototype.hasOwnProperty;e.exports=e=>{e.ComponentTag=Sk.misceval.buildClass(e,((e,t)=>{t.__serialize__=new Sk.builtin.func((e=>e.$d)),t.__repr__=new Sk.builtin.func((e=>new Sk.builtin.str("ComponentTag("+Sk.misceval.objectRepr(e.$d)+")")))}),"ComponentTag",[]);var t=[["name","name"],["type","type"],["group","group"],["description","description"],["important","important"],["hidden","hidden"],["options","options"],["accept","accept"],["iconsets","iconsets"],["allowCustomValue","allowCustomValue"],["designerHint","designerHint"],["multiline","multiline"],["deprecated","deprecated"],["allowBindingWriteback","supportsWriteback"],["includeNoneOption","includeNoneOption"],["noneOptionLabel","noneOptionLabel"],["defaultBindingProp","defaultBindingProp"],["priority","priority"],["showInDesignerWhen","showInDesignerWhen"]];function n(e){var n={};for(var[i,o]of t)i in e&&(n[o]=e[i]);return e.deprecateFromRuntimeV3&&r.data.app.runtime_options.version>=3&&(n.deprecated=!0),n}function u(e){return e.map(n)}var d=c.assembleGroupEvents("ClassicComponent",["universal"]),f=e=>{var t;t={setupDom(){return this._anvil.domNode},getDomElement(){return this._anvil.domNode},getProperties(){return u(this._anvilClassic$propTypes)},getEvents(){return Object.values(this._anvilClassic$eventTypes)}},e.prototype.anvil$hookSpec=t};e.ClassicComponent=Sk.abstr.buildNativeClass("anvil.ClassicComponent",{constructor:function(){},base:s.Component,slots:{tp$new(t,n){var r=s.Component.prototype.tp$new.call(this,[]);!r.$d&&(0,i.hasLegacyDict)()&&(r.$d=new o.pyDict);var a=r._anvil=function(e){var t={element:null,domNode:null,elements:null,get parent(){var t,n=null!==(t=e._Component.parent)&&void 0!==t?t:null;return n&&{pyObj:n.pyParent,removeFn:()=>n.remove.forEach((e=>e())),setVisibility:n.setVisibility}},set parent(t){var{pyObj:n,removeFn:r,setVisibility:i}=t;e._Component.parent={pyParent:n,onRemove:[r],setVisibility:i}},eventTypes:{},eventHandlers:{},props:{},propTypes:[],propMap:{},layoutPropTypes:[],childLayoutProps:{},metadata:{},defaultWidth:null,onPage:!1,components:[],addedToPage(){var t,n;return e._anvil.onPage=!0,null===(t=(n=e._anvil.pageEvents).add)||void 0===t?void 0:t.call(n)},removedFromPage(){var t,n;return e._anvil.onPage=!1,null===(t=(n=e._anvil.pageEvents).remove)||void 0===t?void 0:t.call(n)},shownOnPage(){var t,n;if(e._anvil.onPage)return null===(t=(n=e._anvil.pageEvents).show)||void 0===t?void 0:t.call(n)},pageEvents:{},getProp(t){var n,r=e._anvil.propMap[t];if(!r)throw new Sk.builtin.AttributeError(e.tp$name+" component has no property called '"+t+"'");if(r.get)n=r.get(e,e._anvil.element),n=r.pyVal?n:Sk.ffi.remapToPy(n);else if(t in e._anvil.props)n=e._anvil.props[t];else if(void 0===(n=r.pyVal?r.defaultValue:Sk.ffi.remapToPy(r.defaultValue)))throw new Sk.builtin.ValueError(e.tp$name+" component has no value or default for property '"+t+"'");return n},getPropJS(t){var n=e._anvil.propMap[t];return n&&n.getJS?n.getJS(e,e._anvil.element):Sk.ffi.remapToJs(Sk.misceval.retryOptionalSuspensionOrThrow(this.getProp(t)))},setProp(t,n){var r=e._anvil.propMap[t];if(!r)throw new Sk.builtin.AttributeError(e.tp$name+" component has no property called '"+t+"'");if(void 0===n)throw new Sk.builtin.ValueError("'undefined' is not a valid Python value");if(r.readOnly)throw new Sk.builtin.AttributeError("The '"+t+"' property for a "+e.tp$name+" is read-only");var i,o=e._anvil.props[t];return o=void 0===o?Sk.builtin.none.none$:o,e._anvil.props[t]=n,r.set&&(i=r.set(e,e._anvil.element,r.pyVal?n:Sk.ffi.remapToJs(n),r.pyVal?o:Sk.ffi.remapToJs(o))),void 0===i?Sk.builtin.none.none$:i},setPropJS(e,t){Sk.misceval.retryOptionalSuspensionOrThrow(this.setProp(e,Sk.ffi.remapToPy(t)))},dataBindingWriteback:(e,t,n)=>c.asyncToPromise((()=>(0,s.raiseWritebackEventOrSuspend)(e,new o.pyStr(t),n))),dataBindingProp:null};return t.eventHandlers[l.s_x_anvil_page_added]=[c.funcFastCall((()=>t.addedToPage()))],t.eventHandlers[l.s_x_anvil_page_removed]=[c.funcFastCall((()=>t.removedFromPage()))],t.eventHandlers[l.s_x_anvil_page_shown]=[c.funcFastCall((()=>t.shownOnPage()))],t.eventHandlers[l.s_x_anvil_classic_show]=[c.funcFastCall((()=>{if(t.onPage){var n=(0,s.getListenerCallbacks)(e,"show");if(n.length)return(0,o.chainOrSuspend)(null,...n)}return o.pyNone}))],t.eventHandlers[l.s_x_anvil_classic_hide]=[c.funcFastCall((()=>{if(!t.onPage){var n=(0,s.getListenerCallbacks)(e,"hide");if(n.length)return(0,o.chainOrSuspend)(null,...n)}return o.pyNone}))],t}(r);n=n||[];for(var p={},u=0;u<n.length;u+=2)p[n[u]]=n[u+1];var{_anvilClassic$propDefaults:d,_anvilClassic$createElement:f,_anvilClassic$propMap:v,_anvilClassic$propTypes:m,_anvilClassic$eventTypes:h,_anvilClassic$layoutProps:_,_anvilClassic$dataBindingProps:g,_anvilClassic$propsToInitialize:y}=r,b={};Object.keys(d).forEach((e=>{var t=p[e]||d[e];void 0!==t&&(b[e]=t)})),b.tag=b.tag||c.pyCall(e.ComponentTag),a.props=b,a.propMap=v,a.propTypes=m,a.layoutPropTypes=_,a.dataBindingProp=g,a.eventHandlers=Object.assign(r._Component.eventHandlers,a.eventHandlers),a.eventTypes=new Proxy(null!=h?h:{},{get:(e,t)=>e[t],set:(e,t,n)=>(e[t]=n,n?r._Component.allowedEvents.add(t):r._Component.allowedEvents.delete(t),!0)});var[k,S]=f(b),w=$(k);if(a.element=w,a.elements=S,a.domNode=k,k.classList.add("anvil-component"),w.data("anvil-py-component",r),"visible"in b&&"visible"in v&&(r._Component.pageState.currentlyVisible=(0,o.isTrue)(b.visible)),null==y?void 0:y.length){var C=y.filter((e=>e in b)).map((e=>()=>a.setProp(e,b[e])));return(0,o.chainOrSuspend)(null,...C,(()=>r))}return r},tp$init(e,t){var n=this;if(e.length)throw new Sk.builtin.TypeError("Component constructor takes keyword arguments only");if(!a.designerApi.inDesigner){t=t||[];for(var r=!1,i=[],o=[],l=[],s=this._anvil.props,c=this._anvil.propMap,p=function(e){var a=t[e],p=t[e+1];p!==s[a]&&("__ignore_property_exceptions"===a?r=!0:a in c?c[a].readOnly?l.push(a):o.push((()=>n._anvil.setProp(a,p))):i.push(a))},u=0;u<t.length;u+=2)p(u);if(!r&&(i.length||l.length)){var d=Sk.abstr.typeName(this);throw i.length&&(d+=" got unexpected keyword argument(s): "+i.map((e=>"'"+e+"'")).join(", ")),l.length&&(d+=i.length?"\n":" ",d+="cannot set the following readonly properties: "+l.map((e=>"'"+e+"'")).join(", ")),new Sk.builtin.TypeError(d)}return o.length?Sk.misceval.chain(null,...o):void 0}}},classmethods:{__init_subclass__:{$meth(t,n){var r,i=(0,l.kwsToObj)(n);c.initClassicComponentClassPrototype(this,null!==(r=i._anvil_classic)&&void 0!==r?r:{}),i._anvil_classic&&!p.call(this,"anvil$hookSpec")&&f(this);var a=new o.pySuper(e.ClassicComponent,this).tp$getattr(l.s_init_subclass);return(0,o.pyCallOrSuspend)(a,t,n)},$flags:{FastCall:!0}}},getsets:{__name__:{$get(){return Sk.abstr.lookupSpecial(this.ob$type,Sk.builtin.str.$name)}}},proto:{__serialize__:c.mkSerializePreservingIdentity((e=>{var t=[];for(var n in e._anvil.props)t.push(new Sk.builtin.str(n),e._anvil.props[n]);return new Sk.builtin.dict(t)})),__new_deserialized__:c.mkNewDeserializedPreservingIdentity()},flags:{sk$klass:!0}}),c.initClassicComponentClassPrototype(e.ClassicComponent,{properties:c.assembleGroupProperties(["user data"]),events:d,element:()=>c.h("div",null),layouts:[]}),Object.defineProperties(e.ClassicComponent.prototype,{anvil$properties:{get(){return u(this._anvilClassic$propTypes)},configurable:!0},anvil$events:{get(){return Object.values(this._anvilClassic$eventTypes)},configurable:!0}}),f(e.ClassicComponent),(0,l.initNativeSubclass)(e.ClassicComponent)}},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n(19);var i=n(1);e.exports=e=>{e.Spacer=i.mkComponentCls(e,"Spacer",{properties:i.assembleGroupProperties(
/*!componentProps(Spacer)!1*/
["visibility","layout","height","tooltip","user data"],{height:{defaultValue:new Sk.builtin.str("32")}}),events:i.assembleGroupEvents(
/*!componentEvents()!2*/
"Spacer",["universal"]),element:e=>i.h(i.OuterElement,r({className:"anvil-spacer"},e))})}},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n(19),n(3);var{getCssPrefix:i}=n(10),o=n(1),{setElementMargin:a,setElementPadding:l,getUnsetSpacing:s}=n(43),{misceval:{isTrue:c}}=Sk;e.exports=e=>{e.Label=o.mkComponentCls(e,"Label",{properties:o.assembleGroupProperties(
/*!componentProps(Label)!2*/
["layout","layout_spacing","text","appearance","icon","tooltip","user data"],{text:{dataBindingProp:!0,multiline:!0,suggested:!0,inlineEditElement:"text",group:void 0},spacing:{set(e,t,n){a(t[0],null==n?void 0:n.margin),l(e._anvil.elements.text,null==n?void 0:n.padding)},getUnset:(e,t,n)=>s(t[0],e._anvil.elements.text,n)}}),events:o.assembleGroupEvents(
/*!componentEvents()!2*/
"Label",["universal"]),element:e=>{var t=i(),n=o.getPaddingStyle({spacing:e.spacing});return o.h(o.OuterElement,r({className:"anvil-label anvil-inlinable",includePadding:!1},e),o.h(o.IconComponent,r({side:"left"},e)),o.h("span",{refName:"text",className:"".concat(t,"label-text"),style:(c(e.underline)?"text-decoration: underline;":"")+n},Sk.builtin.checkNone(e.text)?"":e.text.toString()),o.h(o.IconComponent,r({side:"right"},e)))}})}},function(e,t,n){"use strict";n(13),n(3);var r=n(10),i=n(116),o=n(43);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=n(1);e.exports=e=>{var{isTrue:t}=Sk.misceval;e.Button=s.mkComponentCls(e,"Button",{properties:s.assembleGroupProperties(
/*!componentProps(Button)!2*/
["layout","layout_spacing","interaction","text","appearance","icon","user data","tooltip"],{align:{defaultValue:new Sk.builtin.str("center"),options:["left","center","right","full"],set(e,t,n){"full"===(n=n.toString())?e._anvil.elements.button.style.width="100%":(e._anvil.elements.button.style.width="",e._anvil.elements.outer.style.textAlign=n),e._anvil.domNode.classList.toggle("anvil-inlinable","full"!==n)},description:"The position of this button in the available space.",important:!0},text:{dataBindingProp:!0,multiline:!0,suggested:!0,inlineEditElement:"text",group:void 0},font_size:{set(e,t,n){n=Sk.ffi.remapToJs(n),e._anvil.elements.button.style.fontSize="number"==typeof n?n+"px":""}},font:{set(e,t,n){n=n.toString(),e._anvil.elements.button.style.fontFamily=n}},bold:{set(e,n,r){r=t(r),e._anvil.elements.button.style.fontWeight=r?"bold":""}},italic:{set(e,t,n){n=Sk.misceval.isTrue(n),e._anvil.elements.button.style.fontStyle=n?"italic":""}},underline:{set(e,t,n){n=Sk.misceval.isTrue(n),e._anvil.elements.button.style.textDecoration=n?"underline":""}},background:{set(e,t,n){e._anvil.elements.button.style.backgroundColor=s.getColor(n)}},foreground:{set(e,t,n){e._anvil.elements.button.style.color=s.getColor(n)}},spacing:{set(e,t,n){(0,o.setElementMargin)(t[0],null==n?void 0:n.margin),(0,o.setElementPadding)(e._anvil.elements.button,null==n?void 0:n.padding)},getUnset:(e,t,n)=>(0,o.getUnsetSpacing)(t[0],e._anvil.elements.button,n)}}),events:s.assembleGroupEvents("Button",
/*!componentEvents(Button)!1*/
["universal"],{
/*!componentEvent(Button)!1*/
click:{name:"click",description:"When the button is clicked",parameters:[{name:"keys",description:"A dictionary of keys including 'shift', 'alt', 'ctrl', 'meta'. Each key's value is a boolean indicating if it was pressed during the click event. The meta key on a mac is the Command key",important:!1}],important:!0,defaultEvent:!0}}),element(e){var{font:n,font_size:i,bold:o,italic:c,underline:p,background:u,foreground:d,spacing:f}=e,v=l(e,["font","font_size","bold","italic","underline","background","foreground","spacing"]),m=v.align.toString(),h="full"===m?" width: 100%;":"",_=s.getOuterStyle({spacing:f},!1),g=s.getPaddingStyle({spacing:f}),y=s.getOuterStyle({font:n,font_size:i,bold:o,italic:c,underline:p,background:u,foreground:d}),b=t(v.enabled)?{}:{disabled:""},k="full"!==m?"anvil-inlinable ":"",S=(0,r.getCssPrefix)();return s.h(s.OuterElement,a({className:k+"anvil-button",style:_},v),s.h("button",a({refName:"button",ontouchstart:"",className:"".concat(S,"btn ").concat(S,"btn-default ").concat(S,"to-disable"),style:"max-width:100%; text-overflow:ellipsis; overflow:hidden; "+y+h+g},b),s.h(s.IconComponent,a({side:"left"},v)),s.h("span",{refName:"text",className:"".concat(S,"button-text")},Sk.builtin.checkNone(v.text)?"":v.text.toString()),s.h(s.IconComponent,a({side:"right"},v))))},locals(n){n.__new__=s.mkNew(e.ClassicComponent,(e=>{$(e._anvil.elements.button).on("click",(n=>{(0,i.setHandled)(n),t(e._anvil.props.enabled)&&s.raiseEventAsync({keys:{meta:n.metaKey,shift:n.shiftKey,ctrl:n.ctrlKey,alt:n.altKey}},e,"click")}))}))}})}},function(e,t,n){"use strict";n(13),n(9),n(67),n(3);var r=n(43),i=n(10),o=n(116);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=n(1);e.exports=e=>{var{isTrue:t}=Sk.misceval,n=(0,i.getInlineStyles)("checkbox");e.CheckBox=s.mkComponentCls(e,"CheckBox",{properties:s.assembleGroupProperties(
/*!componentProps(CheckBox)!2*/
["interaction","layout","layout_spacing","text","appearance","tooltip","user data"],{bold:{set(e,n,r){r=t(r),e._anvil.elements.label.style.fontWeight=r?"bold":""}},font_size:{set(e,t,n){n=Sk.ffi.remapToJs(n),e._anvil.elements.label.style.fontSize="number"==typeof n?n+"px":""}},underline:{set(e,n,r){r=t(r),e._anvil.elements.text.style.textDecoration=r?"underline":"none"}},
/*!componentProp(CheckBox)!1*/
checked:{name:"checked",type:"boolean",description:"The status of the checkbox",designerHint:"toggle",suggested:!0,pyVal:!0,important:!0,priority:10,exampleValue:!0,defaultValue:Sk.builtin.bool.false$,allowBindingWriteback:!0,dataBindingProp:!0,set(e,n,r){t(e._anvil.props.allow_indeterminate)&&(e._anvil.elements.input.indeterminate=r===Sk.builtin.none.none$),e._anvil.elements.input.checked=t(r)},get:(e,n)=>t(e._anvil.props.allow_indeterminate)&&e._anvil.elements.input.indeterminate?Sk.builtin.none.none$:new Sk.builtin.bool(e._anvil.elements.input.checked)},
/*!componentProp(CheckBox)!1*/
allow_indeterminate:{name:"allow_indeterminate",type:"boolean",description:"Support an indeterminate state. The indeterminate state can only be set in code by setting checked=None.",pyVal:!0,defaultValue:Sk.builtin.bool.false$,initialize:!0,set(e,n,r){t(r)?e._anvil.elements.input.indeterminate=e._anvil.props.checked===Sk.builtin.none.none$:e._anvil.elements.input.indeterminate=!1}},text:{group:void 0,inlineEditElement:"text"},spacing:{set(e,t,n){(0,r.setElementMargin)(t[0],null==n?void 0:n.margin),(0,r.setElementPadding)(e._anvil.elements.label,null==n?void 0:n.padding)},getUnset:(e,t,n)=>(0,r.getUnsetSpacing)(t[0],e._anvil.elements.label,n)}}),events:s.assembleGroupEvents(
/*!componentEvents()!2*/
"CheckBox",["universal"],{change:
/*!componentEvent(CheckBox)!1*/
{name:"change",description:"When this checkbox is checked or unchecked",parameters:[],important:!0,defaultEvent:!0}}),element(e){var{underline:r,bold:o,font_size:c,checked:p}=e,u=l(e,["underline","bold","font_size","checked"]),d=(0,i.getCssPrefix)(),f="",v="";t(r)&&(f+=" text-decoration: underline;"),t(o)&&(v+=" font-weight: bold;"),t(c)&&(v+=" font-size: "+c.toString()+"px;"),v+=s.getPaddingStyle({spacing:u.spacing});var m={};return t(p)&&(m.checked=""),t(u.enabled)||(m.disabled=""),s.h(s.OuterElement,a({className:"anvil-inlinable",includePadding:!1},u),s.h("div",{refName:"checkbox",className:d+"checkbox"},s.h("label",{refName:"label",style:n+v},s.h("input",a({refName:"input",className:"".concat(d,"to-disable"),type:"checkbox"},m)),s.h("span",{refName:"text",style:"display: inline-block; min-height: 1em;"+f},Sk.builtin.checkNone(u.text)?"":u.text.toString()))))},locals(t){t.__new__=s.mkNew(e.ClassicComponent,(e=>{e._anvil.element.on("change",(t=>{e._anvil.dataBindingWriteback(e,"checked").finally((()=>s.raiseEventAsync({},e,"change")))})),$(e._anvil.elements.label).on("click",(e=>{(0,o.setHandled)(e)}))})),t.focus=new Sk.builtin.func((function(e){return e._anvil.elements.input.focus(),Sk.builtin.none.none$}))}})}},function(e,t,n){"use strict";n(13),n(3);var r=n(10),i=n(116),o=n(43);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=n(1);e.exports=e=>{var{isTrue:t}=Sk.misceval,n=(0,r.getInlineStyles)("radio");e.RadioButton=s.mkComponentCls(e,"RadioButton",{properties:s.assembleGroupProperties(
/*!componentProps(RadioButton)!2*/
["text","layout","layout_spacing","interaction","appearance","tooltip","user data"],{text:{set(e,t,n){(n=Sk.builtin.checkNone(n)?"":n.toString())?e._anvil.elements.text.textContent=n:e._anvil.elements.text.innerHTML="&nbsp;"},group:void 0,inlineEditElement:"text"},bold:{set(e,n,r){e._anvil.elements.text.style.fontWeight=t(r)?"bold":""}},underline:{set(e,n,r){e._anvil.elements.text.style.textDecoration=t(r)?"underline":"none"}},selected:
/*!componentProp(RadioButton)!1*/
{name:"selected",type:"boolean",suggested:!0,designerHint:"toggle",pyVal:!0,defaultValue:Sk.builtin.bool.false$,description:"The status of the radio button",set(e,n,r){e._anvil.elements.input.checked=t(r)},get:(e,t)=>new Sk.builtin.bool(e._anvil.elements.input.checked)},value:
/*!componentProp(RadioButton)!1*/
{name:"value",type:"string",pyVal:!0,defaultValue:Sk.builtin.str.$empty,description:"The value of the group when this radio button is selected",set(e,t,n){n=Sk.builtin.checkNone(n)?null:n.toString(),e._anvil.elements.input.value=n},get:(e,t)=>Sk.ffi.toPy(e._anvil.elements.input.value)},group_name:
/*!componentProp(RadioButton)!1*/
{name:"group_name",type:"string",pyVal:!0,defaultValue:new Sk.builtin.str("radioGroup1"),description:"The name of the group this radio button belongs to.",set(e,t,n){n=Sk.builtin.checkNone(n)?null:n.toString(),e._anvil.elements.input.name=n},get:(e,t)=>Sk.ffi.toPy(e._anvil.elements.input.name)},spacing:{set(e,t,n){(0,o.setElementMargin)(t[0],null==n?void 0:n.margin),(0,o.setElementPadding)(e._anvil.elements.label,null==n?void 0:n.padding)},getUnset:(e,t,n)=>(0,o.getUnsetSpacing)(t[0],e._anvil.elements.label,n)}}),events:s.assembleGroupEvents("radio button",
/*!componentEvents(RadioButton)!1*/
["universal"],{
/*!componentEvent(RadioButton)!1*/
clicked:{name:"clicked",description:"When this radio button is selected",parameters:[],important:!0,defaultEvent:!0},change:{name:"change",description:"When this radio button is selected (but not deselected)",parameters:[],important:!0,deprecated:!0}}),element(e){var{bold:i,underline:o,selected:c,value:p,group_name:u}=e,d=l(e,["bold","underline","selected","value","group_name"]),f=(0,r.getCssPrefix)(),v=s.getOuterStyle({bold:i,underline:o}),m={};t(c)&&(m.checked=""),t(d.enabled)||(m.disabled="");var h=s.getPaddingStyle({spacing:d.spacing});return s.h(s.OuterElement,a({refName:"outer",className:f+"radio anvil-inlinable",includePadding:!1},d),s.h("label",{refName:"label",style:n+h},s.h("input",a({refName:"input",className:"".concat(f,"to-disable"),type:"radio",name:u.toString(),value:Sk.builtin.checkNone(p)?"":p.toString()},m)),s.h("span",{refName:"text",style:v},Sk.builtin.checkNone(d.text)?"":d.text.toString())))},locals(t){t.__new__=s.mkNew(e.ClassicComponent,(e=>{var t=s.raiseEventOrSuspend.bind(null,{},e,"clicked"),n=s.raiseEventOrSuspend.bind(null,{},e,"change");e._anvil.element.on("change",(e=>{s.asyncToPromise((()=>Sk.misceval.chain(t(),n)))})),$(e._anvil.elements.label).on("click",(e=>{(0,i.setHandled)(e)}))})),t.get_group_value=new Sk.builtin.func((function(e){var t=e._anvil.props.group_name.toString(),n=$('input[name="'+t+'"]:checked').val();return null!=n?new Sk.builtin.str(n):Sk.builtin.none.none$}))}})}},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n(13),n(0),n(9),n(67),n(3),n(2);var{getCssPrefix:o}=n(10),a=n(1);e.exports=e=>{var{isTrue:t}=Sk.misceval;e.DropDown=a.mkComponentCls(e,"DropDown",{properties:a.assembleGroupProperties(
/*!componentProps(DropDown)!2*/
["layout","layout_margin","interaction","text","appearance","user data","tooltip"],{align:{defaultValue:new Sk.builtin.str("full"),options:["left","center","right","full"],set(e,t,n){"full"===(n=n.toString())?(e._anvil.elements.form.style.width="100%",e._anvil.elements.select.style.width="100%"):(e._anvil.elements.form.style.width="",e._anvil.elements.select.style.width="",e._anvil.elements.outer.style.textAlign=n),e._anvil.domNode.classList.toggle("anvil-inlinable","full"!==n)},description:"The position of this dropdown in the available space.",important:!0},text:{omit:!0},font:{set(e,t,n){e._anvil.elements.select.style.fontFamily=n.toString()}},bold:{set(e,n,r){e._anvil.elements.select.style.fontWeight=t(r)?"bold":""}},italic:{set(e,n,r){e._anvil.elements.select.style.fontStyle=t(r)?"italic":""}},underline:{set(e,n,r){e._anvil.elements.select.style.textDecoration=t(r)?"underline":""}},background:{set(e,t,n){e._anvil.elements.select.style.backgroundColor=a.getColor(n)}},foreground:{set(e,t,n){e._anvil.elements.select.style.color=a.getColor(n)}},
/*!componentProp(DropDown)!1*/
items:{name:"items",type:"text[]",description:"The items to display in this dropdown.",defaultValue:new Sk.builtin.list([]),exampleValue:[["One",1],["Two",2]],important:!0,priority:10,pyVal:!0,initialize:!0,set:(e,t,r)=>n(e,t,r),get:(e,t)=>e._anvil.pyItems||new Sk.builtin.list([])},
/*!componentProp(DropDown)!1*/
selected_value:{name:"selected_value",type:"object",suggested:!0,description:"The value of the currently selected item. Can only be set at runtime.",hideFromDesigner:!0,important:!0,priority:10,pyVal:!0,allowBindingWriteback:!0,dataBindingProp:!0,set(e,t,n){for(var r=e._anvil.jsItems||[],i=0;i<r.length;i++){var[,o]=r[i];if(Sk.misceval.richCompareBool(o,n,"Eq"))return e._anvil.invalidItemElement.detach(),t.find("select").val(i),void delete e._anvil.cachedInvalidValue}e._anvil.getPropJS("include_placeholder")&&n===Sk.builtin.none.none$?(t.find("select").val(-2),delete e._anvil.cachedInvalidValue):(t.find("select").append(e._anvil.invalidItemElement).val(-1),e._anvil.cachedInvalidValue=n)},get(e,t){if(e._anvil.cachedInvalidValue)return e._anvil.cachedInvalidValue;var n=t.find("select").val(),r=e._anvil.jsItems[n];return r?r[1]:Sk.builtin.none.none$}},
/*!componentProp(DropDown)!1*/
include_placeholder:{name:"include_placeholder",type:"boolean",description:"Whether to add a placeholder item to the list with value None",defaultValue:Sk.builtin.bool.false$,pyVal:!0,important:!0,set:(e,t,r)=>(e._anvil.select.val(-3),n(e,t,e._anvil.pyItems))},
/*!componentProp(DropDown)!1*/
placeholder:{name:"placeholder",type:"string",description:"The text to be displayed when the selected_value is None.",showInDesignerWhen:"include_placeholder",defaultValue:Sk.builtin.str.$empty,pyVal:!0,important:!0,exampleValue:"Choose an item...",set:(e,t,r)=>n(e,t,e._anvil.pyItems)}}),events:a.assembleGroupEvents("DropDown",
/*!componentEvents(DropDown)!1*/
["universal"],{
/*!componentEvent(DropDown)!1*/
change:{name:"change",description:"When an item is selected",parameters:[],important:!0,defaultEvent:!0}}),element(e){var{font:n,bold:l,italic:s,underline:c,background:p,foreground:u}=e,d=i(e,["font","bold","italic","underline","background","foreground"]),f=a.getOuterStyle({font:n,bold:l,italic:s,underline:c,background:p,foreground:u}),v="anvil-inlinable",m="";"full"===d.align.toString()&&(m="width: 100%;",delete d.align,v="");var h=t(d.enabled)?{}:{disabled:""},_=o();return a.h(a.OuterElement,r({className:v+" anvil-dropdown"},d),a.h("form",r({refName:"form",className:"".concat(_,"form-inline")},m?{style:m}:{}),a.h("select",r({refName:"select",className:"".concat(_,"form-control ").concat(_,"to-disable"),style:f+m},h))))},locals(t){t.__new__=a.mkNew(e.ClassicComponent,(e=>{e._anvil.invalidItemElement=$("<option />").text("<Invalid value>").val(-1),e._anvil.select=$(e._anvil.elements.select).on("change",(t=>{e._anvil.getPropJS("enabled")&&(delete e._anvil.cachedInvalidValue,e._anvil.invalidItemElement.detach(),e._anvil.dataBindingWriteback(e,"selected_value").finally((()=>a.raiseEventAsync({},e,"change"))))}));var t=e._anvil.props.selected_value;if(void 0!==t)return e._anvil.setProp("selected_value",t)})),t.focus=new Sk.builtin.func((function(e){return e._anvil.select.trigger("focus"),Sk.builtin.none.none$}))}});var n=(e,n,r)=>{var i=n.find("select"),o=e._anvil.jsItems&&e._anvil.jsItems[i.val()];return o=o&&o[1],i.empty(),Sk.misceval.chain(Sk.misceval.arrayFromIterable(r,!0),(n=>{r=new Sk.builtin.list(n),e._anvil.pyItems=r;var a=!1;t(e._anvil.getProp("include_placeholder"))&&(i.append($("<option />").text(e._anvil.getProp("placeholder").toString()).val(-2)),i.val(-2),a=!0,e._anvil.cachedInvalidValue===Sk.builtin.none.none$&&delete e._anvil.cachedInvalidValue);var l,s,c=e._anvil.jsItems=[];n.forEach(((t,n)=>{if(Sk.builtin.checkString(t))s=t,l=t,c.push([s,l]),i.append($("<option />").text(s.toString()).val(n));else{if(!(t instanceof Sk.builtin.list||t instanceof Sk.builtin.tuple))throw new Sk.builtin.TypeError("'items' must be a list of strings or tuples");if(2!==(t=Sk.misceval.arrayFromIterable(t)).length||!Sk.builtin.checkString(t[0]))throw new Sk.builtin.TypeError("Dropdown item tuples must be of the form ('label', value), (at item ".concat(n," got ").concat(Sk.misceval.objectRepr(new Sk.builtin.tuple(t)),")"));[s,l]=t,c.push(t),i.append($("<option />").text(s.toString()).val(n))}e._anvil.cachedInvalidValue&&Sk.misceval.richCompareBool(e._anvil.cachedInvalidValue,l,"Eq")?(i.val(n),delete e._anvil.cachedInvalidValue,a=!0):o&&Sk.misceval.richCompareBool(o,l,"Eq")&&(i.val(n),a=!0)})),!a&&c.length>0&&(i.val(0),delete e._anvil.cachedInvalidValue)}))}}},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n(13),n(17),n(9),n(67),n(3),n(20);var l=n(1),{datetimeMod:s,tzMod:c}=n(6),{getCssPrefix:p}=n(10);e.exports=e=>{var{isTrue:t}=Sk.misceval,{checkString:n}=Sk.builtin,u=s.datetime,d=s.date,f=new Sk.builtin.str("strftime"),v={"%a":"ddd","%A":"dddd","%b":"MMM","%B":"MMMM","%c":"llll","%d":"DD","%H":"HH","%I":"hh","%j":"DDDD","%m":"MM","%M":"mm","%p":"A","%S":"ss","%U":"ww","%w":"e","%W":"WW","%x":"L","%X":"LT","%y":"YY","%Y":"YYYY","%Z":"","%%":"%"},m=/%[aAbBcdHIjmMpSUwWxXyYZ%]/g,h=e=>e.replace(m,(e=>v[e])),_=(e,r,i)=>{if(!t(e))return null;if(n(e)){var o=e.toString();return"now"===o?moment():moment(o,[i,moment.ISO_8601])}if(e instanceof u){if(!t(r.pick_time))throw new Sk.builtin.ValueError("Cannot display a datetime object on a DatePicker without setting pick_time to True.");var a=e.tp$getattr(f),s=l.pyCall(a,[new Sk.builtin.str("%Y-%m-%d %H:%M:%S.%f%z")]);return moment(s.toString())}if(e instanceof d){var c=e.tp$getattr(f),p=l.pyCall(c,[new Sk.builtin.str("%Y-%m-%d")]);return moment(p.toString())}};function g(e){var n=e._anvil.props,r=t(n.pick_time)?"%c":"%x",i=h(n.format.toString()||r),o=_(n.min_date,n,i),a=_(n.max_date,n,i);e._anvil.pickerConfig={timePicker24Hour:!0,timePickerSeconds:!1,showCustomRangeLabel:!0,alwaysShowCalendars:!1,autoApply:!0,linkedCalendars:!1,autoUpdateInput:!1,minDate:o,maxDate:a,drops:"auto",locale:{format:i},timePicker:t(n.pick_time),singleDatePicker:!0,showDropdowns:!0,timePickerIncrement:1};var s=e._anvil.picker;s.val(""),s.daterangepicker(e._anvil.pickerConfig),s.off("apply.daterangepicker"),s.on("apply.daterangepicker",(function(t){e._anvil.dateMoment=$(t.target).data("daterangepicker").startDate,e._anvil.dataBindingWriteback(e,"date").finally((()=>(s.val(e._anvil.dateMoment.format(i)),l.raiseEventAsync({},e,"change"))))})),s.off("change"),s.on("change",(()=>{e._anvil.dateMoment=""===s.val()?null:s.data("daterangepicker").startDate,e._anvil.dataBindingWriteback(e,"date").finally((()=>l.raiseEventAsync({},e,"change")))})),e._anvil.dateMoment=_(n.date,n,i),e._anvil.dateMoment&&(s.data("daterangepicker").setStartDate(e._anvil.dateMoment),s.data("daterangepicker").setEndDate(e._anvil.dateMoment),s.val(e._anvil.dateMoment.format(i)))}e.DatePicker=l.mkComponentCls(e,"DatePicker",{properties:l.assembleGroupProperties(
/*!componentProps(DatePicker)!2*/
["text","layout","layout_margin","interaction","appearance","tooltip","user data"],{foreground:{set:(e,t,n)=>{e._anvil.elements.input.style.color=e._anvil.elements.icon.style.color=l.getColor(n)}},background:{set:(e,t,n)=>{e._anvil.elements.input.style.background=l.getColor(n)}},font_size:{set(e,t,n){n=Sk.ffi.remapToJs(n),e._anvil.picker.addBack().css("font-size","number"==typeof n?n+"px":"")}},align:{set(e,t,n){n=n.toString();var r=p(),i=e._anvil.elements.input;i.classList.remove(r+"align-left",r+"align-center",r+"align-right"),i.style.textAlign=n,["left","center","right"].includes(n)&&i.classList.add(r+"align-"+n)}},text:{omit:!0},enabled:{set(e,n,r){r=!t(r),e._anvil.elements.input.disabled=r,e._anvil.elements.icon.classList.toggle("anvil-disabled",r)}},date:
/*!componentProp(DatePicker)!1*/
{name:"date",type:"string",description:"The date selected on this component.",defaultValue:Sk.builtin.str.$empty,exampleValue:"2001-01-01 14:57",allowBindingWriteback:!0,dataBindingProp:!0,suggested:!0,pyVal:!0,set(e,t,n){g(e)},get(e,n){if(!e._anvil.dateMoment||e._anvil.dateMoment===Sk.builtin.none.none$)return Sk.builtin.none.none$;var r=e._anvil.dateMoment.toArray();if(r[6]*=1e3,r[1]+=1,t(e._anvil.props.pick_time)){var i=l.pyCall(c.tzoffset,[],["minutes",Sk.ffi.remapToPy(e._anvil.dateMoment.utcOffset())]);return r.push(i),l.pyCall(u,r.map((e=>Sk.ffi.remapToPy(e))))}return l.pyCall(d,r.slice(0,3).map((e=>Sk.ffi.remapToPy(e))))},getJS:(e,t)=>Sk.ffi.remapToJs(e._anvil.props.date)},
/*!componentProp(DatePicker)!1*/
format:{name:"format",type:"string",description:"The format in which to display the selected date.",defaultValue:Sk.builtin.str.$empty,pyVal:!0,exampleValue:"%Y-%m-%d, %H:%M",set(e,t,n){g(e)}},
/*!componentProp(DatePicker)!1*/
pick_time:{name:"pick_time",type:"boolean",description:"Whether the user should be able to select a time as well as a date",defaultValue:Sk.builtin.bool.false$,pyVal:!0,exampleValue:!0,set(e,t,n){g(e)},important:!0},
/*!componentProp(DatePicker)!1*/
min_date:{name:"min_date",type:"string",description:"The minimum date the user can select.",defaultValue:Sk.builtin.str.$empty,pyVal:!0,exampleValue:"1995-07-31",set(e,t,n){g(e)}},
/*!componentProp(DatePicker)!1*/
max_date:{name:"max_date",type:"string",description:"The maximum date the user can select.",defaultValue:Sk.builtin.str.$empty,exampleValue:"2020-12-31",set(e,t,n){g(e)}},
/*!componentProp(DatePicker)!1*/
placeholder:{name:"placeholder",type:"string",description:"A string to display when the DatePicker is empty.",defaultValue:Sk.builtin.str.$empty,exampleValue:"Choose a date",set(e,n,r){e._anvil.elements.input.setAttribute("placeholder",t(r)?r.toString():"")},important:!0}}),events:l.assembleGroupEvents(
/*!componentEvents()!2*/
"DatePicker",["universal"],{change:
/*!componentEvent(DatePicker)!1*/
{name:"change",description:"When the selected date changes",parameters:[],important:!0,defaultEvent:!0}}),element(e){var{background:n,align:s,placeholder:c,foreground:u,font_size:d}=e,f=a(e,["background","align","placeholder","foreground","font_size"]);c=t(c)?c.toString():"";var v=p(),m=t(u)?"color: "+l.getColor(u)+";":"",h=l.getOuterStyle({background:n,align:s,foreground:u,font_size:d}),_=l.getOuterClass({align:s}),g=t(f.enabled)?{}:{disabled:""},y=t(f.enabled)?"":" anvil-disabled";return l.h(l.OuterElement,r({className:"anvil-datepicker"},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({font_size:d},f)),l.h("input",r({refName:"input",className:"".concat(v,"form-control ").concat(v,"to-disable ")+_,style:h+m,placeholder:c},g)),l.h("i",{refName:"icon",className:"fa fa-calendar"+y,style:m}))},locals(n){n.__new__=l.mkNew(e.ClassicComponent,(e=>{e._anvil.picker=$(e._anvil.elements.input),e._anvil.elements.icon.addEventListener("click",(()=>{t(e._anvil.getProp("enabled"))&&e._anvil.picker.trigger("focus")})),e._anvil.pickerConfig={},g(e)})),n.focus=new Sk.builtin.func((function(e){return e._anvil.picker.trigger("focus"),Sk.builtin.none.none$}))}})}},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n(13),n(304),n(9),n(67),n(3);var{getCssPrefix:o}=n(10),a=n(1);e.exports=e=>{var{isTrue:t}=Sk.misceval;e.TextBox=a.mkComponentCls(e,"TextBox",{properties:a.assembleGroupProperties(
/*!componentProps(TextBox)!2*/
["layout","layout_margin","text","interaction","appearance","tooltip","user data"],{text:{dataBindingProp:!0,get(e,t){if("number"===e._anvil.inputType){var n=Number.parseFloat(e._anvil.elements.input.value);return Sk.ffi.remapToPy(isNaN(n)?null:n)}return new Sk.builtin.str(e._anvil.elements.input.value)},set(e,t,n){n=Sk.builtin.checkNone(n)?"":n.toString(),e._anvil.elements.input.value=n,e._anvil.lastChangeVal=n},allowBindingWriteback:!0,suggested:!0,inlineEditElement:"input"},placeholder:
/*!componentProp(TextBox)!1*/
{name:"placeholder",type:"string",description:"The text to be displayed when the component is empty.",defaultValue:Sk.builtin.str.$empty,pyVal:!0,exampleValue:"Enter text here",important:!0,set(e,t,n){n=Sk.builtin.checkNone(n)?"":n.toString(),e._anvil.elements.input.setAttribute("placeholder",n)}},hide_text:
/*!componentProp(TextBox)!1*/
{name:"hide_text",type:"boolean",description:"Display stars instead of the text in this box",defaultValue:Sk.builtin.bool.false$,pyVal:!0,set(e,n,r){e._anvil.hiddenInput=t(r),e._anvil.updateType()}},type:
/*!componentProp(TextBox)!1*/
{name:"type",type:"enum",options:["text","number","email","tel","url"],description:"What type of data will be entered into this box?",defaultValue:new Sk.builtin.str("text"),pyVal:!0,exampleValue:"number",set(e,t,n){n=n.toString(),n=["text","number","tel","url","email"].includes(n)?n:"text",e._anvil.inputType=n,e._anvil.updateType()}}}),events:a.assembleGroupEvents(
/*!componentEvents()!2*/
"TextBox",["universal","focus"],{change:
/*!componentEvent(TextBox)!1*/
{name:"change",description:"When the text in this text box is edited",parameters:[],important:!0},pressed_enter:
/*!componentEvent(TextBox)!1*/
{name:"pressed_enter",description:"When the user presses Enter in this text box",parameters:[],important:!0,defaultEvent:!0}}),element(e){var{hide_text:n,type:l,placeholder:s,text:c}=e,p=i(e,["hide_text","type","placeholder","text"]),u=o(),d=a.getOuterClass(p),f=a.getOuterStyle(p),v=a.getOuterAttrs(p);return s=Sk.builtin.checkNone(s)?"":s.toString(),l=l.toString(),c=Sk.builtin.checkNone(c)?"":c.toString(),l=t(n)?"password":["text","number","tel","url","email"].includes(l)?l:"text",a.h("input",r({refName:"input",type:l,className:"".concat(u,"form-control ").concat(u,"to-disable anvil-text-box ").concat(d),style:f,value:c,placeholder:s},v))},locals(n){n.__new__=a.mkNew(e.ClassicComponent,(e=>{e._anvil.element.on("propertychange change keyup paste input",(function(t){"change"!==t.type&&this.focus();var n=e._anvil.elements.input.value;n!==e._anvil.lastChangeVal&&(e._anvil.lastChangeVal=n,a.raiseEventAsync({},e,"change"))})).on("keydown",(t=>{13==t.which&&(e._anvil.dataBindingWriteback(e,"text").finally((function(){return a.raiseEventAsync({},e,"pressed_enter")})),t.stopPropagation(),t.preventDefault())})).on("focus",(function(t){a.raiseEventAsync({},e,"focus")})).on("blur",(function(t){e._anvil.dataBindingWriteback(e,"text").finally((()=>setTimeout((()=>a.raiseEventAsync({},e,"lost_focus")))))}));var n=e._anvil.props.type.toString();e._anvil.inputType=["text","number","tel","url","email"].includes(n)?n:"text",e._anvil.hiddenInput=t(e._anvil.props.hide_text),e._anvil.updateType=()=>{e._anvil.elements.input.setAttribute("type",e._anvil.hiddenInput?"password":e._anvil.inputType)}})),n.focus=new Sk.builtin.func((function(e){return e._anvil.element.trigger("focus"),Sk.builtin.none.none$})),n.select=new Sk.builtin.func((function(e,t,n,r){if(t&&n){var i=Sk.ffi.remapToJs(t),o=Sk.ffi.remapToJs(n),a=r?Sk.ffi.remapToJs(r):void 0;e._anvil.elements.input.setSelectionRange(i,o,a)}else e._anvil.element.trigger("select");return Sk.builtin.none.none$}))}})}},function(e,t,n){var r=n(12),i=n(305);r({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},function(e,t,n){var r=n(5),i=n(225).trim,o=n(159),a=r.parseFloat,l=1/a(o+"-0")!=-1/0;e.exports=l?function(e){var t=i(String(e)),n=a(t);return 0===n&&"-"==t.charAt(0)?-0:n}:a},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n(13),n(9),n(67),n(3);var{getCssPrefix:o}=n(10),a=n(1);e.exports=e=>{var{isTrue:t}=Sk.misceval;function n(e,t){if(e._anvil.getPropJS("visible")){var n,r=e._anvil.taHeight;n="number"==typeof r?r:"string"==typeof r&&r.length>0?parseFloat(r):0;var i=e._anvil.taDummy;i||((i=t.cloneNode()).style.position="absolute",i.style.top="100%",i.style.visibility="hidden",e._anvil.taDummy=i),i.style.height=0,i.style.width=t.clientWidth+"px",i.value=t.value,document.body.appendChild(i),t.style.height=a.cssLength(Math.max(n,i.scrollHeight+(e._anvil.taHeightDiff||0))),i.remove()}}e.TextArea=a.mkComponentCls(e,"TextArea",{properties:a.assembleGroupProperties(
/*!componentProps(TextArea)!2*/
["layout","layout_margin","height","text","interaction","appearance","tooltip","user data"],{text:{dataBindingProp:!0,get:(e,t)=>new Sk.builtin.str(e._anvil.lastChangeVal),set(e,t,r){var i=e._anvil.domNode;r=Sk.builtin.checkNone(r)?"":r.toString(),e._anvil.lastChangeVal=r,i.value=r,e._anvil.taAutoExpand&&n(e,i)},allowBindingWriteback:!0,multiline:!0,suggested:!0,inlineEditElement:"outer",group:void 0},height:{set(e,t,r){r=r.toString(),e._anvil.taHeight=r;var i=e._anvil.domNode;e._anvil.taAutoExpand?n(e,i):i.style.height=a.cssLength(r)}},placeholder:
/*!componentProp(TextArea)!1*/
{name:"placeholder",type:"string",description:"The text to be displayed when the component is empty.",defaultValue:Sk.builtin.str.$empty,pyVal:!0,exampleValue:"Enter text here",set(e,t,n){t.attr("placeholder",Sk.builtin.checkNone(n)?"":n.toString())},group:void 0},auto_expand:
/*!componentProp(TextArea)!1*/
{name:"auto_expand",type:"boolean",description:"If true, the text area will expand vertically to fit its contents",defaultValue:Sk.builtin.bool.false$,pyVal:!0,set(e,r,i){e._anvil.taAutoExpand=t(i)&&!0;var o=e._anvil.domNode;e._anvil.taAutoExpand?n(e,o):o.style.height=a.cssLength(e._anvil.taHeight)}}}),events:a.assembleGroupEvents("text area",
/*!componentEvents(TextArea)!1*/
["universal","focus"],{change:
/*!componentEvent(TextArea)!1*/
{name:"change",description:"When the text in this text area is edited",parameters:[],important:!0,defaultEvent:!0}}),element(e){var{placeholder:t,text:n}=e,l=i(e,["placeholder","text"]),s=o(),c=a.getOuterClass(l),p=a.getOuterStyle(l),u=a.getOuterAttrs(l);return n=Sk.builtin.checkNone(n)?"":n.toString(),t=Sk.builtin.checkNone(t)?"":t.toString(),a.h("textarea",r({refName:"outer",className:"anvil-text-area ".concat(s,"form-control ").concat(s,"to-disable ").concat(c),style:p,placeholder:t,value:n},u))},locals(r){r.__new__=a.mkNew(e.ClassicComponent,(e=>{e._anvil.element.on("propertychange change keyup paste input",(function(t){var r=e._anvil.element;r.val()!=e._anvil.lastChangeVal&&(e._anvil.lastChangeVal=r.val(),a.raiseEventAsync({},e,"change")),e._anvil.taAutoExpand&&n(e,e._anvil.domNode)})).on("focus",(function(t){a.raiseEventAsync({},e,"focus")})).on("blur",(function(t){e._anvil.dataBindingWriteback(e,"text").finally((()=>setTimeout((()=>a.raiseEventAsync({},e,"lost_focus")))))})),e._anvil.taAutoExpand=t(e._anvil.props.auto_expand)&&!0,e._anvil.taHeight=e._anvil.props.height.toString();var r=e._anvil.props.text;e._anvil.lastChangeVal=Sk.builtin.checkNone(r)?"":r.toString();var i=e._anvil.element,o=()=>{e._anvil.taAutoExpand&&(e._anvil.taHeightDiff=i.outerHeight()-i.height(),n(e,e._anvil.domNode))};e._anvil.pageEvents={add:o,show:o}})),r.focus=new Sk.builtin.func((function(e){return e._anvil.element.trigger("focus"),Sk.builtin.none.none$})),r.select=new Sk.builtin.func((function(e,t,n,r){if(t&&n){var i=Sk.ffi.remapToJs(t),o=Sk.ffi.remapToJs(n),a=r?Sk.ffi.remapToJs(r):void 0;e._anvil.domNode.setSelectionRange(i,o,a)}else e._anvil.element.trigger("select");return Sk.builtin.none.none$}))}})}},function(e,t,n){"use strict";n(9),n(67);var r=n(1);e.exports=e=>{e.Timer=r.mkComponentCls(e,"Timer",{properties:[
/*!componentProp(Timer)!1*/
{name:"interval",type:"number",description:"The number of seconds between each tick. 0 switches the timer off.",suggested:!0,pyVal:!0,defaultValue:new Sk.builtin.float_(.5),set(e,t,n){n=Sk.ffi.remapToJs(n),e._anvil.timerInterval=n,e._anvil.lastTicked=null,e._anvil.setTimer()}}],events:r.assembleGroupEvents(
/*!componentEvents()!3*/
"Timer",["universal","user data"],{show:{description:"When this timer's form is shown on the screen (or it is added to a visible form)"},hide:{description:"When this timer's form is hidden from the screen (or it is removed from a visible form)"},tick:
/*!componentEvent(Timer)!1*/
{name:"tick",description:"Every [interval] seconds. Does not trigger if [interval] is 0.",parameters:[],important:!0,defaultEvent:!0}}),locals(t){t.__new__=r.mkNew(e.ClassicComponent,(e=>{e._anvil.metadata={invisible:!0},e._anvil.clearTimer=()=>{e._anvil.timerHandle&&clearTimeout(e._anvil.timerHandle)},e._anvil.setTimer=()=>{var t=1e3*e._anvil.timerInterval,n=e._anvil.lastTicked,i=n?Math.max(1,n+t-Date.now()):t;e._anvil.clearTimer(),e._anvil.timerHandle=t>0?setTimeout((()=>{if(e._anvil.onPage)return e._anvil.lastTicked=Date.now(),r.raiseEventAsync({},e,"tick").finally((function(){e._anvil.setTimer()}))}),i):null},e._anvil.pageEvents={add(){e._anvil.onPage=!0,e._anvil.setTimer()},remove(){e._anvil.onPage=!1,e._anvil.clearTimer()}},e._anvil.timerInterval=Sk.ffi.remapToJs(e._anvil.props.interval),e._anvil.lastTicked=null}))}})}},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n(13),n(19),n(3);var i=n(1),{PostponedResizeObserver:o}=n(27);e.exports=function(e){function t(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e._anvil.element.attr("width",e._anvil.element.width()),e._anvil.element.attr("height",e._anvil.element.height()),e._anvil.ctx=e._anvil.domNode.getContext("2d"),t&&i.raiseEventAsync({},e,"reset")}e.Canvas=i.mkComponentCls(e,"Canvas",{properties:i.assembleGroupProperties(
/*!componentProps(Canvas)!1*/
["layout","layout_margin","height","appearance","user data","tooltip"]),events:i.assembleGroupEvents(
/*!componentEvents()!2*/
"Canvas",["universal","mouse"],{reset:
/*!componentEvent(Canvas)!1*/
{name:"reset",description:"When the canvas is reset and cleared, such as when the window resizes, or the canvas is added to a form.",parameters:[],important:!0,defaultEvent:!0}}),element(e){var t=i.getOuterAttrs(e),n=i.getOuterStyle(e),o=i.getOuterClass(e);return i.h("canvas",r({refName:"canvas",style:"width:100%; height: 150px; "+n,className:"anvil_notify_add "+o},t))},locals(n){n.__new__=i.mkNew(e.ClassicComponent,(e=>{var n=new o((()=>{e._anvil.onPage&&t(e)}));e._anvil.gradients={},e._anvil.pageEvents={add(){n.observe(e._anvil.domNode),t(e)},show(){t(e)},remove(){n.disconnect()}},t(e,!1),i.setupDefaultMouseEvents(e)})),n.get_width=new Sk.builtin.func((function(e){return Sk.ffi.remapToPy(e._anvil.element.width())})),n.get_height=new Sk.builtin.func((function(e){return Sk.ffi.remapToPy(e._anvil.element.height())}));var r={stroke_style:"strokeStyle",fill_style:"fillStyle",shadow_offset_x:"shadowOffsetX",shadow_offset_y:"shadowOffsetY",shadow_blur:"shadowBlur",shadow_color:"shadowColor",global_alpha:"globalAlpha",global_composite_operation:"globalCompositeOperation",line_width:"lineWidth",line_cap:"lineCap",line_join:"lineJoin",miter_limit:"miterLimit",font:"font",text_align:"textAlign",text_baseline:"textBaseline"},a=["stroke_style","fill_style","shadow_color"];n.__getattr__=new Sk.builtin.func((function(e,t){var n=t.toString();if(n in r)return e._anvil.ctx[r[n]]instanceof CanvasGradient?e._anvil.gradients[n]:Sk.ffi.remapToPy(e._anvil.ctx[r[n]]);throw new Sk.builtin.AttributeError("'"+e.tp$name+"' object has no attribute '"+n+"'")})),n.__setattr__=new Sk.builtin.func((function(e,t,o){var l=t.toString();if(!(l in r))return Sk.builtin.object.prototype.tp$setattr.call(e,t,o);if(o instanceof n.Gradient)e._anvil.ctx[r[l]]=o._anvil.canvasGradient,e._anvil.gradients[l]=o;else if(a.indexOf(l)>-1){var s=i.getColor(o);e._anvil.ctx[r[l]]=s}else e._anvil.ctx[r[l]]=Sk.ffi.remapToJs(o)})),n.reset_context=new Sk.builtin.func((function(e){return t(e),Sk.builtin.none.none$})),n.save=new Sk.builtin.func((function(e){return e._anvil.ctx.save(),Sk.builtin.none.none$})),n.restore=new Sk.builtin.func((function(e){return e._anvil.ctx.restore(),Sk.builtin.none.none$})),n.translate=new Sk.builtin.func((function(e,t,n){return e._anvil.ctx.translate(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n)),Sk.builtin.none.none$})),n.rotate=new Sk.builtin.func((function(e,t){return e._anvil.ctx.rotate(Sk.ffi.remapToJs(t)),Sk.builtin.none.none$})),n.scale=new Sk.builtin.func((function(e,t,n){return e._anvil.ctx.scale(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n)),Sk.builtin.none.none$})),n.transform=new Sk.builtin.func((function(e,t,n,r,i,o,a){return e._anvil.ctx.transform(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n),Sk.ffi.remapToJs(r),Sk.ffi.remapToJs(i),Sk.ffi.remapToJs(o),Sk.ffi.remapToJs(a)),Sk.builtin.none.none$})),n.set_transform=new Sk.builtin.func((function(e,t,n,r,i,o,a){return e._anvil.ctx.setTransform(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n),Sk.ffi.remapToJs(r),Sk.ffi.remapToJs(i),Sk.ffi.remapToJs(o),Sk.ffi.remapToJs(a)),Sk.builtin.none.none$})),n.reset_transform=new Sk.builtin.func((function(e){return e._anvil.ctx.setTransform(1,0,0,1,0,0),Sk.builtin.none.none$})),n.fill_text=new Sk.builtin.func((function(e,t,n,r){return e._anvil.ctx.fillText(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n),Sk.ffi.remapToJs(r)),Sk.builtin.none.none$})),n.stroke_text=new Sk.builtin.func((function(e,t,n,r){return e._anvil.ctx.strokeText(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n),Sk.ffi.remapToJs(r)),Sk.builtin.none.none$})),n.measure_text=new Sk.builtin.func((function(e,t){return Sk.ffi.remapToPy(e._anvil.ctx.measureText(Sk.ffi.remapToJs(t)).width)})),n.clear_rect=new Sk.builtin.func((function(e,t,n,r,i){return e._anvil.ctx.clearRect(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n),Sk.ffi.remapToJs(r),Sk.ffi.remapToJs(i)),Sk.builtin.none.none$})),n.fill_rect=new Sk.builtin.func((function(e,t,n,r,i){return e._anvil.ctx.fillRect(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n),Sk.ffi.remapToJs(r),Sk.ffi.remapToJs(i)),Sk.builtin.none.none$})),n.stroke_rect=new Sk.builtin.func((function(e,t,n,r,i){return e._anvil.ctx.strokeRect(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n),Sk.ffi.remapToJs(r),Sk.ffi.remapToJs(i)),Sk.builtin.none.none$})),n.begin_path=new Sk.builtin.func((function(e){return e._anvil.ctx.beginPath(),Sk.builtin.none.none$})),n.close_path=new Sk.builtin.func((function(e){return e._anvil.ctx.closePath(),Sk.builtin.none.none$})),n.fill=new Sk.builtin.func((function(e){return e._anvil.ctx.fill(),Sk.builtin.none.none$})),n.stroke=new Sk.builtin.func((function(e){return e._anvil.ctx.stroke(),Sk.builtin.none.none$})),n.clip=new Sk.builtin.func((function(e){return e._anvil.ctx.clip(),Sk.builtin.none.none$})),n.move_to=new Sk.builtin.func((function(e,t,n){return e._anvil.ctx.moveTo(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n)),Sk.builtin.none.none$})),n.line_to=new Sk.builtin.func((function(e,t,n){return e._anvil.ctx.lineTo(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n)),Sk.builtin.none.none$})),n.quadratic_curve_to=new Sk.builtin.func((function(e,t,n,r,i){return e._anvil.ctx.quadraticCurveTo(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n),Sk.ffi.remapToJs(r),Sk.ffi.remapToJs(i)),Sk.builtin.none.none$})),n.bezier_curve_to=new Sk.builtin.func((function(e,t,n,r,i,o,a){return e._anvil.ctx.bezierCurveTo(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n),Sk.ffi.remapToJs(r),Sk.ffi.remapToJs(i),Sk.ffi.remapToJs(o),Sk.ffi.remapToJs(a)),Sk.builtin.none.none$})),n.arc=new Sk.builtin.func((function(e,t,n,r,i,o,a){var l=void 0===i?0:i,s=void 0===o?2*Math.PI:o,c=Sk.misceval.isTrue(a);return e._anvil.ctx.arc(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n),Sk.ffi.remapToJs(r),Sk.ffi.remapToJs(l),Sk.ffi.remapToJs(s),c),Sk.builtin.none.none$})),n.draw_image=new Sk.builtin.func((function(e,t,r,o,a,l){return i.pyCallOrSuspend(n.draw_image_part,[e,t,null,null,null,null,r,o,a,l])})),n.draw_image_part=new Sk.builtin.func((function(t,n,r,o,a,l,s,c,p,u){if(!n||!Sk.misceval.isTrue(Sk.builtin.isinstance(n,e.Media)))throw new Sk.builtin.TypeError("Must pass a Media object to draw_image() or draw_image_part()");if(10!==arguments.length)throw new Sk.builtin.TypeError("draw_image_part() takes 9 arguments");r=r?Sk.ffi.remapToJs(r):void 0,o=o?Sk.ffi.remapToJs(o):void 0,a=a?Sk.ffi.remapToJs(a):void 0,l=l?Sk.ffi.remapToJs(l):void 0,s=s?Sk.ffi.remapToJs(s):0,c=c?Sk.ffi.remapToJs(c):0,p=p?Sk.ffi.remapToJs(p):void 0,u=u?Sk.ffi.remapToJs(u):void 0;var d=t._anvil.ctx,f=e=>{void 0!==r&&void 0!==o?d.drawImage(e,r,o,a,l,s,c,p,u):void 0!==p&&void 0!==u?d.drawImage(e,s,c,p,u):d.drawImage(e,s,c)};return n._anvilCachedImage?(f(n._anvilCachedImage),Sk.builtin.none.none$):Sk.misceval.chain(i.getUrlForMedia(n),(e=>Sk.misceval.tryCatch((()=>i.suspensionPromise(((t,r)=>{var i=new Image;i.onload=()=>{try{n._anvilCachedImage=i,f(i),t()}catch(e){r(e)}finally{e.release()}},i.onerror=t=>{r("Could not load image "+e.getUrl()),e.release()},i.src=e.getUrl()}))),(function(t){throw e.release(),t}))))})),n.get_image=new Sk.builtin.func((function(t){return i.pyCallOrSuspend(e.URLMedia,[new Sk.builtin.str(t._anvil.domNode.toDataURL())])})),n.Gradient=Sk.misceval.buildClass(e,(function(e,t){t.__init__=new Sk.builtin.func((function(e,t){if(!(t instanceof CanvasGradient))throw new Sk.builtin.RuntimeError("Cannot construct Canvas.Gradient from python.");return e._anvil={canvasGradient:t},Sk.builtin.none.none$})),t.add_color_stop=new Sk.builtin.func((function(e,t,n){return e._anvil.canvasGradient.addColorStop(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n)),Sk.builtin.none.none$}))}),"Canvas.Gradient",[]),n.create_linear_gradient=new Sk.builtin.func((function(e,t,r,o,a){t=Sk.ffi.remapToJs(t),r=Sk.ffi.remapToJs(r),o=Sk.ffi.remapToJs(o),a=Sk.ffi.remapToJs(a);var l=e._anvil.ctx.createLinearGradient(t,r,o,a);return i.pyCallOrSuspend(n.Gradient,[l])})),n.create_radial_gradient=new Sk.builtin.func((function(e,t,r,o,a,l,s){t=Sk.ffi.remapToJs(t),r=Sk.ffi.remapToJs(r),o=Sk.ffi.remapToJs(o),a=Sk.ffi.remapToJs(a),l=Sk.ffi.remapToJs(l),s=Sk.ffi.remapToJs(s);var c=e._anvil.ctx.createRadialGradient(t,r,o,a,l,s);return i.pyCallOrSuspend(n.Gradient,[c])}))}})}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e){e.SimpleCanvas=Sk.misceval.buildClass(e,(function(t,n){n.__init__=new Sk.builtin.func(r.withRawKwargs((function(t,n){Sk.misceval.call(e.Canvas.prototype.__init__,void 0,void 0,t,n),n._anvil.eventTypes.shape_grab={name:"shape_grab",description:"When the user grabs a shape",parameters:[{name:"shape",pyVal:!0,important:!0},{name:"mouse_x"},{name:"mouse_y"}]},n._anvil.eventTypes.shape_drag={name:"shape_drag",description:"When the user drags a shape",parameters:[{name:"shape",pyVal:!0,important:!0},{name:"mouse_x"},{name:"mouse_y"}]},n._anvil.eventTypes.shape_drop={name:"shape_drop",description:"When the user drops a shape",parameters:[{name:"shape",pyVal:!0,important:!0},{name:"mouse_x"},{name:"mouse_y"}]},n._anvil.eventTypes.shape_click={name:"shape_click",description:"When the user clicks on a shape",parameters:[{name:"shape",pyVal:!0,important:!0},{name:"mouse_x"},{name:"mouse_y"}]};window.requestAnimationFrame((function e(){!function(){var e=n._anvil.element.width(),t=n._anvil.element.height(),r=n._anvil.domNode.getContext("2d");for(var i in r.clearRect(0,0,e,t),n.shapes.v)n.shapes.v[i]._anvil.draw(r)}(),window.requestAnimationFrame(e)}));var i=function(e,t){var r=null;for(var i in n.shapes.v){var o=n.shapes.v[i];o._anvil.hitTest(e,t)&&(r=o)}return r},o=null,a=0,l=0,s=0,c=0;n._anvil.element.on("mousedown",(function(e){var t=n._anvil.element.offset(),a=e.pageX-t.left,l=e.pageY-t.top,p=i(a,l);p&&Sk.ffi.remapToJs(p.tp$getattr(new Sk.builtin.str("draggable")))&&(o=p,s=a,c=l,r.raiseEventAsync({shape:p,mouse_x:a,mouse_y:l},n,"shape_grab"))})),n._anvil.element.on("mousemove",(function(e){var t=n._anvil.element.offset(),s=e.pageX-t.left,c=e.pageY-t.top;if(o)o._anvil.moveBy(s-a,c-l),r.raiseEventAsync({shape:o,mouse_x:s,mouse_y:c},n,"shape_drag");else{var p=i(s,c);p&&Sk.ffi.remapToJs(p.tp$getattr(new Sk.builtin.str("draggable")))?n._anvil.element.css({cursor:"move"}):n._anvil.element.css({cursor:"initial"})}a=s,l=c})),n._anvil.element.on("mouseup",(function(e){var t=n._anvil.element.offset(),i=e.pageX-t.left,a=e.pageY-t.top;o&&(r.raiseEventAsync({shape:o,mouse_x:i,mouse_y:a},n,"shape_drop"),i-s==0&&a-c==0&&r.raiseEventAsync({shape:o,mouse_x:i,mouse_y:a},n,"shape_click")),o=null}))}))),n.shapes=new Sk.builtin.list}),"SimpleCanvas",[e.Canvas])}},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n(13),n(19),n(3);var o=n(1);e.exports=e=>{var{isTrue:t}=Sk.misceval;function n(e,t){var n=e._anvil.domNode,r=e._anvil.elements.img,i=r.style,a=e._anvil.height;if(t){i.display="",r.setAttribute("src",t);var l=e._anvil.getProp("display_mode").toString(),s=e._anvil.getProp("horizontal_align")+" "+e._anvil.getProp("vertical_align");switch(l){case"shrink_to_fit":Object.assign(i,{width:"100%",height:"100%",objectFit:"contain",objectPosition:s});break;case"zoom_to_fill":Object.assign(i,{width:"100%",height:"100%",objectFit:"cover",objectPosition:s});break;case"fill_width":Object.assign(i,{width:"100%",height:"",objectFit:"",objectPosition:""});break;default:Object.assign(i,{width:"",height:"",objectFit:"",objectPosition:""})}"string"==typeof a&&(n.style.height=e._anvil.isSelfSizing?"":o.cssLength(a)),n.classList.remove("anvil-image-empty")}else i.display="none",n.classList.add("anvil-image-empty")}e.Image=o.mkComponentCls(e,"Image",{properties:o.assembleGroupProperties(
/*!componentProps(Image)!1*/
["layout","layout_margin","height","appearance","tooltip","user data"],{height:{defaultValue:new Sk.builtin.str("200"),pyVal:!0,set(e,t,n){var r=n.toString();e._anvil.domNode.style.height=e._anvil.isSelfSizing?"":o.cssLength(r),e._anvil.height=r},description:"The height of the image (ignored in fill_width and original_size display modes)"},foreground:{hidden:!0},alt_text:
/*!componentProp(Image)!1*/
{name:"alt_text",type:"string",defaultValue:Sk.builtin.str.$empty,pyVal:!0,description:"Textual replacement for the image used by screen readers and displayed on the page if the image can't be loaded",set(e,t,n){e._anvil.elements.img.setAttribute("alt",n.toString())}},display_mode:
/*!componentProp(Image)!1*/
{name:"display_mode",type:"enum",priority:2,important:!0,defaultValue:new Sk.builtin.str("shrink_to_fit"),pyVal:!0,options:["shrink_to_fit","zoom_to_fill","fill_width","original_size"],initialize:!0,description:"Determines how the image's size should be adjusted to fit the size of this Image component.\n\n - `shrink_to_fit` scales the image to fit while maintaining its aspect ratio.\n- `zoom_to_fill` scales the image to fill the entire container while maintaining its aspect ratio. If the image is too large, it will be cropped to fit.\n- `fill_width` shrinks or grows the image so the width fits the container.\n- `original_size` - displays the image at whatever the browser thinks the original size is. If that would cause the image to be wider than the Image component, it shrinks the image to ensure it fits within the width of the Image component.",set(e,t,n){n=n.toString(),e._anvil.isSelfSizing="original_size"===n||"fill_width"===n,e._anvil.onPage&&e._anvil.pageEvents.add()}},align:{name:"align",deprecated:!0,hidden:!0,type:"string",defaultValue:new Sk.builtin.str("center"),pyVal:!0,set(e,t,n){e._anvil.setProp("horizontal_align",n)}},border_radius:
/*!componentProp(Image)!1*/
{name:"border_radius",type:"string",description:"The border radius of this component",group:"Appearance",defaultValue:Sk.builtin.str.$empty,pyVal:!0,exampleValue:"5px",set(e,t,n){n=Sk.builtin.checkNone(n)?"":o.cssLength(n.toString()),e._anvil.domNode.style.borderRadius=n}},horizontal_align:
/*!componentProp(Image)!1*/
{name:"horizontal_align",priority:3,group:"Image Display",type:"enum",options:["left","center","right"],description:"Position the image horizontally within this component",defaultValue:new Sk.builtin.str("center"),pyVal:!0,important:!0,set(e,t,n){n=n.toString(),e._anvil.domNode.style.textAlign=n,e._anvil.onPage&&e._anvil.pageEvents.add()}},vertical_align:
/*!componentProp(Image)!1*/
{name:"vertical_align",group:"Image Display",important:!0,type:"enum",defaultValue:new Sk.builtin.str("center"),pyVal:!0,options:["top","center","bottom"],description:"Position the image vertically within this component",set(e,t,n){e._anvil.onPage&&e._anvil.pageEvents.add()}},source:
/*!componentProp(Image)!1*/
{name:"source",priority:1,designerHint:"asset-upload",important:!0,suggested:!0,type:"uri",accept:"image/*",description:"The image source - set a string for a URL or a Media object in code",pyVal:!0,defaultValue:new Sk.builtin.str(""),exampleValue:new Sk.builtin.str("http://mysite.com/logo.png"),initialize:!0,dataBindingProp:!0,get:(e,t)=>e._anvil.pyMedia||Sk.builtin.none.none$,getJS:(e,t)=>e._anvil.urlString||"",set(r,i,a){if(r._anvil.urlHandle&&(r._anvil.urlHandle.release(),r._anvil.urlHandle=null),r._anvil.urlString=null,Sk.builtin.checkNone(a))r._anvil.pyMedia=a;else if(Sk.builtin.checkString(a)){var l=a.toString();r._anvil.urlString=l,n(r,l),r._anvil.pyMedia=o.pyCall(e.URLMedia,[a])}else{if(!t(Sk.builtin.isinstance(a,e.Media)))throw new Sk.builtin.TypeError("The 'source' property can only be set to a Media object or a URL");r._anvil.pyMedia=a}return Sk.misceval.chain(o.getUrlForMedia(r._anvil.pyMedia),(e=>{r._anvil.urlHandle=e,r._anvil.onPage&&r._anvil.pageEvents.add()}))}}}),events:o.assembleGroupEvents(
/*!componentEvents()!2*/
"Image",["universal","mouse"]),element(e){var{height:t,display_mode:n,horizontal_align:a,align:l,alt_text:s}=e,c=i(e,["height","display_mode","horizontal_align","align","alt_text"]);t="original_size"===(n=n.toString())||"fill_width"===n?"":"height: "+o.cssLength(t.toString())+";",a=a.toString();var p=s.toString()||c.tooltip.toString();return o.h(o.OuterElement,r({className:"anvil-image",style:"min-height:20px;text-align:".concat(a,";").concat(t,";overflow:hidden;overflow:clip")},c),o.h("img",{refName:"img",alt:p,style:"max-width:100%;max-height:100%;"}))},locals(t){t.__new__=o.mkNew(e.ClassicComponent,(e=>{e._anvil.pageEvents={remove(){e._anvil.urlHandle&&e._anvil.urlHandle.release()},add(){e._anvil.urlHandle&&n(e,e._anvil.urlHandle.getUrl())}},o.setupDefaultMouseEvents(e),e._anvil.height=e._anvil.props.height.toString()}))}})}},function(e,t,n){"use strict";n(9),n(3),n(20),n(37);var r=n(27);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function o(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}var a=n(1);e.exports=e=>{var{isTrue:t}=Sk.misceval,n=!1,l=function(){var e,t=(e=function*(){try{n=!0,yield a.loadScript("https://www.youtube.com/iframe_api")}catch(e){n=!1,console.error(e)}},function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function l(e){o(a,r,i,l,s,"next",e)}function s(e){o(a,r,i,l,s,"throw",e)}l(void 0)}))});return function(){return t.apply(this,arguments)}}();function s(e){var n,r=encodeURIComponent(void 0!==(n=(n=e._anvil.getProp("youtube_id").toString()).replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/))[2]?n[2].split(/[^0-9a-z_-]/i)[0]:n),i="https://www.youtube.com/embed/"+r+"?rel=0&enablejsapi=1";t(e._anvil.getProp("autoplay"))&&(i+="&autoplay=1"),t(e._anvil.getProp("mute"))&&(i+="&mute=1"),t(e._anvil.getProp("loop"))&&(i+="&loop=1",i+="&playlist="+r),e._anvil.elements.iframe.setAttribute("src",i)}e.YouTubeVideo=a.mkComponentCls(e,"YouTubeVideo",{properties:a.assembleGroupProperties(
/*!componentProps(YouTubeVideo)!1*/
["layout","layout_margin","height","appearance","user data"],{height:{defaultValue:new Sk.builtin.int_(300)},youtube_id:
/*!componentProp(YouTubeVideo)!1*/
{name:"youtube_id",type:"string",defaultValue:Sk.builtin.str.$empty,pyVal:!0,dataBindingProp:"youtube_id",exampleValue:"m7kzwpJfEeY",description:"The ID of the YouTube video to play",suggested:!0,set(e){s(e)}},autoplay:
/*!componentProp(YouTubeVideo)!1*/
{name:"autoplay",type:"boolean",defaultValue:Sk.builtin.bool.false$,pyVal:!0,description:"Set to true to play this video immediately",set(e){s(e)}},loop:
/*!componentProp(YouTubeVideo)!1*/
{name:"loop",type:"boolean",defaultValue:Sk.builtin.bool.false$,pyVal:!0,description:"Set to true to play this video repeatedly",set(e){s(e)}},current_time:
/*!componentProp(YouTubeVideo)!1*/
{name:"current_time",type:"object",description:"Get or set the current playback position, in seconds.",exampleValue:10.2,defaultValue:new Sk.builtin.float_(0),pyVal:!0,set(e,t,n){n=Sk.ffi.remapToJs(n),e._anvil.player&&e._anvil.player.seekTo&&e._anvil.player.seekTo(n,!0)},get:(e,t)=>e._anvil.player&&e._anvil.player.getCurrentTime?Sk.ffi.remapToPy(e._anvil.player.getCurrentTime()):new Sk.builtin.float_(0)},volume:
/*!componentProp(YouTubeVideo)!1*/
{name:"volume",type:"object",description:"Get or set the current volume, from 0 - 100.",exampleValue:50,defaultValue:new Sk.builtin.int_(50),pyVal:!0,set(e,t,n){n=Sk.ffi.remapToJs(n),e._anvil.player&&e._anvil.player.setVolume&&null!=n&&e._anvil.player.setVolume(n)},get:(e,t)=>e._anvil.player&&e._anvil.player.getVolume?Sk.ffi.remapToPy(e._anvil.player.getVolume()):new Sk.builtin.int_(0)},state:
/*!componentProp(YouTubeVideo)!1*/
{name:"state",type:"object",description:"Get the current playback state of the video as a string. E.g. PLAYING",readOnly:!0,pyVal:!0,get(e,t){if(e._anvil.player&&e._anvil.player.getPlayerState)var n=e._anvil.player.getPlayerState();return new Sk.builtin.str(c(n))}},duration:
/*!componentProp(YouTubeVideo)!1*/
{name:"duration",type:"object",description:"Get the duration of the video in seconds.",readOnly:!0,pyVal:!0,get:(e,t)=>e._anvil.player&&e._anvil.player.getDuration?Sk.ffi.remapToPy(e._anvil.player.getDuration()):new Sk.builtin.int_(0)},mute:
/*!componentProp(YouTubeVideo)!1*/
{name:"mute",type:"boolean",description:"Set whether the video is muted or not.",defaultValue:Sk.builtin.bool.false$,pyVal:!0,set(e,n,r){r=t(r),e._anvil.player&&e._anvil.player.mute&&e._anvil.player.unMute&&(r?e._anvil.player.mute():e._anvil.player.unMute())}}}),events:a.assembleGroupEvents(
/*!componentEvents()!3*/
"YouTubeVideo",["universal","user data"],{show:{description:"When this video is shown on the screen (or it is added to a visible form)"},hide:{description:"When this video is hidden from the screen (or it is removed from a visible form)"},state_change:
/*!componentEvent(YouTubeVideo)!1*/
{name:"state_change",description:"When the video changes state (eg PAUSED to PLAYING)",parameters:[{name:"state",type:"string",description:"The new state of the video (values from the YouTube API)",important:!0}],important:!0,defaultEvent:!0}}),element:e=>a.h(a.OuterElement,i({style:"min-height: 34px",className:"anvil-youtube-video"},e),a.h("iframe",{refName:"iframe",enablejsapi:!0,frameborder:"0",allowfullscreen:"",allow:"autoplay",style:"height: 100%; width: 100%;"})),locals(i){i.__new__=a.mkNew(e.ClassicComponent,(e=>{e._anvil.playerDefer=(0,r.defer)(),e._anvil.player=null,s(e),setTimeout((function r(){window.YT&&window.YT.Player?e._anvil.player=new window.YT.Player(e._anvil.elements.iframe,{events:{onReady(){t(e._anvil.getProp(["mute"]))&&e._anvil.player.mute(),e._anvil.playerDefer.resolve(e._anvil.player)},onStateChange(t){a.raiseEventAsync({state:c(t.data)},e,"state_change")}}}):(n||l(),console.log("YouTube Player not yet loaded. Trying again in 1 sec."),setTimeout(r,1e3))}),0)})),i.play=new Sk.builtin.func((function(e){return e._anvil.playerDefer.promise.then((e=>e.playVideo())),Sk.builtin.none.none$})),i.pause=new Sk.builtin.func((function(e){return e._anvil.playerDefer.promise.then((e=>e.pauseVideo())),Sk.builtin.none.none$})),i.stop=new Sk.builtin.func((function(e){return e._anvil.playerDefer.promise.then((e=>e.stopVideo())),Sk.builtin.none.none$}))}});var c=e=>{switch(e){case-1:return"UNSTARTED";case 0:return"ENDED";case 1:return"PLAYING";case 2:return"PAUSED";case 3:return"BUFFERING";case 5:return"CUED";default:return"UNKNOWN"}}}},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n(13),n(3);var{getCssPrefix:o}=n(10),a=n(1),{setElementMargin:l,setElementPadding:s,getUnsetSpacing:c}=n(43);e.exports=e=>{var{isTrue:t}=Sk.misceval;function n(e){var t=e._anvil.elements.input.files.length;t?e._anvil.elements.text.textContent=t+" file"+(1===t?"":"s")+" selected":e._anvil.setProp("text",e._anvil.props.text)}e.FileLoader=a.mkComponentCls(e,"FileLoader",{properties:a.assembleGroupProperties(
/*!componentProps(FileLoader)!1*/
["layout","layout_spacing","text","appearance","icon","interaction","user data","tooltip"],{text:{dataBindingProp:!0,defaultValue:new Sk.builtin.str("Upload"),group:void 0,inlineEditElement:"text"},align:{defaultValue:new Sk.builtin.str("center")},icon:{defaultValue:new Sk.builtin.str("fa:upload"),group:void 0},bold:{set(e,n,r){e._anvil.elements.label.style.fontWeight=t(r)?"bold":""}},font_size:{set(e,t,n){n=Sk.ffi.remapToJs(n),e._anvil.elements.label.style.fontSize="number"==typeof n?n+"px":""}},border:{set(e,n,r){e._anvil.elements.label.style.border=t(r)?r.toString():""}},background:{set(e,t,n){e._anvil.elements.label.style.backgroundColor=a.getColor(n)}},underline:{set(e,n,r){e._anvil.elements.label.style.textDecoration=t(r)?"underline":""}},foreground:{set(e,t,n){e._anvil.elements.label.style.color=a.getColor(n)}},enabled:{set(e,n,r){r=!t(r),e._anvil.elements.input.disabled=r,n.toggleClass("anvil-disabled",r)}},multiple:
/*!componentProp(FileLoader)!1*/
{name:"multiple",type:"boolean",defaultValue:Sk.builtin.bool.false$,pyVal:!0,description:"If True, this FileLoader can load multiple files at the same time",set(e,n,r){e._anvil.elements.input.multiple=t(r)}},show_state:
/*!componentProp(FileLoader)!1*/
{name:"show_state",type:"boolean",defaultValue:Sk.builtin.bool.true$,pyVal:!0,description:"If True, display a message describing selected files.",set(e,r,i){t(i)?n(e):e._anvil.setProp("text",e._anvil.props.text)}},file:
/*!componentProp(FileLoader)!1*/
{name:"file",type:"object",pyType:"anvil.Media instance",suggested:!0,pyVal:!0,readOnly:!0,description:"The currently selected file (or the first, if multiple files are selected). This is a Media object.",get:(e,t)=>e._anvil.firstFile},files:
/*!componentProp(FileLoader)!1*/
{name:"files",type:"object",pyType:"list(anvil.Media instance)",pyVal:!0,readOnly:!0,allowBindingWriteback:!0,description:"A list of currently selected files. Each file is a Media object.",get:(e,t)=>e._anvil.files},file_types:
/*!componentProp(FileLoader)!1*/
{name:"file_types",type:"string",description:'Specify what type of file to upload. Can accept a MIME type (eg "image/png" or "image/*"), or an extension (eg ".png"), or a comma-separated set of them (eg ".png,.jpg,.jpeg")',exampleValue:"image/*",pyVal:!0,defaultValue:Sk.builtin.none.none$,set(e,n,r){e._anvil.elements.input.accept=t(r)?Sk.ffi.remapToJs(r):""}},spacing:{set(e,t,n){l(t[0],null==n?void 0:n.margin),s(e._anvil.elements.label,null==n?void 0:n.padding)},getUnset:(e,t,n)=>c(t[0],e._anvil.elements.label,n)}}),events:a.assembleGroupEvents("FileLoader",
/*!componentEvents(FileLoader)!1*/
["universal","focus"],{change:
/*!componentEvent(FileLoader)!1*/
{name:"change",description:"When a new file is loaded into this FileLoader",parameters:[{name:"file",pyType:"anvil.Media instance",pyVal:!0,description:"The first selected file. Set the 'multiple' property to allow loading more than one file.",important:!0},{name:"files",pyType:"list(anvil.Media instance)",pyVal:!0,description:"A list of loaded files. Set the 'multiple' property to allow loading more than one file.",important:!1}],important:!0,defaultEvent:!0}}),element(e){var{bold:n,font_size:l,border:s,background:c,foreground:p,multiple:u,enabled:d,file_types:f,underline:v}=e,m=i(e,["bold","font_size","border","background","foreground","multiple","enabled","file_types","underline"]),h=o(),_=a.getOuterStyle(m,!1),g=a.getOuterClass(m)+(t(d)?"":" anvil-disabled"),y=a.getOuterAttrs(m),b=a.getOuterStyle({bold:n,font_size:l,border:s,background:c,foreground:p,underline:v}),k=a.getPaddingStyle({spacing:m.spacing}),{icon:S,icon_align:w}=m,C={};return t(u)&&(C.multiple=!0),t(d)||(C.disabled=""),f=t(f)?f.toString():"",a.h("a",r({refName:"outer",className:"".concat(h,"file-loader ").concat(g),href:"javascript:void(0)",style:_},y),a.h("label",{refName:"label",className:"anvil-inlinable",style:b+k},a.h(a.IconComponent,{side:"left",icon:S,icon_align:w}),a.h("span",{refName:"text",className:"".concat(h,"label-text")},Sk.builtin.checkNone(m.text)?"":m.text.toString()),a.h(a.IconComponent,{side:"right",icon:S,icon_align:w}),a.h("form",{refName:"fileUpload",className:"".concat(h,"file-upload")},a.h("input",r({refName:"input",type:"file",className:"".concat(h,"file-upload ").concat(h,"to-disable"),style:"display: none",accept:f},C)))))},locals(r){r.__new__=a.mkNew(e.ClassicComponent,(r=>{r._anvil.files=new Sk.builtin.list([]),r._anvil.firstFile=Sk.builtin.none.none$,$(r._anvil.elements.input).on("change",(i=>{for(var o=r._anvil.elements.input.files,l=[],s=0;s<o.length;s++)l.push(a.pyCall(e.FileMedia,[o[s]]));r._anvil.files=new Sk.builtin.list(l),r._anvil.firstFile=0===l.length?Sk.builtin.none.none$:l[0],t(r._anvil.getProp("show_state"))&&n(r),a.raiseEventAsync({files:r._anvil.files,file:r._anvil.firstFile},r,"change")})).on("focus",(e=>a.raiseEventAsync({},r,"focus"))).on("blur",(e=>a.raiseEventAsync({},r,"lost_focus")))})),r.open_file_selector=new Sk.builtin.func((e=>(e._anvil.elements.input.click(),Sk.builtin.none.none$))),r.focus=new Sk.builtin.func((function(e){return e._anvil.element.trigger("focus"),Sk.builtin.none.none$})),r.clear=new Sk.builtin.func((function(e){return $(e._anvil.elements.input).val(""),e._anvil.files=new Sk.builtin.list,e._anvil.firstFile=Sk.builtin.none.none$,t(e._anvil.getProp("show_state"))&&n(e),Sk.builtin.none.none$}))}})}},function(e,t,n){"use strict";n(0),n(55),n(38),n(2);var r=n(10),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1)),o=n(6),a=(n(26),n(31));function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}e.exports=function(e){function t(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{detachDom:o,afterRemoval:l,setVisibility:s,isMounted:c=!0}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},p=(0,r.getCssPrefix)();(0,a.validateChild)(t),0===e._anvil.components.length&&e._anvil.domNode.classList.add(p+"has-components");var u={component:t,layoutProperties:i},d=e._anvil.components,{index:f}=i;return"number"==typeof f&&f>=0&&f<d.length?d.splice(f,0,u):d.push(u),(null===(n=t._anvil)||void 0===n?void 0:n.componentSpec)&&!t._anvil.metadata.invisible&&(e._anvil.childLayoutProps[t._anvil.componentSpec.name]=i),t.anvilComponent$setParent(e._anvil.overrideParentObj||e,{onRemove:()=>{if(o)o();else{var n,r,i=t.anvil$hooks.domElement;null===(n=i.parentElement)||void 0===n||null===(r=n.removeChild)||void 0===r||r.call(n,i)}for(var a=0;a<e._anvil.components.length;a++)if(e._anvil.components[a].component===t){e._anvil.components.splice(a,1);break}return 0===e._anvil.components.length&&e._anvil.domNode.classList.remove(p+"has-components"),null==l?void 0:l()},setVisibility:s,isMounted:c})}e.ClassicContainer=i.mkComponentCls(e,"ClassicContainer",{base:[e.ClassicComponent,a.Container],events:i.assembleGroupEvents("ClassicContainer",["universal"]),locals(e){e.add_component=new Sk.builtin.func((function(e,n,r){return t(e,n,r)})),e.get_components=new Sk.builtin.func((function(e){return new Sk.builtin.list(e._anvil.components.map((e=>e.component)))})),e.clear=new Sk.builtin.func((function(e){e._anvil.domNode.classList.remove((0,r.getCssPrefix)()+"has-components");var t=e._anvil.components.map((e=>{var{component:t}=e;return()=>Sk.misceval.callsimOrSuspendArray(t.tp$getattr(o.s_remove_from_parent),[])}));return Sk.misceval.chain(void 0,...t,(()=>Sk.builtin.none.none$))})),e.raise_event_on_children=new Sk.builtin.func(i.withRawKwargs((function(e,t,n){var r=Sk.ffi.remapToJs(n);if(r in t._anvil.eventTypes||r.match(/^x-/))return Sk.misceval.chain(Sk.builtin.none.none$,...t._anvil.components.map((t=>{var{component:r}=t;return()=>Sk.misceval.callsimOrSuspendArray(r.tp$getattr(o.s_raise_event),[n],e)})));throw new Sk.builtin.ValueError("Cannot raise unknown event '"+r+"' on "+t.tp$name+" component. Custom events must have the 'x-' prefix.")}))),e.__serialize__=i.mkSerializePreservingIdentity((function(e){var t=[];for(var n in e._anvil.props)t.push(new Sk.builtin.str(n),e._anvil.props[n]);var r=new Sk.builtin.dict(t),i=e._anvil.components.map((e=>new Sk.builtin.tuple([e.component,Sk.ffi.remapToPy(e.layoutProperties)])));return r.mp$ass_subscript(new Sk.builtin.str("$_components"),new Sk.builtin.list(i)),r})),e.__new_deserialized__=i.mkNewDeserializedPreservingIdentity((function(e,t){var n=new Sk.builtin.str("$_components"),r=t.mp$subscript(n);Sk.abstr.objectDelItem(t,n);var o=e.tp$getattr(new Sk.builtin.str("add_component"));return Sk.misceval.chain(i.setAttrsFromDict(e,t),(()=>Sk.misceval.iterFor(Sk.abstr.iter(r),(e=>{var t=e.v[0],n=e.v[1];return Sk.misceval.callOrSuspend(o,n,void 0,[],t)}))))}))}}),e.ClassicContainer._doAddComponent=t}},function(e,t,n){"use strict";n(13),n(0),n(17),n(19),n(3),n(61),n(20),n(2);var r,i,o,a,l,s,c=n(315),p=n(4),u=n(56),d=n(31),f=n(10),v=n(26);function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}var h=n(1),_=new Set,g=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),y=/^aria-[\w-]*$/i,b=/^(\/|_\/theme\/|https?:\/\/)/,k=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,S={a:new Set(["target","href","title","rel"]),img:new Set(["src","alt","title","width","height"])},w=new Set(["script","style"]),C=new Set(["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr","img"]),O=new Set(["margin","margin-left","margin-top","margin-bottom","margin-right","padding","padding-left","padding-top","padding-bottom","padding-right","font-size","font-family","font-weight","font-style","border","background-color","color"]),P=(e,t)=>{var n=e.name;return!!t.has(n)&&(!g.has(n)||Boolean(b.test(e.nodeValue)||k.test(e.nodeValue)))},x=e=>{for(var t of e)O.has(t)||e.removeProperty(t)},T=/(?:{{)|(?:}})|(?:{([a-zA-Z0-9\-_ :!.%&;^<>'"]*)})/g;function E(e,t){if(e.length<2)return null;for(var n,r=[],i=0,o=e=>{if(""!==e){var t=r.length-1;"string"==typeof r[t]?r[t]+=e:r.push(e)}};n=T.exec(e);){var[a,l]=n,s=n.index;"{{"!==a&&"}}"!==a||s++,o(e.slice(i,s)),l&&r.push($(l,t)),i=T.lastIndex}return 0===r.length?null:(o(e.slice(i)),r)}var $=(e,t)=>{var n,r=e.indexOf(":"),i="";-1===r?n=e:(n=e.slice(0,r),i=e.slice(r+1));var o=null;n=n.replace(/![sr]$/,(e=>(o=e,"")));var[a,{placeHolder:l}]=h.h("span",{style:"display: inline-block;","x-anvil-slot":n,className:"anvil-always-inline-container"},h.h("code",{refName:"placeHolder",class:"anvil-slot-name"},e));return t[n]={format:i,flag:o,hasComponents:!1,domNode:a,placeHolder:l},a};function j(){this.innerHTML="",this.append.apply(this,arguments)}e.exports=e=>{var t=new c.Remarkable("full",{breaks:!0,highlight(e,t){if("undefined"==typeof hljs)return"";try{return t&&window.hljs.getLanguage(t)?window.hljs.highlight(t,e).value:window.hljs.highlightAuto(e).value}catch(e){return""}}});t.renderer.rules.table_open=()=>'<table class="table table-striped">\n';var n=(e,t,n)=>{var r,i=e._anvil.slots[n.slot];if(i){r=i.domNode,i.hasComponents||r.removeChild(r.firstChild),i.hasComponents=!0;var o=r.classList.contains("anvil-inlinable")?"":n.width||"auto";r.style.width=o?h.cssLength(o.toString()):null}else r=e._anvil.domNode;r.appendChild(t.anvil$hooks.domElement)},r=(e,r)=>{var i,o,a,l,s=null!==(i=null===(o=e._anvil.props.content)||void 0===o?void 0:o.toString())&&void 0!==i?i:"",c=null===(a=e._anvil.props.format)||void 0===a?void 0:a.toString(),u=(0,p.isTrue)(e._anvil.props.enable_slots),d=e._anvil.slots={},v=e._anvil.components,m=!1;for(var h of("markdown"===c?(l=document.createElement("div")).innerHTML=t.render(s):"restricted_html"===c?l=function(e){for(var t,n=(new window.DOMParser).parseFromString(e,"text/html"),r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);t=r.nextNode();){var i,o=t.nodeName.toLowerCase();if(w.has(o))r.previousNode(),t.remove();else if(C.has(o)){var a=null!==(i=S[o])&&void 0!==i?i:_;for(var l of[...t.attributes]){var s=l.name;if("style"===s)x(t.style);else{if(y.test(s))continue;P(l,a)||t.removeAttribute(s)}}}else{var c=[...t.childNodes];r.previousNode(),t.replaceChildren(),t.replaceWith(...c)}}return n.body}(s):((l=document.createElement("div")).innerText=s,m=!0),v))h.component.anvil$hooks.domElement.remove();u&&function(e,t){for(var n,r=document.createTreeWalker(e,NodeFilter.SHOW_TEXT),i=r.nextNode();i;){var o=E(i.textContent,t);n=i,i=r.nextNode(),null!==o&&n.replaceWith(...o)}}(l,d),r.replaceChildren(...l.childNodes);var g=(0,f.getCssPrefix)();for(var b of(r.classList.toggle(g+"has-text",!!s),r.style.whiteSpace=m?"pre-wrap":"unset",v))n(e,b.component,b.layoutProperties)},i=new Sk.builtin.str("clear"),o=new Sk.builtin.str("add_component"),a=(t,n,r)=>{var a=t.tp$getattr(i),l=t.tp$getattr(o),s=t._anvil.populatedDataSlots||[];t._anvil.populatedDataSlots=[];var c=[],u=[],d=new Object;if(r.tp$getattr(Sk.builtin.str.$keys)&&r.mp$subscript){var f=function(n){u.push((()=>(0,p.tryCatchOrSuspend)((()=>Sk.abstr.objectGetItem(r,new Sk.builtin.str(n),!0)),(()=>{var e=[];return s.includes(n)&&e.push((()=>(0,p.pyCallOrSuspend)(a,[],["slot",new Sk.builtin.str(n)]))),e.push((()=>d)),(0,p.chainOrSuspend)(null,...e)}))),(r=>{if(r!==d)return((n,r)=>{var i=t._anvil.slots[n];if(i){if(!(r instanceof v.Component)){var o=Sk.builtin.str.$empty,s=i.flag;try{o=Sk.builtin.format("!r"===s?Sk.builtin.repr(r):"!s"===s?new Sk.builtin.str(r):r,new Sk.builtin.str(i.format||""))}catch(e){Sk.builtin.print(["Warning: Could not format RichText slot value '".concat(r.toString(),"' in slot ").concat(n," with format string '").concat(i.format,"': ").concat(e instanceof Sk.builtin.Exception?new Sk.builtin.str(e).toString():(null==e?void 0:e.message)||"Internal error")])}r=h.pyCall(e.Label,[],["text",o])}return c.push(n),n=new Sk.builtin.str(n),(0,p.chainOrSuspend)(h.pyCallOrSuspend(a,[],["slot",n]),(()=>h.pyCallOrSuspend(l,[r],["slot",n])))}})(n,r)}))};for(var m of Object.keys(t._anvil.slots))f(m);u.push((()=>{t._anvil.populatedDataSlots=c}))}else{if(!Sk.builtin.checkNone(r))throw t._anvil.populatedDataSlots=s,new Sk.builtin.TypeError("data must be a mapping or None, not '".concat(Sk.abstr.typeName(r),"'"));var _=function(e){u.push((()=>h.pyCallOrSuspend(a,[],["slot",new Sk.builtin.str(e)])))};for(var g of s)_(g)}return Sk.misceval.chain(null,...u)};e.RichText=h.mkComponentCls(e,"RichText",{base:e.ClassicContainer,properties:h.assembleGroupProperties(
/*!componentProps(RichText)!2*/
["text","layout","layout_spacing","appearance","tooltip","user data"],{text:{omit:!0},bold:{omit:!0},italic:{omit:!0},underline:{omit:!0},content:
/*!componentProp(RichText)!1*/
{name:"content",type:"string",description:"The content to render in this component, in the format specified by the 'format' property",exampleValue:"# This is a heading",important:!0,priority:10,pyVal:!0,defaultValue:Sk.builtin.str.$empty,set(e,t,n){r(e,t[0])},multiline:!0,suggested:!0},format:
/*!componentProp(RichText)!1*/
{name:"format",type:"enum",description:"The format of the content of this component.",options:["markdown","plain_text","restricted_html"],defaultValue:new Sk.builtin.str("markdown"),pyVal:!0,important:!0,priority:11,set(e,t){r(e,t[0])}},enable_slots:
/*!componentProp(RichText)!1*/
{name:"enable_slots",type:"boolean",description:"If true {braces} in content define slots. If false, braces in content display normally.",defaultValue:Sk.builtin.bool.true$,initialize:!0,pyVal:!0,priority:13,set(e,t,n){r(e,t[0])}},data:
/*!componentProp(RichText)!1*/
{name:"data",type:"object",description:"A dict of data or Components to populate the named content {slots}. Can also be a dict-like object.",dataBindingProp:!0,defaultValue:Sk.builtin.none.none$,initialize:!0,pyVal:!0,priority:12,set:(e,t,n)=>a(e,0,n)}}),events:h.assembleGroupEvents(
/*!componentEvents()!2*/
"RichText",["universal"]),element:e=>h.h(h.OuterElement,m({className:"anvil-rich-text anvil-inlinable anvil-container"},e)),locals(t){t.__new__=h.mkNew(e.ClassicContainer,(e=>{e._anvil.updateContent=r})),t.add_component=new h.funcWithKwargs((function(t,r,i){return(0,d.validateChild)(i),Sk.misceval.chain(i.anvil$hooks.setupDom(),(o=>(0,u.isInvisibleComponent)(i)?e.ClassicContainer._doAddComponent(r,i,t):(n(r,i,t),e.ClassicContainer._doAddComponent(r,i,t,{detachDom(){o.remove();var{slot:e}=t;if(e){var n=r._anvil.slots[e];n&&(n.domNode.children.length||(n.hasComponents=!1,n.domNode.appendChild(n.placeHolder)))}}}))))}));var i=new Sk.builtin.str("remove_from_parent");
/*!defMethod(_,[slot="slot_name"])!2*/t.clear=new h.funcWithKwargs((function(e,t){var n=t._anvil.components.slice(0),r=e.slot,o=[];return n.forEach((e=>{r&&e.layoutProperties.slot!==r||o.push((()=>h.pyCallOrSuspend(e.component.tp$getattr(i))))})),o.push((()=>Sk.builtin.none.none$)),Sk.misceval.chain(void 0,...o)}))},layouts:[{name:"slot",type:"string",description:"The name of the content slot where this component will be placed",defaultValue:"",important:!0,priority:0},{name:"width",type:"number",description:"The width for an element that is not horizontally self-sizing",defaultValue:null,important:!0,priority:0}]})},
/*!defClass(anvil,RichText,Container)!*/
null!==(i=(r=Document.prototype).replaceChildren)&&void 0!==i||(r.replaceChildren=j),null!==(a=(o=DocumentFragment.prototype).replaceChildren)&&void 0!==a||(o.replaceChildren=j),null!==(s=(l=Element.prototype).replaceChildren)&&void 0!==s||(l.replaceChildren=j)},function(e,t,n){"use strict";var r;function i(e){return(r=r||document.createElement("textarea")).innerHTML="&"+e+";",r.value}n(13),n(17),n(242),n(55),n(171),n(3),n(38),n(20),n(37),n(226),Object.defineProperty(t,"__esModule",{value:!0}),t.Remarkable=Ee,t.utils=void 0;var o=Object.prototype.hasOwnProperty;function a(e,t){return!!e&&o.call(e,t)}function l(e){return[].slice.call(arguments,1).forEach((function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(n){e[n]=t[n]}))}})),e}var s=/\\([\\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function c(e){return e.indexOf("\\")<0?e:e.replace(s,"$1")}function p(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!=(65535&e)&&65534!=(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function u(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}var d=/&([a-z#][a-z0-9]{1,31});/gi,f=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;function v(e,t){var n=0,r=i(t);return t!==r?r:35===t.charCodeAt(0)&&f.test(t)&&p(n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10))?u(n):e}function m(e){return e.indexOf("&")<0?e:e.replace(d,v)}var h=/[&<>"]/,_=/[&<>"]/g,g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function y(e){return g[e]}function b(e){return h.test(e)?e.replace(_,y):e}var k=Object.freeze({isString:function(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)},has:a,assign:l,unescapeMd:c,isValidEntityCode:p,fromCodePoint:u,replaceEntities:m,escapeHtml:b});t.utils=k;var S={};function w(e,t){return++t>=e.length-2?t:"paragraph_open"===e[t].type&&e[t].tight&&"inline"===e[t+1].type&&0===e[t+1].content.length&&"paragraph_close"===e[t+2].type&&e[t+2].tight?w(e,t+2):t}S.blockquote_open=function(){return"<blockquote>\n"},S.blockquote_close=function(e,t){return"</blockquote>"+C(e,t)},S.code=function(e,t){return e[t].block?"<pre><code>"+b(e[t].content)+"</code></pre>"+C(e,t):"<code>"+b(e[t].content)+"</code>"},S.fence=function(e,t,n,r,i){var o,l,s=e[t],p="",u=n.langPrefix;if(s.params){if(l=(o=s.params.split(/\s+/g)).join(" "),a(i.rules.fence_custom,o[0]))return i.rules.fence_custom[o[0]](e,t,n,r,i);p=' class="'+u+b(m(c(l)))+'"'}return"<pre><code"+p+">"+(n.highlight&&n.highlight.apply(n.highlight,[s.content].concat(o))||b(s.content))+"</code></pre>"+C(e,t)},S.fence_custom={},S.heading_open=function(e,t){return"<h"+e[t].hLevel+">"},S.heading_close=function(e,t){return"</h"+e[t].hLevel+">\n"},S.hr=function(e,t,n){return(n.xhtmlOut?"<hr />":"<hr>")+C(e,t)},S.bullet_list_open=function(){return"<ul>\n"},S.bullet_list_close=function(e,t){return"</ul>"+C(e,t)},S.list_item_open=function(){return"<li>"},S.list_item_close=function(){return"</li>\n"},S.ordered_list_open=function(e,t){var n=e[t];return"<ol"+(n.order>1?' start="'+n.order+'"':"")+">\n"},S.ordered_list_close=function(e,t){return"</ol>"+C(e,t)},S.paragraph_open=function(e,t){return e[t].tight?"":"<p>"},S.paragraph_close=function(e,t){var n=!(e[t].tight&&t&&"inline"===e[t-1].type&&!e[t-1].content);return(e[t].tight?"":"</p>")+(n?C(e,t):"")},S.link_open=function(e,t,n){var r=e[t].title?' title="'+b(m(e[t].title))+'"':"",i=n.linkTarget?' target="'+n.linkTarget+'"':"";return'<a href="'+b(e[t].href)+'"'+r+i+">"},S.link_close=function(){return"</a>"},S.image=function(e,t,n){var r=' src="'+b(e[t].src)+'"',i=e[t].title?' title="'+b(m(e[t].title))+'"':"";return"<img"+r+(' alt="'+(e[t].alt?b(m(c(e[t].alt))):"")+'"')+i+(n.xhtmlOut?" /":"")+">"},S.table_open=function(){return"<table>\n"},S.table_close=function(){return"</table>\n"},S.thead_open=function(){return"<thead>\n"},S.thead_close=function(){return"</thead>\n"},S.tbody_open=function(){return"<tbody>\n"},S.tbody_close=function(){return"</tbody>\n"},S.tr_open=function(){return"<tr>"},S.tr_close=function(){return"</tr>\n"},S.th_open=function(e,t){var n=e[t];return"<th"+(n.align?' style="text-align:'+n.align+'"':"")+">"},S.th_close=function(){return"</th>"},S.td_open=function(e,t){var n=e[t];return"<td"+(n.align?' style="text-align:'+n.align+'"':"")+">"},S.td_close=function(){return"</td>"},S.strong_open=function(){return"<strong>"},S.strong_close=function(){return"</strong>"},S.em_open=function(){return"<em>"},S.em_close=function(){return"</em>"},S.del_open=function(){return"<del>"},S.del_close=function(){return"</del>"},S.ins_open=function(){return"<ins>"},S.ins_close=function(){return"</ins>"},S.mark_open=function(){return"<mark>"},S.mark_close=function(){return"</mark>"},S.sub=function(e,t){return"<sub>"+b(e[t].content)+"</sub>"},S.sup=function(e,t){return"<sup>"+b(e[t].content)+"</sup>"},S.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},S.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},S.text=function(e,t){return b(e[t].content)},S.htmlblock=function(e,t){return e[t].content},S.htmltag=function(e,t){return e[t].content},S.abbr_open=function(e,t){return'<abbr title="'+b(m(e[t].title))+'">'},S.abbr_close=function(){return"</abbr>"},S.footnote_ref=function(e,t){var n=Number(e[t].id+1).toString(),r="fnref"+n;return e[t].subId>0&&(r+=":"+e[t].subId),'<sup class="footnote-ref"><a href="#fn'+n+'" id="'+r+'">['+n+"]</a></sup>"},S.footnote_block_open=function(e,t,n){return(n.xhtmlOut?'<hr class="footnotes-sep" />\n':'<hr class="footnotes-sep">\n')+'<section class="footnotes">\n<ol class="footnotes-list">\n'},S.footnote_block_close=function(){return"</ol>\n</section>\n"},S.footnote_open=function(e,t){return'<li id="fn'+Number(e[t].id+1).toString()+'"  class="footnote-item">'},S.footnote_close=function(){return"</li>\n"},S.footnote_anchor=function(e,t){var n="fnref"+Number(e[t].id+1).toString();return e[t].subId>0&&(n+=":"+e[t].subId),' <a href="#'+n+'" class="footnote-backref">↩</a>'},S.dl_open=function(){return"<dl>\n"},S.dt_open=function(){return"<dt>"},S.dd_open=function(){return"<dd>"},S.dl_close=function(){return"</dl>\n"},S.dt_close=function(){return"</dt>\n"},S.dd_close=function(){return"</dd>\n"};var C=S.getBreak=function(e,t){return(t=w(e,t))<e.length&&"list_item_close"===e[t].type?"":"\n"};function O(){this.rules=l({},S),this.getBreak=S.getBreak}function P(){this.__rules__=[],this.__cache__=null}function x(e,t,n,r,i){this.src=e,this.env=r,this.options=n,this.parser=t,this.tokens=i,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache=[],this.isInLabel=!1,this.linkLevel=0,this.linkContent="",this.labelUnmatchedScopes=0}function T(e,t){var n,r,i,o=-1,a=e.posMax,l=e.pos,s=e.isInLabel;if(e.isInLabel)return-1;if(e.labelUnmatchedScopes)return e.labelUnmatchedScopes--,-1;for(e.pos=t+1,e.isInLabel=!0,n=1;e.pos<a;){if(91===(i=e.src.charCodeAt(e.pos)))n++;else if(93===i&&0===--n){r=!0;break}e.parser.skipToken(e)}return r?(o=e.pos,e.labelUnmatchedScopes=0):e.labelUnmatchedScopes=n-1,e.pos=l,e.isInLabel=s,o}function E(e,t,n,r){var i,o,a,l,s,c;if(42!==e.charCodeAt(0))return-1;if(91!==e.charCodeAt(1))return-1;if(-1===e.indexOf("]:"))return-1;if((o=T(i=new x(e,t,n,r,[]),1))<0||58!==e.charCodeAt(o+1))return-1;for(l=i.posMax,a=o+2;a<l&&10!==i.src.charCodeAt(a);a++);return s=e.slice(2,o),0===(c=e.slice(o+2,a).trim()).length?-1:(r.abbreviations||(r.abbreviations={}),void 0===r.abbreviations[":"+s]&&(r.abbreviations[":"+s]=c),a)}function $(e){var t=m(e);try{t=decodeURI(t)}catch(e){}return encodeURI(t)}function j(e,t){var n,r,i,o=t,a=e.posMax;if(60===e.src.charCodeAt(t)){for(t++;t<a;){if(10===(n=e.src.charCodeAt(t)))return!1;if(62===n)return i=$(c(e.src.slice(o+1,t))),!!e.parser.validateLink(i)&&(e.pos=t+1,e.linkContent=i,!0);92===n&&t+1<a?t+=2:t++}return!1}for(r=0;t<a&&32!==(n=e.src.charCodeAt(t))&&!(n<32||127===n);)if(92===n&&t+1<a)t+=2;else{if(40===n&&++r>1)break;if(41===n&&--r<0)break;t++}return o!==t&&(i=c(e.src.slice(o,t)),!!e.parser.validateLink(i)&&(e.linkContent=i,e.pos=t,!0))}function A(e,t){var n,r=t,i=e.posMax,o=e.src.charCodeAt(t);if(34!==o&&39!==o&&40!==o)return!1;for(t++,40===o&&(o=41);t<i;){if((n=e.src.charCodeAt(t))===o)return e.pos=t+1,e.linkContent=c(e.src.slice(r+1,t)),!0;92===n&&t+1<i?t+=2:t++}return!1}function M(e){return e.trim().replace(/\s+/g," ").toUpperCase()}function N(e,t,n,r){var i,o,a,l,s,c,p,u,d;if(91!==e.charCodeAt(0))return-1;if(-1===e.indexOf("]:"))return-1;if((o=T(i=new x(e,t,n,r,[]),0))<0||58!==e.charCodeAt(o+1))return-1;for(l=i.posMax,a=o+2;a<l&&(32===(s=i.src.charCodeAt(a))||10===s);a++);if(!j(i,a))return-1;for(p=i.linkContent,c=a=i.pos,a+=1;a<l&&(32===(s=i.src.charCodeAt(a))||10===s);a++);for(a<l&&c!==a&&A(i,a)?(u=i.linkContent,a=i.pos):(u="",a=c);a<l&&32===i.src.charCodeAt(a);)a++;return a<l&&10!==i.src.charCodeAt(a)?-1:(d=M(e.slice(1,o)),void 0===r.references[d]&&(r.references[d]={title:u,href:p}),a)}O.prototype.renderInline=function(e,t,n){for(var r=this.rules,i=e.length,o=0,a="";i--;)a+=r[e[o].type](e,o++,t,n,this);return a},O.prototype.render=function(e,t,n){for(var r=this.rules,i=e.length,o=-1,a="";++o<i;)"inline"===e[o].type?a+=this.renderInline(e[o].children,t,n):a+=r[e[o].type](e,o,t,n,this);return a},P.prototype.__find__=function(e){for(var t=this.__rules__.length,n=-1;t--;)if(this.__rules__[++n].name===e)return n;return-1},P.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))}))}))},P.prototype.at=function(e,t,n){var r=this.__find__(e),i=n||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=i.alt||[],this.__cache__=null},P.prototype.before=function(e,t,n,r){var i=this.__find__(e),o=r||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},P.prototype.after=function(e,t,n,r){var i=this.__find__(e),o=r||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i+1,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},P.prototype.push=function(e,t,n){var r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null},P.prototype.enable=function(e,t){e=Array.isArray(e)?e:[e],t&&this.__rules__.forEach((function(e){e.enabled=!1})),e.forEach((function(e){var t=this.__find__(e);if(t<0)throw new Error("Rules manager: invalid rule name "+e);this.__rules__[t].enabled=!0}),this),this.__cache__=null},P.prototype.disable=function(e){(e=Array.isArray(e)?e:[e]).forEach((function(e){var t=this.__find__(e);if(t<0)throw new Error("Rules manager: invalid rule name "+e);this.__rules__[t].enabled=!1}),this),this.__cache__=null},P.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},x.prototype.pushPending=function(){this.tokens.push({type:"text",content:this.pending,level:this.pendingLevel}),this.pending=""},x.prototype.push=function(e){this.pending&&this.pushPending(),this.tokens.push(e),this.pendingLevel=this.level},x.prototype.cacheSet=function(e,t){for(var n=this.cache.length;n<=e;n++)this.cache.push(0);this.cache[e]=t},x.prototype.cacheGet=function(e){return e<this.cache.length?this.cache[e]:0};var L=" \n()[]'\".,!?-";function I(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}var D=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,F=/\((c|tm|r|p)\)/gi,V={c:"©",r:"®",p:"§",tm:"™"};var R=/['"]/,U=/['"]/g,B=/[-\s()\[\]]/,G="’";function H(e,t){return!(t<0||t>=e.length)&&!B.test(e[t])}function J(e,t,n){return e.substr(0,t)+n+e.substr(t+1)}var z=[["block",function(e){e.inlineMode?e.tokens.push({type:"inline",content:e.src.replace(/\n/g," ").trim(),level:0,lines:[0,1],children:[]}):e.block.parse(e.src,e.options,e.env,e.tokens)}],["abbr",function(e){var t,n,r,i,o=e.tokens;if(!e.inlineMode)for(t=1,n=o.length-1;t<n;t++)if("paragraph_open"===o[t-1].type&&"inline"===o[t].type&&"paragraph_close"===o[t+1].type){for(r=o[t].content;r.length&&!((i=E(r,e.inline,e.options,e.env))<0);)r=r.slice(i).trim();o[t].content=r,r.length||(o[t-1].tight=!0,o[t+1].tight=!0)}}],["references",function(e){var t,n,r,i,o=e.tokens;if(e.env.references=e.env.references||{},!e.inlineMode)for(t=1,n=o.length-1;t<n;t++)if("inline"===o[t].type&&"paragraph_open"===o[t-1].type&&"paragraph_close"===o[t+1].type){for(r=o[t].content;r.length&&!((i=N(r,e.inline,e.options,e.env))<0);)r=r.slice(i).trim();o[t].content=r,r.length||(o[t-1].tight=!0,o[t+1].tight=!0)}}],["inline",function(e){var t,n,r,i=e.tokens;for(n=0,r=i.length;n<r;n++)"inline"===(t=i[n]).type&&e.inline.parse(t.content,e.options,e.env,t.children)}],["footnote_tail",function(e){var t,n,r,i,o,a,l,s,c,p=0,u=!1,d={};if(e.env.footnotes&&(e.tokens=e.tokens.filter((function(e){return"footnote_reference_open"===e.type?(u=!0,s=[],c=e.label,!1):"footnote_reference_close"===e.type?(u=!1,d[":"+c]=s,!1):(u&&s.push(e),!u)})),e.env.footnotes.list)){for(a=e.env.footnotes.list,e.tokens.push({type:"footnote_block_open",level:p++}),t=0,n=a.length;t<n;t++){for(e.tokens.push({type:"footnote_open",id:t,level:p++}),a[t].tokens?((l=[]).push({type:"paragraph_open",tight:!1,level:p++}),l.push({type:"inline",content:"",level:p,children:a[t].tokens}),l.push({type:"paragraph_close",tight:!1,level:--p})):a[t].label&&(l=d[":"+a[t].label]),e.tokens=e.tokens.concat(l),o="paragraph_close"===e.tokens[e.tokens.length-1].type?e.tokens.pop():null,i=a[t].count>0?a[t].count:1,r=0;r<i;r++)e.tokens.push({type:"footnote_anchor",id:t,subId:r,level:p});o&&e.tokens.push(o),e.tokens.push({type:"footnote_close",level:--p})}e.tokens.push({type:"footnote_block_close",level:--p})}}],["abbr2",function(e){var t,n,r,i,o,a,l,s,c,p,u,d,f=e.tokens;if(e.env.abbreviations)for(e.env.abbrRegExp||(d="(^|["+L.split("").map(I).join("")+"])("+Object.keys(e.env.abbreviations).map((function(e){return e.substr(1)})).sort((function(e,t){return t.length-e.length})).map(I).join("|")+")($|["+L.split("").map(I).join("")+"])",e.env.abbrRegExp=new RegExp(d,"g")),p=e.env.abbrRegExp,n=0,r=f.length;n<r;n++)if("inline"===f[n].type)for(t=(i=f[n].children).length-1;t>=0;t--)if("text"===(o=i[t]).type){for(s=0,a=o.content,p.lastIndex=0,c=o.level,l=[];u=p.exec(a);)p.lastIndex>s&&l.push({type:"text",content:a.slice(s,u.index+u[1].length),level:c}),l.push({type:"abbr_open",title:e.env.abbreviations[":"+u[2]],level:c++}),l.push({type:"text",content:u[2],level:c}),l.push({type:"abbr_close",level:--c}),s=p.lastIndex-u[3].length;l.length&&(s<a.length&&l.push({type:"text",content:a.slice(s),level:c}),f[n].children=i=[].concat(i.slice(0,t),l,i.slice(t+1)))}}],["replacements",function(e){var t,n,r,i,o,a;if(e.options.typographer)for(o=e.tokens.length-1;o>=0;o--)if("inline"===e.tokens[o].type)for(t=(i=e.tokens[o].children).length-1;t>=0;t--)"text"===(n=i[t]).type&&(r=n.content,r=(a=r).indexOf("(")<0?a:a.replace(F,(function(e,t){return V[t.toLowerCase()]})),D.test(r)&&(r=r.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1—$2").replace(/(^|\s)--(\s|$)/gm,"$1–$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1–$2")),n.content=r)}],["smartquotes",function(e){var t,n,r,i,o,a,l,s,c,p,u,d,f,v,m,h,_;if(e.options.typographer)for(_=[],m=e.tokens.length-1;m>=0;m--)if("inline"===e.tokens[m].type)for(h=e.tokens[m].children,_.length=0,t=0;t<h.length;t++)if("text"===(n=h[t]).type&&!R.test(n.text)){for(l=h[t].level,f=_.length-1;f>=0&&!(_[f].level<=l);f--);_.length=f+1,o=0,a=(r=n.content).length;e:for(;o<a&&(U.lastIndex=o,i=U.exec(r));)if(s=!H(r,i.index-1),o=i.index+1,v="'"===i[0],(c=!H(r,o))||s){if(u=!c,d=!s)for(f=_.length-1;f>=0&&(p=_[f],!(_[f].level<l));f--)if(p.single===v&&_[f].level===l){p=_[f],v?(h[p.token].content=J(h[p.token].content,p.pos,e.options.quotes[2]),n.content=J(n.content,i.index,e.options.quotes[3])):(h[p.token].content=J(h[p.token].content,p.pos,e.options.quotes[0]),n.content=J(n.content,i.index,e.options.quotes[1])),_.length=f;continue e}u?_.push({token:t,pos:i.index,single:v,level:l}):d&&v&&(n.content=J(n.content,i.index,G))}else v&&(n.content=J(n.content,i.index,G))}}]];function W(){this.options={},this.ruler=new P;for(var e=0;e<z.length;e++)this.ruler.push(z[e][0],z[e][1])}function q(e,t,n,r,i){var o,a,l,s,c,p,u;for(this.src=e,this.parser=t,this.options=n,this.env=r,this.tokens=i,this.bMarks=[],this.eMarks=[],this.tShift=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",p=0,u=!1,l=s=p=0,c=(a=this.src).length;s<c;s++){if(o=a.charCodeAt(s),!u){if(32===o){p++;continue}u=!0}10!==o&&s!==c-1||(10!==o&&s++,this.bMarks.push(l),this.eMarks.push(s),this.tShift.push(p),u=!1,p=0,l=s+1)}this.bMarks.push(a.length),this.eMarks.push(a.length),this.tShift.push(0),this.lineMax=this.bMarks.length-1}function K(e,t){var n,r,i;return(r=e.bMarks[t]+e.tShift[t])>=(i=e.eMarks[t])||42!==(n=e.src.charCodeAt(r++))&&45!==n&&43!==n||r<i&&32!==e.src.charCodeAt(r)?-1:r}function Y(e,t){var n,r=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];if(r+1>=i)return-1;if((n=e.src.charCodeAt(r++))<48||n>57)return-1;for(;;){if(r>=i)return-1;if(!((n=e.src.charCodeAt(r++))>=48&&n<=57)){if(41===n||46===n)break;return-1}}return r<i&&32!==e.src.charCodeAt(r)?-1:r}W.prototype.process=function(e){var t,n,r;for(t=0,n=(r=this.ruler.getRules("")).length;t<n;t++)r[t](e)},q.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},q.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},q.prototype.skipSpaces=function(e){for(var t=this.src.length;e<t&&32===this.src.charCodeAt(e);e++);return e},q.prototype.skipChars=function(e,t){for(var n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},q.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},q.prototype.getLines=function(e,t,n,r){var i,o,a,l,s,c=e;if(e>=t)return"";if(c+1===t)return o=this.bMarks[c]+Math.min(this.tShift[c],n),a=r?this.eMarks[c]+1:this.eMarks[c],this.src.slice(o,a);for(l=new Array(t-e),i=0;c<t;c++,i++)(s=this.tShift[c])>n&&(s=n),s<0&&(s=0),o=this.bMarks[c]+s,a=c+1<t||r?this.eMarks[c]+1:this.eMarks[c],l[i]=this.src.slice(o,a);return l.join("")};var Z={};["article","aside","button","blockquote","body","canvas","caption","col","colgroup","dd","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","li","map","object","ol","output","p","pre","progress","script","section","style","table","tbody","td","textarea","tfoot","th","tr","thead","ul","video"].forEach((function(e){Z[e]=!0}));var X=/^<([a-zA-Z]{1,15})[\s\/>]/,Q=/^<\/([a-zA-Z]{1,15})[\s>]/;function ee(e,t){var n=e.bMarks[t]+e.blkIndent,r=e.eMarks[t];return e.src.substr(n,r-n)}function te(e,t){var n,r,i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];return i>=o||126!==(r=e.src.charCodeAt(i++))&&58!==r||i===(n=e.skipSpaces(i))||n>=o?-1:n}var ne=[["code",function(e,t,n){var r,i;if(e.tShift[t]-e.blkIndent<4)return!1;for(i=r=t+1;r<n;)if(e.isEmpty(r))r++;else{if(!(e.tShift[r]-e.blkIndent>=4))break;i=++r}return e.line=r,e.tokens.push({type:"code",content:e.getLines(t,i,4+e.blkIndent,!0),block:!0,lines:[t,e.line],level:e.level}),!0}],["fences",function(e,t,n,r){var i,o,a,l,s,c=!1,p=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(p+3>u)return!1;if(126!==(i=e.src.charCodeAt(p))&&96!==i)return!1;if(s=p,(o=(p=e.skipChars(p,i))-s)<3)return!1;if((a=e.src.slice(p,u).trim()).indexOf("`")>=0)return!1;if(r)return!0;for(l=t;!(++l>=n)&&!((p=s=e.bMarks[l]+e.tShift[l])<(u=e.eMarks[l])&&e.tShift[l]<e.blkIndent);)if(e.src.charCodeAt(p)===i&&!(e.tShift[l]-e.blkIndent>=4||(p=e.skipChars(p,i))-s<o||(p=e.skipSpaces(p))<u)){c=!0;break}return o=e.tShift[t],e.line=l+(c?1:0),e.tokens.push({type:"fence",params:a,content:e.getLines(t+1,l,o,!0),lines:[t,e.line],level:e.level}),!0},["paragraph","blockquote","list"]],["blockquote",function(e,t,n,r){var i,o,a,l,s,c,p,u,d,f,v,m=e.bMarks[t]+e.tShift[t],h=e.eMarks[t];if(m>h)return!1;if(62!==e.src.charCodeAt(m++))return!1;if(e.level>=e.options.maxNesting)return!1;if(r)return!0;for(32===e.src.charCodeAt(m)&&m++,s=e.blkIndent,e.blkIndent=0,l=[e.bMarks[t]],e.bMarks[t]=m,o=(m=m<h?e.skipSpaces(m):m)>=h,a=[e.tShift[t]],e.tShift[t]=m-e.bMarks[t],u=e.parser.ruler.getRules("blockquote"),i=t+1;i<n&&!((m=e.bMarks[i]+e.tShift[i])>=(h=e.eMarks[i]));i++)if(62!==e.src.charCodeAt(m++)){if(o)break;for(v=!1,d=0,f=u.length;d<f;d++)if(u[d](e,i,n,!0)){v=!0;break}if(v)break;l.push(e.bMarks[i]),a.push(e.tShift[i]),e.tShift[i]=-1337}else 32===e.src.charCodeAt(m)&&m++,l.push(e.bMarks[i]),e.bMarks[i]=m,o=(m=m<h?e.skipSpaces(m):m)>=h,a.push(e.tShift[i]),e.tShift[i]=m-e.bMarks[i];for(c=e.parentType,e.parentType="blockquote",e.tokens.push({type:"blockquote_open",lines:p=[t,0],level:e.level++}),e.parser.tokenize(e,t,i),e.tokens.push({type:"blockquote_close",level:--e.level}),e.parentType=c,p[1]=e.line,d=0;d<a.length;d++)e.bMarks[d+t]=l[d],e.tShift[d+t]=a[d];return e.blkIndent=s,!0},["paragraph","blockquote","list"]],["hr",function(e,t,n,r){var i,o,a,l=e.bMarks[t],s=e.eMarks[t];if((l+=e.tShift[t])>s)return!1;if(42!==(i=e.src.charCodeAt(l++))&&45!==i&&95!==i)return!1;for(o=1;l<s;){if((a=e.src.charCodeAt(l++))!==i&&32!==a)return!1;a===i&&o++}return!(o<3)&&(r||(e.line=t+1,e.tokens.push({type:"hr",lines:[t,e.line],level:e.level})),!0)},["paragraph","blockquote","list"]],["list",function(e,t,n,r){var i,o,a,l,s,c,p,u,d,f,v,m,h,_,g,y,b,k,S,w,C,O=!0;if((u=Y(e,t))>=0)m=!0;else{if(!((u=K(e,t))>=0))return!1;m=!1}if(e.level>=e.options.maxNesting)return!1;if(v=e.src.charCodeAt(u-1),r)return!0;for(_=e.tokens.length,m?(p=e.bMarks[t]+e.tShift[t],f=Number(e.src.substr(p,u-p-1)),e.tokens.push({type:"ordered_list_open",order:f,lines:y=[t,0],level:e.level++})):e.tokens.push({type:"bullet_list_open",lines:y=[t,0],level:e.level++}),i=t,g=!1,k=e.parser.ruler.getRules("list");!(!(i<n)||((d=(h=e.skipSpaces(u))>=e.eMarks[i]?1:h-u)>4&&(d=1),d<1&&(d=1),o=u-e.bMarks[i]+d,e.tokens.push({type:"list_item_open",lines:b=[t,0],level:e.level++}),l=e.blkIndent,s=e.tight,a=e.tShift[t],c=e.parentType,e.tShift[t]=h-e.bMarks[t],e.blkIndent=o,e.tight=!0,e.parentType="list",e.parser.tokenize(e,t,n,!0),e.tight&&!g||(O=!1),g=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=l,e.tShift[t]=a,e.tight=s,e.parentType=c,e.tokens.push({type:"list_item_close",level:--e.level}),i=t=e.line,b[1]=i,h=e.bMarks[t],i>=n)||e.isEmpty(i)||e.tShift[i]<e.blkIndent);){for(C=!1,S=0,w=k.length;S<w;S++)if(k[S](e,i,n,!0)){C=!0;break}if(C)break;if(m){if((u=Y(e,i))<0)break}else if((u=K(e,i))<0)break;if(v!==e.src.charCodeAt(u-1))break}return e.tokens.push({type:m?"ordered_list_close":"bullet_list_close",level:--e.level}),y[1]=i,e.line=i,O&&function(e,t){var n,r,i=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===i&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].tight=!0,e.tokens[n].tight=!0,n+=2)}(e,_),!0},["paragraph","blockquote"]],["footnote",function(e,t,n,r){var i,o,a,l,s,c=e.bMarks[t]+e.tShift[t],p=e.eMarks[t];if(c+4>p)return!1;if(91!==e.src.charCodeAt(c))return!1;if(94!==e.src.charCodeAt(c+1))return!1;if(e.level>=e.options.maxNesting)return!1;for(l=c+2;l<p;l++){if(32===e.src.charCodeAt(l))return!1;if(93===e.src.charCodeAt(l))break}return l!==c+2&&(!(l+1>=p||58!==e.src.charCodeAt(++l))&&(r||(l++,e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.refs||(e.env.footnotes.refs={}),s=e.src.slice(c+2,l-2),e.env.footnotes.refs[":"+s]=-1,e.tokens.push({type:"footnote_reference_open",label:s,level:e.level++}),i=e.bMarks[t],o=e.tShift[t],a=e.parentType,e.tShift[t]=e.skipSpaces(l)-l,e.bMarks[t]=l,e.blkIndent+=4,e.parentType="footnote",e.tShift[t]<e.blkIndent&&(e.tShift[t]+=e.blkIndent,e.bMarks[t]-=e.blkIndent),e.parser.tokenize(e,t,n,!0),e.parentType=a,e.blkIndent-=4,e.tShift[t]=o,e.bMarks[t]=i,e.tokens.push({type:"footnote_reference_close",level:--e.level})),!0))},["paragraph"]],["heading",function(e,t,n,r){var i,o,a,l=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];if(l>=s)return!1;if(35!==(i=e.src.charCodeAt(l))||l>=s)return!1;for(o=1,i=e.src.charCodeAt(++l);35===i&&l<s&&o<=6;)o++,i=e.src.charCodeAt(++l);return!(o>6||l<s&&32!==i)&&(r||(s=e.skipCharsBack(s,32,l),(a=e.skipCharsBack(s,35,l))>l&&32===e.src.charCodeAt(a-1)&&(s=a),e.line=t+1,e.tokens.push({type:"heading_open",hLevel:o,lines:[t,e.line],level:e.level}),l<s&&e.tokens.push({type:"inline",content:e.src.slice(l,s).trim(),level:e.level+1,lines:[t,e.line],children:[]}),e.tokens.push({type:"heading_close",hLevel:o,level:e.level})),!0)},["paragraph","blockquote"]],["lheading",function(e,t,n){var r,i,o,a=t+1;return!(a>=n)&&(!(e.tShift[a]<e.blkIndent)&&(!(e.tShift[a]-e.blkIndent>3)&&(!((i=e.bMarks[a]+e.tShift[a])>=(o=e.eMarks[a]))&&((45===(r=e.src.charCodeAt(i))||61===r)&&(i=e.skipChars(i,r),!((i=e.skipSpaces(i))<o)&&(i=e.bMarks[t]+e.tShift[t],e.line=a+1,e.tokens.push({type:"heading_open",hLevel:61===r?1:2,lines:[t,e.line],level:e.level}),e.tokens.push({type:"inline",content:e.src.slice(i,e.eMarks[t]).trim(),level:e.level+1,lines:[t,e.line-1],children:[]}),e.tokens.push({type:"heading_close",hLevel:61===r?1:2,level:e.level}),!0))))))}],["htmlblock",function(e,t,n,r){var i,o,a,l=e.bMarks[t],s=e.eMarks[t],c=e.tShift[t];if(l+=c,!e.options.html)return!1;if(c>3||l+2>=s)return!1;if(60!==e.src.charCodeAt(l))return!1;if(33===(i=e.src.charCodeAt(l+1))||63===i){if(r)return!0}else{if(47!==i&&!function(e){var t=32|e;return t>=97&&t<=122}(i))return!1;if(47===i){if(!(o=e.src.slice(l,s).match(Q)))return!1}else if(!(o=e.src.slice(l,s).match(X)))return!1;if(!0!==Z[o[1].toLowerCase()])return!1;if(r)return!0}for(a=t+1;a<e.lineMax&&!e.isEmpty(a);)a++;return e.line=a,e.tokens.push({type:"htmlblock",level:e.level,lines:[t,e.line],content:e.getLines(t,a,0,!0)}),!0},["paragraph","blockquote"]],["table",function(e,t,n,r){var i,o,a,l,s,c,p,u,d,f,v;if(t+2>n)return!1;if(s=t+1,e.tShift[s]<e.blkIndent)return!1;if((a=e.bMarks[s]+e.tShift[s])>=e.eMarks[s])return!1;if(124!==(i=e.src.charCodeAt(a))&&45!==i&&58!==i)return!1;if(o=ee(e,t+1),!/^[-:| ]+$/.test(o))return!1;if((c=o.split("|"))<=2)return!1;for(u=[],l=0;l<c.length;l++){if(!(d=c[l].trim())){if(0===l||l===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(d))return!1;58===d.charCodeAt(d.length-1)?u.push(58===d.charCodeAt(0)?"center":"right"):58===d.charCodeAt(0)?u.push("left"):u.push("")}if(-1===(o=ee(e,t).trim()).indexOf("|"))return!1;if(c=o.replace(/^\||\|$/g,"").split("|"),u.length!==c.length)return!1;if(r)return!0;for(e.tokens.push({type:"table_open",lines:f=[t,0],level:e.level++}),e.tokens.push({type:"thead_open",lines:[t,t+1],level:e.level++}),e.tokens.push({type:"tr_open",lines:[t,t+1],level:e.level++}),l=0;l<c.length;l++)e.tokens.push({type:"th_open",align:u[l],lines:[t,t+1],level:e.level++}),e.tokens.push({type:"inline",content:c[l].trim(),lines:[t,t+1],level:e.level,children:[]}),e.tokens.push({type:"th_close",level:--e.level});for(e.tokens.push({type:"tr_close",level:--e.level}),e.tokens.push({type:"thead_close",level:--e.level}),e.tokens.push({type:"tbody_open",lines:v=[t+2,0],level:e.level++}),s=t+2;s<n&&!(e.tShift[s]<e.blkIndent)&&-1!==(o=ee(e,s).trim()).indexOf("|");s++){for(c=o.replace(/^\||\|$/g,"").split("|"),e.tokens.push({type:"tr_open",level:e.level++}),l=0;l<c.length;l++)e.tokens.push({type:"td_open",align:u[l],level:e.level++}),p=c[l].substring(124===c[l].charCodeAt(0)?1:0,124===c[l].charCodeAt(c[l].length-1)?c[l].length-1:c[l].length).trim(),e.tokens.push({type:"inline",content:p,level:e.level,children:[]}),e.tokens.push({type:"td_close",level:--e.level});e.tokens.push({type:"tr_close",level:--e.level})}return e.tokens.push({type:"tbody_close",level:--e.level}),e.tokens.push({type:"table_close",level:--e.level}),f[1]=v[1]=s,e.line=s,!0},["paragraph"]],["deflist",function(e,t,n,r){var i,o,a,l,s,c,p,u,d,f,v,m,h,_;if(r)return!(e.ddIndent<0)&&te(e,t)>=0;if(p=t+1,e.isEmpty(p)&&++p>n)return!1;if(e.tShift[p]<e.blkIndent)return!1;if((i=te(e,p))<0)return!1;if(e.level>=e.options.maxNesting)return!1;c=e.tokens.length,e.tokens.push({type:"dl_open",lines:s=[t,0],level:e.level++}),a=t,o=p;e:for(;;){for(_=!0,h=!1,e.tokens.push({type:"dt_open",lines:[a,a],level:e.level++}),e.tokens.push({type:"inline",content:e.getLines(a,a+1,e.blkIndent,!1).trim(),level:e.level+1,lines:[a,a],children:[]}),e.tokens.push({type:"dt_close",level:--e.level});;){if(e.tokens.push({type:"dd_open",lines:l=[p,0],level:e.level++}),m=e.tight,d=e.ddIndent,u=e.blkIndent,v=e.tShift[o],f=e.parentType,e.blkIndent=e.ddIndent=e.tShift[o]+2,e.tShift[o]=i-e.bMarks[o],e.tight=!0,e.parentType="deflist",e.parser.tokenize(e,o,n,!0),e.tight&&!h||(_=!1),h=e.line-o>1&&e.isEmpty(e.line-1),e.tShift[o]=v,e.tight=m,e.parentType=f,e.blkIndent=u,e.ddIndent=d,e.tokens.push({type:"dd_close",level:--e.level}),l[1]=p=e.line,p>=n)break e;if(e.tShift[p]<e.blkIndent)break e;if((i=te(e,p))<0)break;o=p}if(p>=n)break;if(a=p,e.isEmpty(a))break;if(e.tShift[a]<e.blkIndent)break;if((o=a+1)>=n)break;if(e.isEmpty(o)&&o++,o>=n)break;if(e.tShift[o]<e.blkIndent)break;if((i=te(e,o))<0)break}return e.tokens.push({type:"dl_close",level:--e.level}),s[1]=p,e.line=p,_&&function(e,t){var n,r,i=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===i&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].tight=!0,e.tokens[n].tight=!0,n+=2)}(e,c),!0},["paragraph"]],["paragraph",function(e,t){var n,r,i,o,a,l,s=t+1;if(s<(n=e.lineMax)&&!e.isEmpty(s))for(l=e.parser.ruler.getRules("paragraph");s<n&&!e.isEmpty(s);s++)if(!(e.tShift[s]-e.blkIndent>3)){for(i=!1,o=0,a=l.length;o<a;o++)if(l[o](e,s,n,!0)){i=!0;break}if(i)break}return r=e.getLines(t,s,e.blkIndent,!1).trim(),e.line=s,r.length&&(e.tokens.push({type:"paragraph_open",tight:!1,lines:[t,e.line],level:e.level}),e.tokens.push({type:"inline",content:r,level:e.level+1,lines:[t,e.line],children:[]}),e.tokens.push({type:"paragraph_close",tight:!1,level:e.level})),!0}]];function re(){this.ruler=new P;for(var e=0;e<ne.length;e++)this.ruler.push(ne[e][0],ne[e][1],{alt:(ne[e][2]||[]).slice()})}re.prototype.tokenize=function(e,t,n){for(var r,i=this.ruler.getRules(""),o=i.length,a=t,l=!1;a<n&&(e.line=a=e.skipEmptyLines(a),!(a>=n))&&!(e.tShift[a]<e.blkIndent);){for(r=0;r<o&&!i[r](e,a,n,!1);r++);if(e.tight=!l,e.isEmpty(e.line-1)&&(l=!0),(a=e.line)<n&&e.isEmpty(a)){if(l=!0,++a<n&&"list"===e.parentType&&e.isEmpty(a))break;e.line=a}}};var ie=/[\n\t]/g,oe=/\r[\n\u0085]|[\u2424\u2028\u0085]/g,ae=/\u00a0/g;function le(e){switch(e){case 10:case 92:case 96:case 42:case 95:case 94:case 91:case 93:case 33:case 38:case 60:case 62:case 123:case 125:case 36:case 37:case 64:case 126:case 43:case 61:case 58:return!0;default:return!1}}re.prototype.parse=function(e,t,n,r){var i,o=0,a=0;if(!e)return[];(e=(e=e.replace(ae," ")).replace(oe,"\n")).indexOf("\t")>=0&&(e=e.replace(ie,(function(t,n){var r;return 10===e.charCodeAt(n)?(o=n+1,a=0,t):(r="    ".slice((n-o-a)%4),a=n-o+1,r)}))),i=new q(e,this,t,n,r),this.tokenize(i,i.line,i.lineMax)};for(var se=[],ce=0;ce<256;ce++)se.push(0);function pe(e){return e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122}function ue(e,t){var n,r,i,o=t,a=!0,l=!0,s=e.posMax,c=e.src.charCodeAt(t);for(n=t>0?e.src.charCodeAt(t-1):-1;o<s&&e.src.charCodeAt(o)===c;)o++;return o>=s&&(a=!1),(i=o-t)>=4?a=l=!1:(32!==(r=o<s?e.src.charCodeAt(o):-1)&&10!==r||(a=!1),32!==n&&10!==n||(l=!1),95===c&&(pe(n)&&(a=!1),pe(r)&&(l=!1))),{can_open:a,can_close:l,delims:i}}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){se[e.charCodeAt(0)]=1}));var de=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;var fe=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;var ve=["coap","doi","javascript","aaa","aaas","about","acap","cap","cid","crid","data","dav","dict","dns","file","ftp","geo","go","gopher","h323","http","https","iax","icap","im","imap","info","ipp","iris","iris.beep","iris.xpc","iris.xpcs","iris.lwz","ldap","mailto","mid","msrp","msrps","mtqp","mupdate","news","nfs","ni","nih","nntp","opaquelocktoken","pop","pres","rtsp","service","session","shttp","sieve","sip","sips","sms","snmp","soap.beep","soap.beeps","tag","tel","telnet","tftp","thismessage","tn3270","tip","tv","urn","vemmi","ws","wss","xcon","xcon-userid","xmlrpc.beep","xmlrpc.beeps","xmpp","z39.50r","z39.50s","adiumxtra","afp","afs","aim","apt","attachment","aw","beshare","bitcoin","bolo","callto","chrome","chrome-extension","com-eventbrite-attendee","content","cvs","dlna-playsingle","dlna-playcontainer","dtn","dvb","ed2k","facetime","feed","finger","fish","gg","git","gizmoproject","gtalk","hcp","icon","ipn","irc","irc6","ircs","itms","jar","jms","keyparc","lastfm","ldaps","magnet","maps","market","message","mms","ms-help","msnim","mumble","mvn","notes","oid","palm","paparazzi","platform","proxy","psyc","query","res","resource","rmi","rsync","rtmp","secondlife","sftp","sgn","skype","smb","soldat","spotify","ssh","steam","svn","teamspeak","things","udp","unreal","ut2004","ventrilo","view-source","webcal","wtai","wyciwyg","xfire","xri","ymsgr"],me=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,he=/^<([a-zA-Z.\-]{1,25}):([^<>\x00-\x20]*)>/;function _e(e,t){return e=e.source,t=t||"",function n(r,i){return r?(i=i.source||i,e=e.replace(r,i),n):new RegExp(e,t)}}var ge=_e(/(?:unquoted|single_quoted|double_quoted)/)("unquoted",/[^"'=<>`\x00-\x20]+/)("single_quoted",/'[^']*'/)("double_quoted",/"[^"]*"/)(),ye=_e(/(?:\s+attr_name(?:\s*=\s*attr_value)?)/)("attr_name",/[a-zA-Z_:][a-zA-Z0-9:._-]*/)("attr_value",ge)(),be=_e(/<[A-Za-z][A-Za-z0-9]*attribute*\s*\/?>/)("attribute",ye)(),ke=_e(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)("open_tag",be)("close_tag",/<\/[A-Za-z][A-Za-z0-9]*\s*>/)("comment",/<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->/)("processing",/<[?].*?[?]>/)("declaration",/<![A-Z]+\s+[^>]*>/)("cdata",/<!\[CDATA\[[\s\S]*?\]\]>/)();var Se=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,we=/^&([a-z][a-z0-9]{1,31});/i;var Ce=[["text",function(e,t){for(var n=e.pos;n<e.posMax&&!le(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}],["newline",function(e,t){var n,r,i=e.pos;if(10!==e.src.charCodeAt(i))return!1;if(n=e.pending.length-1,r=e.posMax,!t)if(n>=0&&32===e.pending.charCodeAt(n))if(n>=1&&32===e.pending.charCodeAt(n-1)){for(var o=n-2;o>=0;o--)if(32!==e.pending.charCodeAt(o)){e.pending=e.pending.substring(0,o+1);break}e.push({type:"hardbreak",level:e.level})}else e.pending=e.pending.slice(0,-1),e.push({type:"softbreak",level:e.level});else e.push({type:"softbreak",level:e.level});for(i++;i<r&&32===e.src.charCodeAt(i);)i++;return e.pos=i,!0}],["escape",function(e,t){var n,r=e.pos,i=e.posMax;if(92!==e.src.charCodeAt(r))return!1;if(++r<i){if((n=e.src.charCodeAt(r))<256&&0!==se[n])return t||(e.pending+=e.src[r]),e.pos+=2,!0;if(10===n){for(t||e.push({type:"hardbreak",level:e.level}),r++;r<i&&32===e.src.charCodeAt(r);)r++;return e.pos=r,!0}}return t||(e.pending+="\\"),e.pos++,!0}],["backticks",function(e,t){var n,r,i,o,a,l=e.pos;if(96!==e.src.charCodeAt(l))return!1;for(n=l,l++,r=e.posMax;l<r&&96===e.src.charCodeAt(l);)l++;for(i=e.src.slice(n,l),o=a=l;-1!==(o=e.src.indexOf("`",a));){for(a=o+1;a<r&&96===e.src.charCodeAt(a);)a++;if(a-o===i.length)return t||e.push({type:"code",content:e.src.slice(l,o).replace(/[ \n]+/g," ").trim(),block:!1,level:e.level}),e.pos=a,!0}return t||(e.pending+=i),e.pos+=i.length,!0}],["del",function(e,t){var n,r,i,o,a,l=e.posMax,s=e.pos;if(126!==e.src.charCodeAt(s))return!1;if(t)return!1;if(s+4>=l)return!1;if(126!==e.src.charCodeAt(s+1))return!1;if(e.level>=e.options.maxNesting)return!1;if(o=s>0?e.src.charCodeAt(s-1):-1,a=e.src.charCodeAt(s+2),126===o)return!1;if(126===a)return!1;if(32===a||10===a)return!1;for(r=s+2;r<l&&126===e.src.charCodeAt(r);)r++;if(r>s+3)return e.pos+=r-s,t||(e.pending+=e.src.slice(s,r)),!0;for(e.pos=s+2,i=1;e.pos+1<l;){if(126===e.src.charCodeAt(e.pos)&&126===e.src.charCodeAt(e.pos+1)&&(o=e.src.charCodeAt(e.pos-1),126!==(a=e.pos+2<l?e.src.charCodeAt(e.pos+2):-1)&&126!==o&&(32!==o&&10!==o?i--:32!==a&&10!==a&&i++,i<=0))){n=!0;break}e.parser.skipToken(e)}return n?(e.posMax=e.pos,e.pos=s+2,t||(e.push({type:"del_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"del_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=l,!0):(e.pos=s,!1)}],["ins",function(e,t){var n,r,i,o,a,l=e.posMax,s=e.pos;if(43!==e.src.charCodeAt(s))return!1;if(t)return!1;if(s+4>=l)return!1;if(43!==e.src.charCodeAt(s+1))return!1;if(e.level>=e.options.maxNesting)return!1;if(o=s>0?e.src.charCodeAt(s-1):-1,a=e.src.charCodeAt(s+2),43===o)return!1;if(43===a)return!1;if(32===a||10===a)return!1;for(r=s+2;r<l&&43===e.src.charCodeAt(r);)r++;if(r!==s+2)return e.pos+=r-s,t||(e.pending+=e.src.slice(s,r)),!0;for(e.pos=s+2,i=1;e.pos+1<l;){if(43===e.src.charCodeAt(e.pos)&&43===e.src.charCodeAt(e.pos+1)&&(o=e.src.charCodeAt(e.pos-1),43!==(a=e.pos+2<l?e.src.charCodeAt(e.pos+2):-1)&&43!==o&&(32!==o&&10!==o?i--:32!==a&&10!==a&&i++,i<=0))){n=!0;break}e.parser.skipToken(e)}return n?(e.posMax=e.pos,e.pos=s+2,t||(e.push({type:"ins_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"ins_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=l,!0):(e.pos=s,!1)}],["mark",function(e,t){var n,r,i,o,a,l=e.posMax,s=e.pos;if(61!==e.src.charCodeAt(s))return!1;if(t)return!1;if(s+4>=l)return!1;if(61!==e.src.charCodeAt(s+1))return!1;if(e.level>=e.options.maxNesting)return!1;if(o=s>0?e.src.charCodeAt(s-1):-1,a=e.src.charCodeAt(s+2),61===o)return!1;if(61===a)return!1;if(32===a||10===a)return!1;for(r=s+2;r<l&&61===e.src.charCodeAt(r);)r++;if(r!==s+2)return e.pos+=r-s,t||(e.pending+=e.src.slice(s,r)),!0;for(e.pos=s+2,i=1;e.pos+1<l;){if(61===e.src.charCodeAt(e.pos)&&61===e.src.charCodeAt(e.pos+1)&&(o=e.src.charCodeAt(e.pos-1),61!==(a=e.pos+2<l?e.src.charCodeAt(e.pos+2):-1)&&61!==o&&(32!==o&&10!==o?i--:32!==a&&10!==a&&i++,i<=0))){n=!0;break}e.parser.skipToken(e)}return n?(e.posMax=e.pos,e.pos=s+2,t||(e.push({type:"mark_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"mark_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=l,!0):(e.pos=s,!1)}],["emphasis",function(e,t){var n,r,i,o,a,l,s,c=e.posMax,p=e.pos,u=e.src.charCodeAt(p);if(95!==u&&42!==u)return!1;if(t)return!1;if(n=(s=ue(e,p)).delims,!s.can_open)return e.pos+=n,t||(e.pending+=e.src.slice(p,e.pos)),!0;if(e.level>=e.options.maxNesting)return!1;for(e.pos=p+n,l=[n];e.pos<c;)if(e.src.charCodeAt(e.pos)!==u)e.parser.skipToken(e);else{if(r=(s=ue(e,e.pos)).delims,s.can_close){for(o=l.pop(),a=r;o!==a;){if(a<o){l.push(o-a);break}if(a-=o,0===l.length)break;e.pos+=o,o=l.pop()}if(0===l.length){n=o,i=!0;break}e.pos+=r;continue}s.can_open&&l.push(r),e.pos+=r}return i?(e.posMax=e.pos,e.pos=p+n,t||(2!==n&&3!==n||e.push({type:"strong_open",level:e.level++}),1!==n&&3!==n||e.push({type:"em_open",level:e.level++}),e.parser.tokenize(e),1!==n&&3!==n||e.push({type:"em_close",level:--e.level}),2!==n&&3!==n||e.push({type:"strong_close",level:--e.level})),e.pos=e.posMax+n,e.posMax=c,!0):(e.pos=p,!1)}],["sub",function(e,t){var n,r,i=e.posMax,o=e.pos;if(126!==e.src.charCodeAt(o))return!1;if(t)return!1;if(o+2>=i)return!1;if(e.level>=e.options.maxNesting)return!1;for(e.pos=o+1;e.pos<i;){if(126===e.src.charCodeAt(e.pos)){n=!0;break}e.parser.skipToken(e)}return n&&o+1!==e.pos?(r=e.src.slice(o+1,e.pos)).match(/(^|[^\\])(\\\\)*\s/)?(e.pos=o,!1):(e.posMax=e.pos,e.pos=o+1,t||e.push({type:"sub",level:e.level,content:r.replace(de,"$1")}),e.pos=e.posMax+1,e.posMax=i,!0):(e.pos=o,!1)}],["sup",function(e,t){var n,r,i=e.posMax,o=e.pos;if(94!==e.src.charCodeAt(o))return!1;if(t)return!1;if(o+2>=i)return!1;if(e.level>=e.options.maxNesting)return!1;for(e.pos=o+1;e.pos<i;){if(94===e.src.charCodeAt(e.pos)){n=!0;break}e.parser.skipToken(e)}return n&&o+1!==e.pos?(r=e.src.slice(o+1,e.pos)).match(/(^|[^\\])(\\\\)*\s/)?(e.pos=o,!1):(e.posMax=e.pos,e.pos=o+1,t||e.push({type:"sup",level:e.level,content:r.replace(fe,"$1")}),e.pos=e.posMax+1,e.posMax=i,!0):(e.pos=o,!1)}],["links",function(e,t){var n,r,i,o,a,l,s,c,p=!1,u=e.pos,d=e.posMax,f=e.pos,v=e.src.charCodeAt(f);if(33===v&&(p=!0,v=e.src.charCodeAt(++f)),91!==v)return!1;if(e.level>=e.options.maxNesting)return!1;if(n=f+1,(r=T(e,f))<0)return!1;if((l=r+1)<d&&40===e.src.charCodeAt(l)){for(l++;l<d&&(32===(c=e.src.charCodeAt(l))||10===c);l++);if(l>=d)return!1;for(f=l,j(e,l)?(o=e.linkContent,l=e.pos):o="",f=l;l<d&&(32===(c=e.src.charCodeAt(l))||10===c);l++);if(l<d&&f!==l&&A(e,l))for(a=e.linkContent,l=e.pos;l<d&&(32===(c=e.src.charCodeAt(l))||10===c);l++);else a="";if(l>=d||41!==e.src.charCodeAt(l))return e.pos=u,!1;l++}else{if(e.linkLevel>0)return!1;for(;l<d&&(32===(c=e.src.charCodeAt(l))||10===c);l++);if(l<d&&91===e.src.charCodeAt(l)&&(f=l+1,(l=T(e,l))>=0?i=e.src.slice(f,l++):l=f-1),i||(void 0===i&&(l=r+1),i=e.src.slice(n,r)),!(s=e.env.references[M(i)]))return e.pos=u,!1;o=s.href,a=s.title}return t||(e.pos=n,e.posMax=r,p?e.push({type:"image",src:o,title:a,alt:e.src.substr(n,r-n),level:e.level}):(e.push({type:"link_open",href:o,title:a,level:e.level++}),e.linkLevel++,e.parser.tokenize(e),e.linkLevel--,e.push({type:"link_close",level:--e.level}))),e.pos=l,e.posMax=d,!0}],["footnote_inline",function(e,t){var n,r,i,o,a=e.posMax,l=e.pos;return!(l+2>=a)&&(94===e.src.charCodeAt(l)&&(91===e.src.charCodeAt(l+1)&&(!(e.level>=e.options.maxNesting)&&(n=l+2,!((r=T(e,l+1))<0)&&(t||(e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.list||(e.env.footnotes.list=[]),i=e.env.footnotes.list.length,e.pos=n,e.posMax=r,e.push({type:"footnote_ref",id:i,level:e.level}),e.linkLevel++,o=e.tokens.length,e.parser.tokenize(e),e.env.footnotes.list[i]={tokens:e.tokens.splice(o)},e.linkLevel--),e.pos=r+1,e.posMax=a,!0)))))}],["footnote_ref",function(e,t){var n,r,i,o,a=e.posMax,l=e.pos;if(l+3>a)return!1;if(!e.env.footnotes||!e.env.footnotes.refs)return!1;if(91!==e.src.charCodeAt(l))return!1;if(94!==e.src.charCodeAt(l+1))return!1;if(e.level>=e.options.maxNesting)return!1;for(r=l+2;r<a;r++){if(32===e.src.charCodeAt(r))return!1;if(10===e.src.charCodeAt(r))return!1;if(93===e.src.charCodeAt(r))break}return r!==l+2&&(!(r>=a)&&(r++,n=e.src.slice(l+2,r-1),void 0!==e.env.footnotes.refs[":"+n]&&(t||(e.env.footnotes.list||(e.env.footnotes.list=[]),e.env.footnotes.refs[":"+n]<0?(i=e.env.footnotes.list.length,e.env.footnotes.list[i]={label:n,count:0},e.env.footnotes.refs[":"+n]=i):i=e.env.footnotes.refs[":"+n],o=e.env.footnotes.list[i].count,e.env.footnotes.list[i].count++,e.push({type:"footnote_ref",id:i,subId:o,level:e.level})),e.pos=r,e.posMax=a,!0)))}],["autolink",function(e,t){var n,r,i,o,a,l=e.pos;return 60===e.src.charCodeAt(l)&&(!((n=e.src.slice(l)).indexOf(">")<0)&&((r=n.match(he))?!(ve.indexOf(r[1].toLowerCase())<0)&&(a=$(o=r[0].slice(1,-1)),!!e.parser.validateLink(o)&&(t||(e.push({type:"link_open",href:a,level:e.level}),e.push({type:"text",content:o,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=r[0].length,!0)):!!(i=n.match(me))&&(a=$("mailto:"+(o=i[0].slice(1,-1))),!!e.parser.validateLink(a)&&(t||(e.push({type:"link_open",href:a,level:e.level}),e.push({type:"text",content:o,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=i[0].length,!0))))}],["htmltag",function(e,t){var n,r,i,o=e.pos;return!!e.options.html&&(i=e.posMax,!(60!==e.src.charCodeAt(o)||o+2>=i)&&(!(33!==(n=e.src.charCodeAt(o+1))&&63!==n&&47!==n&&!function(e){var t=32|e;return t>=97&&t<=122}(n))&&(!!(r=e.src.slice(o).match(ke))&&(t||e.push({type:"htmltag",content:e.src.slice(o,o+r[0].length),level:e.level}),e.pos+=r[0].length,!0))))}],["entity",function(e,t){var n,r,o=e.pos,a=e.posMax;if(38!==e.src.charCodeAt(o))return!1;if(o+1<a)if(35===e.src.charCodeAt(o+1)){if(r=e.src.slice(o).match(Se))return t||(n="x"===r[1][0].toLowerCase()?parseInt(r[1].slice(1),16):parseInt(r[1],10),e.pending+=p(n)?u(n):u(65533)),e.pos+=r[0].length,!0}else if(r=e.src.slice(o).match(we)){var l=i(r[1]);if(r[1]!==l)return t||(e.pending+=l),e.pos+=r[0].length,!0}return t||(e.pending+="&"),e.pos++,!0}]];function Oe(){this.ruler=new P;for(var e=0;e<Ce.length;e++)this.ruler.push(Ce[e][0],Ce[e][1]);this.validateLink=Pe}function Pe(e){var t=e.trim().toLowerCase();return-1===(t=m(t)).indexOf(":")||-1===["vbscript","javascript","file","data"].indexOf(t.split(":")[0])}Oe.prototype.skipToken=function(e){var t,n,r=this.ruler.getRules(""),i=r.length,o=e.pos;if((n=e.cacheGet(o))>0)e.pos=n;else{for(t=0;t<i;t++)if(r[t](e,!0))return void e.cacheSet(o,e.pos);e.pos++,e.cacheSet(o,e.pos)}},Oe.prototype.tokenize=function(e){for(var t,n,r=this.ruler.getRules(""),i=r.length,o=e.posMax;e.pos<o;){for(n=0;n<i&&!(t=r[n](e,!1));n++);if(t){if(e.pos>=o)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},Oe.prototype.parse=function(e,t,n,r){var i=new x(e,this,t,n,r);this.tokenize(i)};var xe={default:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","replacements","smartquotes","references","abbr2","footnote_tail"]},block:{rules:["blockquote","code","fences","footnote","heading","hr","htmlblock","lheading","list","paragraph","table"]},inline:{rules:["autolink","backticks","del","emphasis","entity","escape","footnote_ref","htmltag","links","newline","text"]}}},full:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{},block:{},inline:{}}},commonmark:{options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","abbr2"]},block:{rules:["blockquote","code","fences","heading","hr","htmlblock","lheading","list","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","htmltag","links","newline","text"]}}}};function Te(e,t,n){this.src=t,this.env=n,this.options=e.options,this.tokens=[],this.inlineMode=!1,this.inline=e.inline,this.block=e.block,this.renderer=e.renderer,this.typographer=e.typographer}function Ee(e,t){"string"!=typeof e&&(t=e,e="default"),t&&null!=t.linkify&&console.warn("linkify option is removed. Use linkify plugin instead:\n\nimport Remarkable from 'remarkable';\nimport linkify from 'remarkable/linkify';\nnew Remarkable().use(linkify)\n"),this.inline=new Oe,this.block=new re,this.core=new W,this.renderer=new O,this.ruler=new P,this.options={},this.configure(xe[e]),this.set(t||{})}Ee.prototype.set=function(e){l(this.options,e)},Ee.prototype.configure=function(e){var t=this;if(!e)throw new Error("Wrong `remarkable` preset, check name/content");e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach((function(n){e.components[n].rules&&t[n].ruler.enable(e.components[n].rules,!0)}))},Ee.prototype.use=function(e,t){return e(this,t),this},Ee.prototype.parse=function(e,t){var n=new Te(this,e,t);return this.core.process(n),n.tokens},Ee.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},Ee.prototype.parseInline=function(e,t){var n=new Te(this,e,t);return n.inlineMode=!0,this.core.process(n),n.tokens},Ee.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)}},function(e,t,n){var r=n(8),i=n(159);e.exports=function(e){return r((function(){return!!i[e]()||"​᠎"!="​᠎"[e]()||i[e].name!==e}))}},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}n(0),n(17),n(9),n(3),n(20),n(2);var o=n(1),{s_get_components:a}=n(6),{pyFunc:l}=n(4);e.exports=function(e){var{misceval:{isTrue:t,callsimArray:n,callsimOrSuspendArray:s,chain:c},builtin:{none:{none$:p},str:u,tuple:d,isinstance:f,checkString:v}}=Sk,m=new u("add_component"),h=new u("remove_from_parent"),_=new u("clear"),g=[],y=[],b=!1;function k(){var e;return e=function*(){if(yield o.loadScript("https://maps.googleapis.com/maps/api/js?key=".concat(window.anvilGoogleApiKey,"&v=3&libraries=geometry")),!window.google)throw console.warn("Google unavailable, not loading GoogleMap component"),new Sk.builtin.RuntimeError("Google maps is unavailable")},k=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){i(a,r,o,l,s,"next",e)}function s(e){i(a,r,o,l,s,"throw",e)}l(void 0)}))},k.apply(this,arguments)}var S=()=>{var t=e.GoogleMap.prototype;for(var n of y)t[n]=t[n]();for(var r of g)r.jsType=r.jsType();b=!0};function w(){if(!b)return window.gm_authFailure=e=>{window.googleMapsAuthFailure=!0},window.google?S():Sk.misceval.chain(Sk.misceval.promiseToSuspension(function(){return k.apply(this,arguments)}()),S)}var C=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Sk.misceval.chain(w(),...t)};function O(e,t){g.push({jsType:e,pyType:t}),Object.defineProperty(t.prototype,"valueOf",{value(){return this._toJsVal?this._toJsVal():this._jsVal},writable:!0})}var P=e=>{for(var t of g||[])if(e instanceof t.pyType)return e._toJsVal?e._toJsVal():e._jsVal};function x(e){return Sk.ffi.toJs(e,{unhandledHook:P})}var T=e=>{for(var t of g||[]){var n;if(e instanceof t.jsType)return null!==(n=e._pyVal)&&void 0!==n?n:Sk.misceval.callsim(t.pyType,e)}return Sk.ffi.proxy(e)};function E(e){return Sk.ffi.toPy(e,{proxyHook:T})}function j(e){return e.replace(/_(.)/g,((e,t)=>t.toUpperCase()))}function A(e,t){var n;for(var r in null!==(n=t)&&void 0!==n||(t={}),e){t[j(r)]=x(e[r])}return t}function M(e,t){for(var n in t){var r=t[n].transformRawArgs?o.funcWithRawKwargsDict:o.funcWithKwargs;e[n]=r(function(e,t,n,r){var i,o=t.transformArgs||t.transformRawArgs||function(e,t){var n=[],r=Array.prototype.slice.call(arguments,2);for(var i in r)n.push(x(r[i]));return n},a=t.transformResult||E,l=Array.prototype.slice.call(arguments,2),s=o.apply(null,l),p=t.fn||j(e),u=r._jsVal[p].apply(r._jsVal,s);return c(null===(i=t.callback)||void 0===i?void 0:i.call(t,r),(()=>a(u)))}.bind(null,n,t[n]))}}function N(e,t,n){return function(){var r=Array.prototype.slice.call(arguments,0),i=1;r[0].tp$name||i++;var o=r[i-1],a=e();r[i]&&r[i]instanceof a?(o._jsVal=r[i],n&&n(o,o._jsVal)):t.apply(null,r),o._jsVal._pyVal=o,Object.defineProperties(o._jsVal,{$isPyWrapped:{value:!0,writable:!0},unwrap:{value:()=>o,writable:!0}})}}function L(e){var t=[null],n=e._anvilClassic$propMap;return Object.keys(n).forEach((r=>{if(n[r].mapProp){var i=e._anvil.props[r];void 0!==i&&t.push((()=>e._anvil.setProp(r,i)))}})),Sk.misceval.chain(...t)}e.GoogleMap=o.mkComponentCls(e,"GoogleMap",{base:e.ClassicContainer,element:e=>o.h(o.OuterElement,r({className:"anvil-google-map",style:"min-height:40px;"},e)),locals:function(r){function i(){}r.__new__=o.mkNew(e.ClassicContainer,(e=>C((()=>{e._jsVal=new google.maps.Map(e._anvil.domNode,{center:{lat:50,lng:-45}}),e._jsVal.addListener("bounds_changed",(function(){o.raiseEventAsync({},e,"bounds_changed")})),e._jsVal.addListener("center_changed",(function(){o.raiseEventAsync({},e,"center_changed")})),e._jsVal.addListener("click",(function(t){o.raiseEventAsync({lat_lng:E(t.latLng),pixel:E(t.pixel)},e,"click")})),e._jsVal.addListener("dbl_click",(function(t){o.raiseEventAsync({lat_lng:E(t.latLng),pixel:E(t.pixel)},e,"dbl_click")})),e._jsVal.addListener("drag",(function(){o.raiseEventAsync({},e,"drag")})),e._jsVal.addListener("dragend",(function(){o.raiseEventAsync({},e,"dragend")})),e._jsVal.addListener("dragstart",(function(){o.raiseEventAsync({},e,"dragstart")})),e._jsVal.addListener("heading_changed",(function(){o.raiseEventAsync({},e,"heading_changed")})),e._jsVal.addListener("idle",(function(){o.raiseEventAsync({},e,"idle")})),e._jsVal.addListener("maptypeid_changed",(function(){o.raiseEventAsync({},e,"maptypeid_changed")})),e._jsVal.addListener("mousemove",(function(t){o.raiseEventAsync({lat_lng:E(t.latLng),pixel:E(t.pixel)},e,"mousemove")})),e._jsVal.addListener("mouseout",(function(t){o.raiseEventAsync({lat_lng:E(t.latLng),pixel:E(t.pixel)},e,"mouseout")})),e._jsVal.addListener("mouseover",(function(t){o.raiseEventAsync({lat_lng:E(t.latLng),pixel:E(t.pixel)},e,"mouseover")})),e._jsVal.addListener("projection_changed",(function(){o.raiseEventAsync({},e,"projection_changed")})),e._jsVal.addListener("rightclick",(function(t){o.raiseEventAsync({lat_lng:E(t.latLng),pixel:E(t.pixel)},e,"rightclick")})),e._jsVal.addListener("tilesloaded",(function(){o.raiseEventAsync({},e,"tilesloaded")})),e._jsVal.addListener("tilt_changed",(function(){o.raiseEventAsync({},e,"tilt_changed")})),e._jsVal.addListener("zoom_changed",(function(){o.raiseEventAsync({},e,"zoom_changed")})),e._jsVal._pyVal=e,e._anvil.mapData=Sk.misceval.callsim(r.Data,e._jsVal.data)}),(()=>L(e))))),r.ObjectSpec=Sk.misceval.buildClass(e,(function(e,t){t.__init__=o.funcWithRawKwargsDict((function(e,t){t._jsVal=new i,t._jsVal=e,t._toJsVal=function(){return A(t._jsVal)}})),t.__setattr__=new Sk.builtin.func((function(e,t,n){var r=Sk.ffi.toJs(t);return e._jsVal[r]=n,Sk.builtin.object.prototype.tp$setattr.call(e,t,n)})),t.__getattr__=new Sk.builtin.func((function(e,t){var n=Sk.ffi.toJs(t);if(n in e._jsVal)return e._jsVal[n];throw new Sk.builtin.AttributeError("'"+e.tp$name+"' object has no attribute '"+n+"'")}))}),"GoogleMap.ObjectSpec",[]),O((()=>i),r.ObjectSpec),r.LatLngLiteral=Sk.misceval.buildClass(e,(function(e,t){}),
/*!defClass(anvil.GoogleMap,LatLngLiteral)!*/
"GoogleMap.LatLngLiteral",[r.ObjectSpec]),r.LatLngBoundsLiteral=Sk.misceval.buildClass(e,(function(e,t){}),
/*!defClass(anvil.GoogleMap,LatLngBoundsLiteral)!*/
"GoogleMap.LatLngBoundsLiteral",[r.ObjectSpec]),r.Icon=Sk.misceval.buildClass(e,(function(e,t){}),
/*!defClass(anvil.GoogleMap,Icon)!*/
"GoogleMap.Icon",[r.ObjectSpec]),r.Symbol=Sk.misceval.buildClass(e,(function(e,t){}),
/*!defClass(anvil.GoogleMap,Symbol)!*/
"GoogleMap.Symbol",[r.ObjectSpec]),r.IconSequence=Sk.misceval.buildClass(e,(function(e,t){}),
/*!defClass(anvil.GoogleMap,IconSequence)!*/
"GoogleMap.IconSequence",[r.ObjectSpec]),r.FullscreenControlOptions=Sk.misceval.buildClass(e,(function(e,t){}),
/*!defClass(anvil.GoogleMap,FullscreenControlOptions)!*/
"GoogleMap.FullscreenControlOptions",[r.ObjectSpec]),r.MapTypeControlOptions=Sk.misceval.buildClass(e,(function(e,t){}),
/*!defClass(anvil.GoogleMap,MapTypeControlOptions)!*/
"GoogleMap.MapTypeControlOptions",[r.ObjectSpec]),r.MotionTrackingControlOptions=Sk.misceval.buildClass(e,(function(e,t){}),
/*!defClass(anvil.GoogleMap,MotionTrackingControlOptions)!*/
"GoogleMap.MotionTrackingControlOptions",[r.ObjectSpec]),r.RotateControlOptions=Sk.misceval.buildClass(e,(function(e,t){}),
/*!defClass(anvil.GoogleMap,RotateControlOptions)!*/
"GoogleMap.RotateControlOptions",[r.ObjectSpec]),r.ScaleControlOptions=Sk.misceval.buildClass(e,(function(e,t){}),
/*!defClass(anvil.GoogleMap,ScaleControlOptions)!*/
"GoogleMap.ScaleControlOptions",[r.ObjectSpec]),r.StreetViewControlOptions=Sk.misceval.buildClass(e,(function(e,t){}),
/*!defClass(anvil.GoogleMap,StreetViewControlOptions)!*/
"GoogleMap.StreetViewControlOptions",[r.ObjectSpec]),r.ZoomControlOptions=Sk.misceval.buildClass(e,(function(e,t){}),
/*!defClass(anvil.GoogleMap,ZoomControlOptions)!*/
"GoogleMap.ZoomControlOptions",[r.ObjectSpec]),r.MarkerLabel=Sk.misceval.buildClass(e,(function(e,t){}),
/*!defClass(anvil.GoogleMap,MarkerLabel)!*/
"GoogleMap.MarkerLabel",[r.ObjectSpec]),r.GeocoderResult=Sk.misceval.buildClass(e,(function(e,t){
/*!defClass(anvil.GoogleMap,GeocoderResult)!*/}),"GoogleMap.GeocoderResult",[r.ObjectSpec]),r.GeocoderAddressComponent=Sk.misceval.buildClass(e,(function(e,t){
/*!defClass(anvil.GoogleMap,GeocoderAddressComponent)!*/}),"GoogleMap.GeocoderAddressComponent",[r.ObjectSpec]),r.GeocoderGeometry=Sk.misceval.buildClass(e,(function(e,t){
/*!defClass(anvil.GoogleMap,GeocoderGeometry)!*/}),"GoogleMap.GeocoderGeometry",[r.ObjectSpec]),r.LatLng=Sk.misceval.buildClass(e,(function(e,t){t.__init__=new Sk.builtin.func(N((()=>google.maps.LatLng),(function(e,t,n,r){var i=Sk.ffi.toJs(t),o=Sk.ffi.toJs(n),a=!!r&&Sk.ffi.toJs(r);e._jsVal=new google.maps.LatLng(i,o,a)}))),t.__repr__=new Sk.builtin.func((function(e){return Sk.ffi.toPy("<GoogleMap.LatLng: "+e._jsVal.toUrlValue()+">")})),M(t,{lat:{},lng:{}})}),
/*!defClass(anvil.GoogleMap,LatLng)!*/
"GoogleMap.LatLng",[]),O((()=>google.maps.LatLng),r.LatLng),r.LatLngBounds=Sk.misceval.buildClass(e,(function(e,t){t.__init__=new Sk.builtin.func(N((()=>google.maps.LatLngBounds),(function(e,t,n){var r=x(t),i=x(n);e._jsVal=new google.maps.LatLngBounds(r,i)}))),t.__repr__=new Sk.builtin.func((function(e){var t=Sk.misceval.callsim(r.LatLng,e._jsVal.getSouthWest()),n=Sk.misceval.callsim(r.LatLng,e._jsVal.getNorthEast());return Sk.ffi.toPy("<GoogleMap.LatLngBounds sw="+Sk.ffi.toJs(Sk.builtin.str(t))+", ne="+Sk.ffi.toJs(Sk.builtin.str(n))+">")})),M(t,{contains:{},equals:{},extend:{},get_center:{},get_north_east:{},get_south_west:{},intersects:{},is_empty:{},to_json:{fn:"toJSON"},to_span:{},to_url_value:{},union:{}})}),
/*!defClass(anvil.GoogleMap,LatLngBounds)!*/
"GoogleMap.LatLngBounds",[]),O((()=>google.maps.LatLngBounds),r.LatLngBounds),r.Point=Sk.misceval.buildClass(e,(function(e,t){t.__init__=new Sk.builtin.func(N((()=>google.maps.Point),(function(e,t,n){var r=Sk.ffi.toJs(t),i=Sk.ffi.toJs(n);e._jsVal=new google.maps.Point(r,i)})))}),
/*!defClass(anvil.GoogleMap,Point)!*/
"GoogleMap.Point",[]),O((()=>google.maps.Point),r.Point),r.Size=Sk.misceval.buildClass(e,(function(e,t){t.__init__=new Sk.builtin.func(N((()=>google.maps.Size),(function(e,t,n){var r=Sk.ffi.toJs(t),i=Sk.ffi.toJs(n);e._jsVal=new google.maps.Size(r,i)})))}),
/*!defClass(anvil.GoogleMap,Size)!*/
"GoogleMap.Size",[]),O((()=>google.maps.Size),r.Size),r.GeocoderLocationType=()=>Sk.misceval.buildClass(e,(function(e,t){t.APPROXIMATE=Sk.ffi.toPy(google.maps.GeocoderLocationType.APPROXIMATE),t.GEOMETRIC_CENTER=Sk.ffi.toPy(google.maps.GeocoderLocationType.GEOMETRIC_CENTER),t.RANGE_INTERPOLATED=Sk.ffi.toPy(google.maps.GeocoderLocationType.RANGE_INTERPOLATED),t.ROOFTOP=Sk.ffi.toPy(google.maps.GeocoderLocationType.ROOFTOP)}),"GoogleMap.GeocoderLocationType",[]),y.push("GeocoderLocationType"),r.SymbolPath=()=>Sk.misceval.buildClass(e,(function(e,t){t.BACKWARD_CLOSED_ARROW=Sk.ffi.toPy(google.maps.SymbolPath.BACKWARD_CLOSED_ARROW),t.BACKWARD_OPEN_ARROW=Sk.ffi.toPy(google.maps.SymbolPath.BACKWARD_OPEN_ARROW),t.CIRCLE=Sk.ffi.toPy(google.maps.SymbolPath.CIRCLE),t.FORWARD_CLOSED_ARROW=Sk.ffi.toPy(google.maps.SymbolPath.FORWARD_CLOSED_ARROW),t.FORWARD_OPEN_ARROW=Sk.ffi.toPy(google.maps.SymbolPath.FORWARD_OPEN_ARROW)}),"GoogleMap.SymbolPath",[]),y.push("SymbolPath"),r.Animation=()=>Sk.misceval.buildClass(e,(function(e,t){t.BOUNCE=Sk.ffi.toPy(google.maps.Animation.BOUNCE),t.DROP=Sk.ffi.toPy(google.maps.Animation.DROP)}),"GoogleMap.Animation",[]),y.push("Animation"),r.MapTypeId=()=>Sk.misceval.buildClass(e,(function(e,t){t.HYBRID=Sk.ffi.toPy(google.maps.MapTypeId.HYBRID),t.ROADMAP=Sk.ffi.toPy(google.maps.MapTypeId.ROADMAP),t.SATELLITE=Sk.ffi.toPy(google.maps.MapTypeId.SATELLITE),t.TERRAIN=Sk.ffi.toPy(google.maps.MapTypeId.TERRAIN)}),"GoogleMap.MapTypeId",[]),y.push("MapTypeId"),r.StrokePosition=()=>Sk.misceval.buildClass(e,(function(e,t){t.CENTER=Sk.ffi.toPy(google.maps.StrokePosition.CENTER),t.INSIDE=Sk.ffi.toPy(google.maps.StrokePosition.INSIDE),t.OUTSIDE=Sk.ffi.toPy(google.maps.StrokePosition.OUTSIDE)}),"GoogleMap.StrokePosition",[]),y.push("StrokePosition"),r.MapTypeControlStyle=()=>Sk.misceval.buildClass(e,(function(e,t){t.DEFAULT=Sk.ffi.toPy(google.maps.MapTypeControlStyle.DEFAULT),t.DROPDOWN_MENU=Sk.ffi.toPy(google.maps.MapTypeControlStyle.DROPDOWN_MENU),t.HORIZONTAL_BAR=Sk.ffi.toPy(google.maps.MapTypeControlStyle.HORIZONTAL_BAR)}),"GoogleMap.MapTypeControlStyle",[]),y.push("MapTypeControlStyle"),r.ControlPosition=()=>Sk.misceval.buildClass(e,(function(e,t){t.BOTTOM_CENTER=Sk.ffi.toPy(google.maps.ControlPosition.BOTTOM_CENTER),t.BOTTOM_LEFT=Sk.ffi.toPy(google.maps.ControlPosition.BOTTOM_LEFT),t.BOTTOM_RIGHT=Sk.ffi.toPy(google.maps.ControlPosition.BOTTOM_RIGHT),t.LEFT_BOTTOM=Sk.ffi.toPy(google.maps.ControlPosition.LEFT_BOTTOM),t.LEFT_CENTER=Sk.ffi.toPy(google.maps.ControlPosition.LEFT_CENTER),t.LEFT_TOP=Sk.ffi.toPy(google.maps.ControlPosition.LEFT_TOP),t.RIGHT_BOTTOM=Sk.ffi.toPy(google.maps.ControlPosition.RIGHT_BOTTOM),t.RIGHT_CENTER=Sk.ffi.toPy(google.maps.ControlPosition.RIGHT_CENTER),t.RIGHT_TOP=Sk.ffi.toPy(google.maps.ControlPosition.RIGHT_TOP),t.TOP_CENTER=Sk.ffi.toPy(google.maps.ControlPosition.TOP_CENTER),t.TOP_LEFT=Sk.ffi.toPy(google.maps.ControlPosition.TOP_LEFT),t.TOP_RIGHT=Sk.ffi.toPy(google.maps.ControlPosition.TOP_RIGHT)}),"GoogleMap.ControlPosition",[]),y.push("ControlPosition"),r.Data=Sk.misceval.buildClass(e,(function(t,n){n.StyleOptions=Sk.misceval.buildClass(e,(function(e,t){
/*!defInitFromAttrs()!*/}),
/*!defClass(anvil.GoogleMap.Data,StyleOptions)!*/
"GoogleMap.Data.StyleOptions",[r.ObjectSpec]),n.Geometry=Sk.misceval.buildClass(e,(function(e,t){M(t,{get_type:{}})}),
/*!defClass(anvil.GoogleMap.Data,Geometry)!*/
"GoogleMap.Data.Geometry",[]),n.Point=Sk.misceval.buildClass(e,(function(e,t){t.__init__=o.funcWithKwargs(N((()=>google.maps.Data.Point),(function(e,t,n){t._jsVal=new google.maps.Data.Point(x(n))}))),M(t,{get:{}})}),
/*!defClass(anvil.GoogleMap.Data,Point,Geometry)!*/
"GoogleMap.Data.Point",[n.Geometry]),O((()=>google.maps.Data.Point),n.Point),n.MultiPoint=Sk.misceval.buildClass(e,(function(e,t){t.__init__=o.funcWithKwargs(N((()=>google.maps.Data.MultiPoint),(function(e,t,n){t._jsVal=new google.maps.Data.MultiPoint(x(n))}))),M(t,{get_array:{},get_at:{},get_length:{}})}),
/*!defClass(anvil.GoogleMap.Data,MultiPoint,Geometry)!*/
"GoogleMap.Data.MultiPoint",[n.Geometry]),O((()=>google.maps.Data.MultiPoint),n.MultiPoint),n.LineString=Sk.misceval.buildClass(e,(function(e,t){t.__init__=o.funcWithKwargs(N((()=>google.maps.Data.LineString),(function(e,t,n){t._jsVal=new google.maps.Data.LineString(x(n))}))),M(t,{get_array:{},get_at:{},get_length:{}})}),
/*!defClass(anvil.GoogleMap.Data,LineString,Geometry)!*/
"GoogleMap.Data.LineString",[n.Geometry]),O((()=>google.maps.Data.LineString),n.LineString),n.MultiLineString=Sk.misceval.buildClass(e,(function(e,t){t.__init__=o.funcWithKwargs(N((()=>google.maps.Data.MultiLineString),(function(e,t,n){t._jsVal=new google.maps.Data.MultiLineString(x(n))}))),M(t,{get_array:{},get_at:{},get_length:{}})}),
/*!defClass(anvil.GoogleMap.Data,MultiLineString,Geometry)!*/
"GoogleMap.Data.MultiLineString",[n.Geometry]),O((()=>google.maps.Data.MultiLineString),n.MultiLineString),n.LinearRing=Sk.misceval.buildClass(e,(function(e,t){t.__init__=o.funcWithKwargs(N((()=>google.maps.Data.LinearRing),(function(e,t,n){t._jsVal=new google.maps.Data.LinearRing(x(n))}))),M(t,{get_array:{},get_at:{},get_length:{}})}),
/*!defClass(anvil.GoogleMap.Data,LinearRing,Geometry)!*/
"GoogleMap.Data.LinearRing",[n.Geometry]),O((()=>google.maps.Data.LinearRing),n.LinearRing),n.Polygon=Sk.misceval.buildClass(e,(function(e,t){t.__init__=o.funcWithKwargs(N((()=>google.maps.Data.Polygon),(function(e,t,n){t._jsVal=new google.maps.Data.Polygon(x(n))}))),M(t,{get_array:{},get_at:{},get_length:{}})}),
/*!defClass(anvil.GoogleMap.Data,Polygon,Geometry)!*/
"GoogleMap.Data.Polygon",[n.Geometry]),O((()=>google.maps.Data.Polygon),n.Polygon),n.MultiPolygon=Sk.misceval.buildClass(e,(function(e,t){t.__init__=o.funcWithKwargs(N((()=>google.maps.Data.MultiPolygon),(function(e,t,n){t._jsVal=new google.maps.Data.MultiPolygon(x(n))}))),M(t,{get_array:{},get_at:{},get_length:{}})}),
/*!defClass(anvil.GoogleMap.Data,MultiPolygon,Geometry)!*/
"GoogleMap.Data.MultiPolygon",[n.Geometry]),O((()=>google.maps.Data.MultiPolygon),n.MultiPolygon),n.GeometryCollection=Sk.misceval.buildClass(e,(function(e,t){t.__init__=o.funcWithKwargs(N((()=>google.maps.Data.GeometryCollection),(function(e,t,n){t._jsVal=new google.maps.Data.GeometryCollection(x(n))}))),M(t,{get_array:{},get_at:{},get_length:{}})}),
/*!defClass(anvil.GoogleMap.Data,GeometryCollection,Geometry)!*/
"GoogleMap.Data.GeometryCollection",[n.Geometry]),O((()=>google.maps.Data.GeometryCollection),n.GeometryCollection),O((()=>google.maps.Data.Geometry),n.Geometry),n.Feature=Sk.misceval.buildClass(e,(function(e,t){t.__init__=o.funcWithRawKwargsDict(N((()=>google.maps.Data.Feature),(function(e,t){t._jsVal=new google.maps.Data.Feature(A(e))}))),t.__setattr__=new Sk.builtin.func((function(e,t,n){switch(Sk.ffi.toJs(t)){case"geometry":e._jsVal.setGeometry(x(n));break;case"id":e._jsVal.setId(x(n));break;default:Sk.builtin.object.prototype.tp$setattr.call(e,t,n)}})),t.__getattr__=new Sk.builtin.func((function(e,t){var n=Sk.ffi.toJs(t);switch(n){case"geometry":return E(e._jsVal.getGeometry());case"id":return E(e._jsVal.getId());default:throw new Sk.builtin.AttributeError("'"+e.tp$name+"' object has no attribute '"+n+"'")}})),t.__getitem__=new Sk.builtin.func((function(e,t){var n=Sk.ffi.toJs(t);return E(e._jsVal.getProperty(n))})),t.__setitem__=new Sk.builtin.func((function(e,t,n){Sk.ffi.toJs(t);e._jsVal.setProperty(x(n))})),t.to_geo_json=new Sk.builtin.func((function(e){return o.suspensionPromise((function(t,n){e._jsVal.toGeoJson((function(e){t(Sk.ffi.toPy(e))}))}))})),M(t,{})}),
/*!defClass(anvil.GoogleMap.Data,Feature)!*/
"GoogleMap.Data.Feature",[]),O((()=>google.maps.Data.Feature),n.Feature);n.__init__=o.funcWithKwargs(N((()=>google.maps.Data),(function(e,t){t._jsVal=new google.maps.Data(e)}),(function(e,t){!function(e){var t=e.getMap();if(t){var n=t._pyVal;e.addListener("addfeature",(function(e){o.raiseEventAsync({feature:E(e.feature)},n,"data_addfeature")})),e.addListener("click",(function(e){o.raiseEventAsync({feature:E(e.feature),lat_lng:E(e.latLng)},n,"data_click")})),e.addListener("dblclick",(function(e){o.raiseEventAsync({feature:E(e.feature),lat_lng:E(e.latLng)},n,"data_dblclick")})),e.addListener("mousedown",(function(e){o.raiseEventAsync({feature:E(e.feature),lat_lng:E(e.latLng)},n,"data_mousedown")})),e.addListener("mouseout",(function(e){o.raiseEventAsync({feature:E(e.feature),lat_lng:E(e.latLng)},n,"data_mouseout")})),e.addListener("mouseover",(function(e){o.raiseEventAsync({feature:E(e.feature),lat_lng:E(e.latLng)},n,"data_mouseover")})),e.addListener("mouseup",(function(e){o.raiseEventAsync({feature:E(e.feature),lat_lng:E(e.latLng)},n,"data_mouseup")})),e.addListener("removefeature",(function(e){o.raiseEventAsync({feature:E(e.feature)},n,"data_removefeature")})),e.addListener("removeproperty",(function(e){o.raiseEventAsync({feature:E(e.feature),name:E(e.name),old_value:E(e.oldValue)},n,"data_removeproperty")})),e.addListener("rightclick",(function(e){o.raiseEventAsync({feature:E(e.feature),lat_lng:E(e.latLng)},n,"data_rightclick")})),e.addListener("setgeometry",(function(e){o.raiseEventAsync({feature:E(e.feature),new_geometry:E(e.newGeometry),old_geometry:E(e.oldGeometry)},n,"data_setgeometry")})),e.addListener("setproperty",(function(e){o.raiseEventAsync({feature:E(e.feature),name:E(e.name),new_value:E(e.newValue),old_value:E(e.oldValue)},n,"data_setproperty")}))}}(t)}))),n.__setattr__=new Sk.builtin.func((function(e,t,n){switch(Sk.ffi.toJs(t)){case"control_position":e._jsVal.setControlPosition(x(n));break;case"controls":e._jsVal.setControls(x(n));break;case"drawing_mode":e._jsVal.setDrawingMode(x(n));break;case"style":if(n&&Sk.builtin.callable(n).v){var r=function(e){return x(Sk.misceval.callsim(n,E(e)))};r._pyVal=n,e._jsVal.setStyle(r)}else e._jsVal.setStyle(x(n));break;default:Sk.builtin.object.prototype.tp$setattr.call(e,t,n)}})),n.__getattr__=new Sk.builtin.func((function(e,t){var n=Sk.ffi.toJs(t);switch(n){case"control_position":return E(e._jsVal.getControlPosition());case"controls":return E(e._jsVal.getControls());case"drawing_mode":return E(e._jsVal.getDrawingMode());case"style":return E(e._jsVal.getStyle());default:throw new Sk.builtin.AttributeError("'"+e.tp$name+"' object has no attribute '"+n+"'")}})),n.add=o.funcWithRawKwargsDict((function(e,t,r){if(r&&Sk.builtin.isinstance(r,n.Feature).v){var i=t._jsVal.add(r._jsVal);return r._jsVal=i,r}var o=A(e),a=t._jsVal.add(o);return Sk.misceval.callsim(n.Feature,a)})),n.override_style=o.funcWithRawKwargsDict((function(e,t,n,r){t._jsVal.overrideStyle(n._jsVal,r?x(r):A(e))})),n.to_geo_json=new Sk.builtin.func((function(e){return o.suspensionPromise((function(t,n){e._jsVal.toGeoJson((function(e){t(Sk.ffi.toPy(e))}))}))})),n.add_geo_json=o.funcWithKwargs((function(e,t,n){if(e.id_property_name)var r={idPropertyName:e.id_property_name};t._jsVal.addGeoJson(Sk.ffi.toJs(n),r)})),M(n,{contains:{},get_feature_by_id:{},load_geo_json:{transformRawArgs:function(e,t,r){if(e.id_property_name)var i={idPropertyName:Sk.ffi.toJs(e.id_property_name)};if(e.callback)var o=function(t){var r=new Sk.builtin.list;for(var i in t)Sk.misceval.callsim(r.tp$getattr(new Sk.builtin.str("append")),Sk.misceval.callsim(n.Feature,t[i]));Sk.misceval.callsim(e.callback,r)};return[Sk.ffi.toJs(r),i,o]}},remove:{},revert_style:{}})}),
/*!defClass(anvil.GoogleMap,Data)!*/
"GoogleMap.Data",[]),O((()=>google.maps.Data),r.Data),M(r,{fit_bounds:{},get_bounds:{},pan_by:{},pan_to:{},pan_to_bounds:{}}),r.add_component=o.funcWithKwargs((function(n,i,o){if(!o||!t(f(o,new d([r.AbstractOverlay,r.InfoWindow]))))throw new Sk.builtin.TypeError("Cannot add component. Only GoogleMap overlay components may be added to a GoogleMap instance.");return s(e.ClassicContainer.prototype.add_component,[i,o,n])}));var g=(t,n,r,i,a,l,s)=>{var c=o.mkComponentCls(e,t,{properties:i,events:a,base:n,locals(e){l&&(e.__new__=o.mkNew(n,l)),s&&s(e)}});return r&&(Object.defineProperty(c.prototype,"$google_map_type",{value:r,writable:!0}),O((()=>r),c)),c};r.AbstractOverlay=g("GoogleMap.AbstractOverlay",e.ClassicComponent,null,o.assembleGroupProperties(
/*!componentProps(anvil.GoogleMap.AbstractOverlay)!2*/
["mapOverlays"]),o.assembleGroupEvents("GoogleMap.AbstractOverlay",
/*!componentEvents(anvil.googleMap.AbstractOverlay)!1*/
["universal","mapOverlays"]),(t=>{if(t.$google_map_type){var n=t.$google_map_type();t._jsVal=new n,t._jsVal.addListener("click",(function(e){o.raiseEventAsync({lat_lng:E(e.latLng)},t,"click")})),t._jsVal.addListener("dblclick",(function(e){o.raiseEventAsync({lat_lng:E(e.latLng)},t,"dblclick")})),t._jsVal.addListener("drag",(function(e){o.raiseEventAsync({lat_lng:E(e.latLng)},t,"drag")})),t._jsVal.addListener("dragend",(function(e){o.raiseEventAsync({lat_lng:E(e.latLng)},t,"dragend")})),t._jsVal.addListener("dragstart",(function(e){o.raiseEventAsync({lat_lng:E(e.latLng)},t,"dragstart")})),t._jsVal.addListener("mousedown",(function(e){o.raiseEventAsync({lat_lng:E(e.latLng)},t,"mousedown")})),t._jsVal.addListener("mouseout",(function(e){o.raiseEventAsync({lat_lng:E(e.latLng)},t,"mouseout")})),t._jsVal.addListener("mouseover",(function(e){o.raiseEventAsync({lat_lng:E(e.latLng)},t,"mouseover")})),t._jsVal.addListener("mouseup",(function(e){o.raiseEventAsync({lat_lng:E(e.latLng)},t,"mouseup")})),t._jsVal.addListener("rightclick",(function(e){o.raiseEventAsync({lat_lng:E(e.latLng)},t,"rightclick")}))}return t._anvil.pageEvents={add(){if(!Sk.misceval.isTrue(Sk.builtin.isinstance(t._anvil.parent.pyObj,e.GoogleMap)))throw new Sk.builtin.TypeError("Map components can only be added to maps.");t._jsVal.setMap(t._anvil.parent.pyObj._jsVal)},remove(){t._jsVal.setMap(null)}},L(t)})),
/*!defClass(anvil.GoogleMap,AbstractOverlay,anvil.Component)!*/
r.Marker=g("GoogleMap.Marker",r.AbstractOverlay,(()=>google.maps.Marker),o.assembleGroupProperties(
/*!componentProps(anvil.GoogleMap.Marker)!2*/
[],{
/*!componentProp(anvil.GoogleMap.Marker)!1*/
animation:{name:"animation",type:"anvil.GoogleMap.Animation",important:!0,description:"The animation of this Marker.",pyVal:!0,mapProp:!0,set:o.mapSetter("animation",x),get:o.mapGetter("getAnimation",E)},
/*!componentProp(anvil.GoogleMap.Marker)!1*/
position:{name:"position",pyType:"anvil.GoogleMap.LatLng instance",important:!0,description:"The LatLng position of this Marker",pyVal:!0,mapProp:!0,set:o.mapSetter("position",x),get:o.mapGetter("getPosition",E)},
/*!componentProp(anvil.GoogleMap.Marker)!1*/
icon:{name:"icon",pyType:"anvil.GoogleMap.Symbol instance",description:"The icon to display at the position of this Marker.",pyVal:!0,mapProp:!0,set:o.mapSetter("icon",x),get:o.mapGetter("getIcon",E)},
/*!componentProp(anvil.GoogleMap.Marker)!1*/
label:{name:"label",pyType:"anvil.GoogleMap.MarkerLabel instance",description:"The label to display on this Marker.",pyVal:!0,mapProp:!0,set:o.mapSetter("label",x),get:o.mapGetter("getLabel",E)},
/*!componentProp(anvil.GoogleMap.Marker)!1*/
title:{name:"title",description:"The tooltip text for this Marker.",type:"string",mapProp:!0,set:o.mapSetter("title"),get:o.mapGetter("getTitle",E)},
/*!componentProp(anvil.GoogleMap.Marker)!1*/
cursor:{name:"cursor",description:"The cursor to display over this Marker.",type:"string",mapProp:!0,set:o.mapSetter("cursor"),get:o.mapGetter("getCursor",E)},
/*!componentProp(anvil.GoogleMap.Marker)!1*/
opacity:{name:"opacity",description:"The opacity of this Marker.",type:"number",mapProp:!0,set:o.mapSetter("opacity"),get:o.mapGetter("getOpacity",E)}}),o.assembleGroupEvents("GoogleMap.Marker",
/*!componentEvents(anvil.GoogleMap.Marker)!1*/
[]).concat(
/*!componentEvent(anvil.GoogleMap.Marker)!1*/
{name:"animation_changed",description:"When the animation of this Marker changes.",parameters:[]},
/*!componentEvent(anvil.GoogleMap.Marker)!1*/
{name:"clickable_changed",description:"When the 'clickable' property of this Marker changes.",parameters:[]},
/*!componentEvent(anvil.GoogleMap.Marker)!1*/
{name:"cursor_changed",description:"When the 'cursor' property of this Marker changes.",parameters:[]},
/*!componentEvent(anvil.GoogleMap.Marker)!1*/
{name:"draggable_changed",description:"When the 'draggable' property of this Marker changes.",parameters:[]},
/*!componentEvent(anvil.GoogleMap.Marker)!1*/
{name:"icon_changed",description:"When the 'icon' property of this Marker changes.",parameters:[]},
/*!componentEvent(anvil.GoogleMap.Marker)!1*/
{name:"position_changed",description:"When the position of this Marker changes, i.e. when it is moved.",parameters:[]},
/*!componentEvent(anvil.GoogleMap.Marker)!1*/
{name:"shape_changed",description:"When the 'shape' property of this Marker changes, i.e. when it is moved.",parameters:[]},
/*!componentEvent(anvil.GoogleMap.Marker)!1*/
{name:"title_changed",description:"When the 'title' property of this Marker changes, i.e. when it is moved.",parameters:[]},
/*!componentEvent(anvil.GoogleMap.Marker)!1*/
{name:"visible_changed",description:"When the 'visible' property of this Marker changes, i.e. when it is moved.",parameters:[]},
/*!componentEvent(anvil.GoogleMap.Marker)!1*/
{name:"z_index_changed",description:"When the 'z_index' property of this Marker changes, i.e. when it is moved.",parameters:[]}),(e=>{e._jsVal.addListener("animation_changed",(function(){o.raiseEventAsync({},e,"animation_changed")})),e._jsVal.addListener("clickable_changed",(function(){o.raiseEventAsync({},e,"clickable_changed")})),e._jsVal.addListener("cursor_changed",(function(){o.raiseEventAsync({},e,"cursor_changed")})),e._jsVal.addListener("draggable_changed",(function(){o.raiseEventAsync({},e,"draggable_changed")})),e._jsVal.addListener("icon_changed",(function(){o.raiseEventAsync({},e,"icon_changed")})),e._jsVal.addListener("position_changed",(function(){o.raiseEventAsync({},e,"position_changed")})),e._jsVal.addListener("shape_changed",(function(){o.raiseEventAsync({},e,"shape_changed")})),e._jsVal.addListener("title_changed",(function(){o.raiseEventAsync({},e,"title_changed")})),e._jsVal.addListener("visible_changed",(function(){o.raiseEventAsync({},e,"visible_changed")})),e._jsVal.addListener("zindex_changed",(function(){o.raiseEventAsync({},e,"z_index_changed")}))})),
/*!defClass(anvil.GoogleMap,Marker,anvil.GoogleMap.AbstractOverlay)!*/
r.Polyline=g("GoogleMap.Polyline",r.AbstractOverlay,(()=>google.maps.Polyline),o.assembleGroupProperties(
/*!componentProps(anvil.GoogleMap.Polyline)!2*/
["mapPolyOverlays"],{
/*!componentProp(anvil.GoogleMap.Polyline)!1*/
icons:{name:"icons",important:!0,description:"The icons to be rendered along the polyline.",pyVal:!0,mapProp:!0,set:o.mapSetter("icons",x)},
/*!componentProp(anvil.GoogleMap.Polyline)!1*/
path:{name:"path",pyType:"list(anvil.GoogleMap.LatLng instance)",important:!0,description:"The ordered sequence of LatLng coordinates of the Polyline.",pyVal:!0,mapProp:!0,set:o.mapSetter("path",x)},
/*!componentProp(anvil.GoogleMap.Polyline)!1*/
geodesic:{name:"geodesic",description:"When true, edges of the polygon are interpreted as geodesic and will follow the curvature of the Earth.",type:"boolean",defaultValue:!1,mapProp:!0,pyVal:!0,set:o.mapSetter("geodesic",t)}}),o.assembleGroupEvents("GoogleMap.Polyline",
/*!componentEvents(anvil.GoogleMap.Polyline)!1*/
[])),
/*!defClass(anvil.GoogleMap,Polyline,anvil.GoogleMap.AbstractOverlay)!*/
r.Polygon=g("GoogleMap.Polygon",r.AbstractOverlay,(()=>google.maps.Polygon),o.assembleGroupProperties(
/*!componentProps(anvil.GoogleMap.Polygon)!2*/
["mapPolyOverlays","mapAreaOverlays"],{
/*!componentProp(anvil.GoogleMap.Polygon)!1*/
path:{name:"path",pyType:"list(anvil.GoogleMap.LatLng instance)",important:!0,description:"The ordered sequence of LatLng coordinates of the Polygon.",pyVal:!0,mapProp:!0,set:o.mapSetter("path",x)},
/*!componentProp(anvil.GoogleMap.Polygon)!1*/
geodesic:{name:"geodesic",description:"When true, edges of the polygon are interpreted as geodesic and will follow the curvature of the Earth.",type:"boolean",defaultValue:Sk.builtin.bool.false$,pyVal:!0,mapProp:!0,set:o.mapSetter("geodesic",t)}}),o.assembleGroupEvents("GoogleMap.Polygon",
/*!componentEvents(anvil.GoogleMap.Polygon)!1*/
[])),
/*!defClass(anvil.GoogleMap,Polygon,anvil.GoogleMap.AbstractOverlay)!*/
r.Rectangle=g("GoogleMap.Rectangle",r.AbstractOverlay,(()=>google.maps.Rectangle),o.assembleGroupProperties(
/*!componentProps(anvil.GoogleMap.Rectangle)!2*/
["mapPolyOverlays","mapAreaOverlays"],{
/*!componentProp(anvil.GoogleMap.Rectangle)!1*/
bounds:{name:"bounds",pyType:"anvil.GoogleMap.LatLngBounds instance",important:!0,description:"The bounds of the Rectangle.",pyVal:!0,mapProp:!0,set:o.mapSetter("bounds",x),get:o.mapGetter("getBounds",E)}}),o.assembleGroupEvents("GoogleMap.Rectangle",
/*!componentEvents(anvil.GoogleMap.Rectangle)!1*/
[]).concat(
/*!componentEvent(anvil.GoogleMap.Rectangle)!1*/
{name:"bounds_changed",description:"When the bounds of this rectangle change, i.e. when it is moved or resized.",parameters:[]}),(e=>{e._jsVal.addListener("center_changed",(function(){o.raiseEventAsync({},e,"center_changed")})),e._jsVal.addListener("radius_changed",(function(){o.raiseEventAsync({},e,"radius_changed")}))})),
/*!defClass(anvil.GoogleMap,Rectangle,anvil.GoogleMap.AbstractOverlay)!*/
r.Circle=g("GoogleMap.Circle",r.AbstractOverlay,(()=>google.maps.Circle),o.assembleGroupProperties(
/*!componentProps(anvil.GoogleMap.Circle)!2*/
["mapPolyOverlays","mapAreaOverlays"],{
/*!componentProp(anvil.GoogleMap.Circle)!1*/
center:{name:"center",pyType:"anvil.GoogleMap.LatLng instance",important:!0,description:"The center of the Circle.",pyVal:!0,mapProp:!0,set:o.mapSetter("center",x),get:o.mapGetter("getCenter",E)},
/*!componentProp(anvil.GoogleMap.Circle)!1*/
radius:{name:"radius",type:"number",important:!0,description:"The radius of the Circle.",mapProp:!0,set:o.mapSetter("radius"),get:o.mapGetter("getRadius",E)}}),o.assembleGroupEvents("GoogleMap.Circle",
/*!componentEvents(anvil.GoogleMap.Circle)!1*/
[]).concat(
/*!componentEvent(anvil.GoogleMap.Circle)!1*/
{name:"center_changed",description:"When the center position of this circle changes, i.e. when it is moved.",parameters:[]},
/*!componentEvent(anvil.GoogleMap.Circle)!1*/
{name:"radius_changed",description:"When the radius of this circle changes, i.e. when it is resized.",parameters:[]}),(e=>{e._jsVal.addListener("center_changed",(function(){o.raiseEventAsync({},e,"center_changed")})),e._jsVal.addListener("radius_changed",(function(){o.raiseEventAsync({},e,"radius_changed")}))})),
/*!defClass(anvil.GoogleMap,Circle,anvil.GoogleMap.AbstractOverlay)!*/
r.InfoWindow=g("GoogleMap.InfoWindow",e.ClassicComponent,(()=>google.maps.InfoWindow),o.assembleGroupProperties(
/*!componentProps(anvil.GoogleMap.InfoWindow)!2*/
[],{
/*!componentProp(anvil.GoogleMap.InfoWindow)!1*/
content:{name:"content",pyType:"anvil.Component instance",pyVal:!0,important:!0,description:"Content to display in the InfoWindow. Can be a string or an Anvil Component",mapProp:!0,set(e,t,n){var r,i=e._anvil.pyHiddenContainer;return r=v(n)?n.toString():n.anvil$hooks.setupDom(),c(s(i.tp$getattr(_)),(()=>(e._jsVal.setOptions({content:r}),"string"==typeof r?p:s(i.tp$getattr(m),[n]))))},get(e,t){var n=e._jsVal.getContent();return"string"==typeof n?new u(n):$(n).data("anvil-py-component")||p}},
/*!componentProp(anvil.GoogleMap.InfoWindow)!1*/
disable_auto_pan:{name:"disable_auto_pan",description:"Disable auto-pan on open.",type:"boolean",defaultValue:Sk.builtin.bool.false$,pyVal:!0,mapProp:!0,set:o.mapSetter("disableAutoPan",t)},
/*!componentProp(anvil.GoogleMap.InfoWindow)!1*/
max_width:{name:"max_width",description:"Maximum width of the infowindow, regardless of content's width.",type:"number",mapProp:!0,set:o.mapSetter("maxWidth")},
/*!componentProp(anvil.GoogleMap.InfoWindow)!1*/
pixel_offset:{name:"pixel_offset",description:"The offset, in pixels, of the tip of the info window from the point on the map at whose geographical coordinates the info window is anchored.",pyType:"anvil.GoogleMap.Size instance",pyVal:!0,mapProp:!0,set:o.mapSetter("pixelOffset",x)},
/*!componentProp(anvil.GoogleMap.InfoWindow)!1*/
position:{name:"position",description:"The LatLng at which to display this InfoWindow. Not required if this popup is anchored to a component",pyType:"anvil.GoogleMap.LatLng instance",pyVal:!0,mapProp:!0,set:o.mapSetter("position",x)},
/*!componentProp(anvil.GoogleMap.InfoWindow)!1*/
z_index:{name:"z_index",description:"All InfoWindows are displayed on the map in order of their zIndex, with higher values displaying in front of InfoWindows with lower values.",type:"number",mapProp:!0,set:o.mapSetter("zIndex")}}),o.assembleGroupEvents("GoogleMap.InfoWindow",
/*!componentEvents(anvil.GoogleMap.InfoWindow)!1*/
["universal"]),(n=>(n._jsVal=new google.maps.InfoWindow,n._anvil.pyHiddenContainer=o.pyCall(e.ClassicContainer),n._anvil.pyHiddenContainer._anvil.overrideParentObj=n,n._anvil.pageEvents={add(){if(!t(f(n._anvil.parent.pyObj,e.GoogleMap)))throw new Sk.builtin.TypeError("Map components can only be added to maps.");n._jsVal.setMap(n._anvil.parent.pyObj._jsVal)},remove(){n._jsVal.setMap(null)}},n._jsVal.addListener("rightclick",(e=>{o.raiseEventAsync({lat_lng:E(e.latLng)},n,"rightclick")})),n._jsVal.addListener("closeclick",(()=>{o.asyncToPromise((()=>s(n.tp$getattr(h,[]))))})),L(n))),(e=>{M(e,{open:{callback(e){var t,n,r=null===(t=e._jsVal.getMap())||void 0===t?void 0:t._pyVal,i=null==r?void 0:r.tp$getattr(m);if(i){var o=null===(n=e._anvil.parent)||void 0===n?void 0:n.pyObj;if(!o||o!==r)return c(o&&s(e.tp$getattr(h,[])),(()=>s(i,[e])))}}},close:{callback:e=>s(e.tp$getattr(h,[]))}}),e.get_components=new l((e=>n(e._anvil.pyHiddenContainer.tp$getattr(a))))})),
/*!defClass(anvil.GoogleMap,InfoWindow,anvil.Component)!*/
r.geocode=new Sk.builtin.staticmethod(o.funcWithRawKwargsDict((function(t){var n=new google.maps.Geocoder;return o.suspensionPromise((function(r,i){window.googleMapsAuthFailure?i("Google Maps authorization failed - is the API key invalid?"):n.geocode(A(t),(function(t,n){if("OK"==n){var o=[];for(var a in t){var l=[],s=[];for(var c in t[a].address_components){var p=t[a].address_components[c],u=[Sk.ffi.toPy("long_name"),E(p.long_name),Sk.ffi.toPy("short_name"),E(p.short_name),Sk.ffi.toPy("types"),E(p.types)],d=Sk.misceval.call(e.GoogleMap.prototype.GeocoderAddressComponent,void 0,void 0,u);s.push(d)}l.push(Sk.ffi.toPy("address_components")),l.push(new Sk.builtin.list(s)),l.push(Sk.ffi.toPy("formatted_address")),l.push(E(t[a].formatted_address));var f=[Sk.ffi.toPy("bounds"),E(t[a].geometry.bounds),Sk.ffi.toPy("location"),E(t[a].geometry.location),Sk.ffi.toPy("location_type"),E(t[a].geometry.location_type),Sk.ffi.toPy("viewport"),E(t[a].geometry.viewport)];l.push(Sk.ffi.toPy("geometry")),l.push(Sk.misceval.call(e.GoogleMap.prototype.GeocoderGeometry,void 0,void 0,f)),l.push(Sk.ffi.toPy("partial_match")),l.push(E(t[a].partial_match)),l.push(Sk.ffi.toPy("place_id")),l.push(E(t[a].place_id)),l.push(Sk.ffi.toPy("postcode_localities")),l.push(E(t[a].postcode_localities)),l.push(Sk.ffi.toPy("types")),l.push(E(t[a].types));var v=Sk.misceval.call(e.GoogleMap.prototype.GeocoderResult,void 0,void 0,l);o.push(v)}r(new Sk.builtin.list(o))}else i("Geocode failed: "+n)}))}))}))),r.compute_area=new Sk.builtin.staticmethod(new Sk.builtin.func((function(e){return E(google.maps.geometry.spherical.computeArea(x(e)))}))),r.compute_length=new Sk.builtin.staticmethod(new Sk.builtin.func((function(e){return E(google.maps.geometry.spherical.computeLength(x(e)))})))},properties:o.assembleGroupProperties(
/*!componentProps(GoogleMap)!1*/
["layout","layout_margin","height","visibility","user data"],{
/*!componentProp(GoogleMap)!1*/
map_data:{name:"map_data",pyVal:!0,type:"object",pyType:"anvil.GoogleMap.Data instance",description:"Map data",hideFromDesigner:!0,mapProp:!0,set(e,t,n){e._jsVal.data=x(n)},get:(e,t)=>e._jsVal?E(e._jsVal.data):Sk.builtin.none.none$},
/*!componentProp(GoogleMap)!1*/
background_color:{name:"background_color",description:"Color used for the background of the Map div. This color will be visible when tiles have not yet loaded as the user pans.",type:"string",defaultValue:Sk.builtin.str.$empty,pyVal:!0,mapProp:!0,set:o.mapSetter("backgroundColor",String)},
/*!componentProp(GoogleMap)!1*/
center:{name:"center",description:"The Map center.",hideFromDesigner:!0,type:"object",pyType:"anvil.GoogleMap.LatLng instance",pyVal:!0,mapProp:!0,set:o.mapSetter("center",x),get:o.mapGetter("getCenter",E)},
/*!componentProp(GoogleMap)!1*/
clickable_icons:{name:"clickable_icons",description:"When false, map icons are not clickable. A map icon represents a point of interest",type:"boolean",defaultValue:Sk.builtin.bool.true$,pyVal:!0,mapProp:!0,set:o.mapSetter("clickableIcons",t)},
/*!componentProp(GoogleMap)!1*/
disable_default_ui:{name:"disable_default_ui",description:"Enables/disables all default UI.",type:"boolean",defaultValue:Sk.builtin.bool.false$,pyVal:!0,mapProp:!0,set:o.mapSetter("disableDefaultUI",t)},
/*!componentProp(GoogleMap)!1*/
disable_double_click_zoom:{name:"disable_double_click_zoom",description:"Enables/disables zoom and center on double click.",type:"boolean",defaultValue:Sk.builtin.bool.false$,pyVal:!0,mapProp:!0,set:o.mapSetter("disableDoubelClickZoom",t)},
/*!componentProp(GoogleMap)!1*/
draggable:{name:"draggable",description:"If false, prevents the map from being dragged.",type:"boolean",defaultValue:Sk.builtin.bool.true$,pyVal:!0,mapProp:!0,set:o.mapSetter("draggable",t)},
/*!componentProp(GoogleMap)!1*/
draggable_cursor:{name:"draggable_cursor",description:"The name or url of the cursor to display when mousing over a draggable map.",type:"string",defaultValue:new Sk.builtin.str("auto"),pyVal:!0,mapProp:!0,set:o.mapSetter("draggableCursor",String)},
/*!componentProp(GoogleMap)!1*/
dragging_cursor:{name:"dragging_cursor",description:"The name or url of the cursor to display when the map is being dragged.",type:"string",defaultValue:new Sk.builtin.str("auto"),pyVal:!0,mapProp:!0,set:o.mapSetter("draggingCursor",String)},
/*!componentProp(GoogleMap)!1*/
fullscreen_control:{name:"fullscreen_control",description:"The enabled/disabled state of the Fullscreen control.",type:"boolean",defaultValue:Sk.builtin.bool.true$,pyVal:!0,mapProp:!0,set:o.mapSetter("fullscreenControl",t)},
/*!componentProp(GoogleMap)!1*/
fullscreen_control_options:{name:"fullscreen_control_options",description:"The display options for the Fullscreen control.",hideFromDesigner:!0,type:"object",pyType:"anvil.GoogleMap.FullscreenControlOptions instance",pyVal:!0,mapProp:!0,set:o.mapSetter("fullscreenControlOptions",x)},
/*!componentProp(GoogleMap)!1*/
gesture_handling:{name:"gesture_handling",description:"This setting controls how gestures on the map are handled.",type:"string",defaultValue:new Sk.builtin.str("auto"),pyVal:!0,mapProp:!0,set:o.mapSetter("gestureHandling",String)},
/*!componentProp(GoogleMap)!1*/
heading:{name:"heading",description:"The heading for aerial imagery in degrees measured clockwise from cardinal direction North. ",type:"number",defaultValue:new Sk.builtin.int_(0),pyVal:!0,mapProp:!0,set:o.mapSetter("heading",(e=>t(e)?e:0)),get:(e,t)=>o.mapGetter("getHeading",E)(e,t)},
/*!componentProp(GoogleMap)!1*/
keyboard_shortcuts:{name:"keyboard_shortcuts",description:"If false, prevents the map from being controlled by the keyboard.",type:"boolean",defaultValue:Sk.builtin.bool.true$,pyVal:!0,mapProp:!0,set:o.mapSetter("keyboardShortcuts",t)},
/*!componentProp(GoogleMap)!1*/
map_type_control:{name:"map_type_control",description:"The enabled/disabled state of the Map type control.",type:"boolean",defaultValue:Sk.builtin.bool.true$,pyVal:!0,mapProp:!0,set:o.mapSetter("mapTypeControl",t)},
/*!componentProp(GoogleMap)!1*/
map_type_control_options:{name:"map_type_control_options",description:"The display options for the Map type control.",hideFromDesigner:!0,type:"object",pyType:"anvil.GoogleMap.MapTypeControlOptions instance",pyVal:!0,mapProp:!0,set:o.mapSetter("mapTypeControlOptions",x)},
/*!componentProp(GoogleMap)!1*/
map_type_id:{name:"map_type_id",description:"The map type ID. Defaults to MapTypeId.ROADMAP",hideFromDesigner:!0,type:"object",pyType:"anvil.GoogleMap.MapTypeId",pyVal:!0,mapProp:!0,set:o.mapSetter("mapTypeId",x)},
/*!componentProp(GoogleMap)!1*/
max_zoom:{name:"max_zoom",description:"The maximum zoom level which will be displayed on the map.",type:"number",defaultValue:new Sk.builtin.int_(18),pyVal:!0,mapProp:!0,set:o.mapSetter("maxZoom",x)},
/*!componentProp(GoogleMap)!1*/
min_zoom:{name:"min_zoom",description:"The minimum zoom level which will be displayed on the map.",type:"number",defaultValue:new Sk.builtin.int_(0),pyVal:!0,mapProp:!0,set:o.mapSetter("minZoom",x)},
/*!componentProp(GoogleMap)!1*/
rotate_control:{name:"rotate_control",description:"The enabled/disabled state of the rotate control.",type:"boolean",defaultValue:Sk.builtin.bool.true$,pyVal:!0,mapProp:!0,set:o.mapSetter("rotateControl",t)},
/*!componentProp(GoogleMap)!1*/
rotate_control_options:{name:"rotate_control_options",description:"The display options for the rotate control.",hideFromDesigner:!0,type:"object",pyType:"anvil.GoogleMap.RotateControlOptions instance",pyVal:!0,mapProp:!0,set:o.mapSetter("rotateControlOptions",x)},
/*!componentProp(GoogleMap)!1*/
scale_control:{name:"scale_control",description:"The enabled/disabled state of the scale control.",type:"boolean",defaultValue:Sk.builtin.bool.true$,pyVal:!0,mapProp:!0,set:o.mapSetter("scaleControl",t)},
/*!componentProp(GoogleMap)!1*/
scale_control_options:{name:"scale_control_options",description:"The display options for the scale control.",hideFromDesigner:!0,type:"object",pyType:"anvil.GoogleMap.ScaleControlOptions instance",pyVal:!0,mapProp:!0,set:o.mapSetter("scaleControlOptions",x)},
/*!componentProp(GoogleMap)!1*/
scroll_wheel:{name:"scroll_wheel",description:"If false, disables scrollwheel zooming on the map.",type:"boolean",defaultValue:Sk.builtin.bool.true$,pyVal:!0,mapProp:!0,set:o.mapSetter("scaleControl",t)},
/*!componentProp(GoogleMap)!1*/
street_view_control:{name:"street_view_control",description:"The enabled/disabled state of the street view control.",type:"boolean",defaultValue:Sk.builtin.bool.true$,pyVal:!0,mapProp:!0,set:o.mapSetter("streetViewControl",t)},
/*!componentProp(GoogleMap)!1*/
street_view_control_options:{name:"street_view_control_options",description:"The display options for the street view control.",hideFromDesigner:!0,type:"object",pyType:"anvil.GoogleMap.StreetViewControlOptions instance",pyVal:!0,mapProp:!0,set:o.mapSetter("streetViewControlOptions",x)},
/*!componentProp(GoogleMap)!1*/
zoom:{name:"zoom",description:"The map zoom level.",type:"number",defaultValue:new Sk.builtin.int_(2),pyVal:!0,mapProp:!0,set:o.mapSetter("zoom",(e=>t(e)?x(e):2)),get:(e,t)=>o.mapGetter("getZoom",E)(e,t)},
/*!componentProp(GoogleMap)!1*/
zoom_control:{name:"zoom_control",description:"The enabled/disabled state of the zoom control.",type:"boolean",defaultValue:Sk.builtin.bool.true$,pyVal:!0,mapProp:!0,set:o.mapSetter("zoomControl",t)},
/*!componentProp(GoogleMap)!1*/
zoom_control_options:{name:"zoom_control_options",description:"The display options for the zoom control.",hideFromDesigner:!0,type:"object",pyType:"anvil.GoogleMap.ZoomControlOptions instance",pyVal:!0,mapProp:!0,set:o.mapSetter("zoomControlOptions",x)}}),events:o.assembleGroupEvents(
/*!componentEvents()!2*/
"GoogleMap",["universal"],{
/*!componentEvent(GoogleMap)!1*/
bounds_changed:{name:"bounds_changed",description:"when the viewport bounds have changed.",parameters:[],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
center_changed:{name:"center_changed",description:"when the map center property changes.",parameters:[],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
click:{name:"click",description:"when the user clicks on the map.",parameters:[{name:"lat_lng",description:"The position that was clicked.",important:!0,pyVal:!0},{name:"pixel",description:"The position that was clicked.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
dbl_click:{name:"dbl_click",description:"when the user double-clicks on the map.",parameters:[{name:"lat_lng",description:"The position that was double-clicked.",important:!0,pyVal:!0},{name:"pixel",description:"The position that was double-clicked.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
drag:{name:"drag",description:"This event is repeatedly fired while the user drags the map.",parameters:[],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
dragend:{name:"dragend",description:"when the user stops dragging the map.",parameters:[],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
dragstart:{name:"dragstart",description:"when the user starts dragging the map.",parameters:[],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
heading_changed:{name:"heading_changed",description:"when the map heading property changes.",parameters:[],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
idle:{name:"idle",description:"when the map becomes idle after panning or zooming.",parameters:[],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
maptypeid_changed:{name:"maptypeid_changed",description:"when the mapTypeId property changes.",parameters:[],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
mousemove:{name:"mousemove",description:"whenever the user's mouse moves over the map container.",parameters:[{name:"lat_lng",description:"The position of the cursor.",important:!0,pyVal:!0},{name:"pixel",description:"The position of the cursor.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
mouseout:{name:"mouseout",description:"when the user's mouse exits the map container.",parameters:[{name:"lat_lng",description:"The position of the cursor.",important:!0,pyVal:!0},{name:"pixel",description:"The position of the cursor.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
mouseover:{name:"mouseover",description:"when the user's mouse enters the map container.",parameters:[{name:"lat_lng",description:"The position of the cursor.",important:!0,pyVal:!0},{name:"pixel",description:"The position of the cursor.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
projection_changed:{name:"projection_changed",description:"when the projection has changed.",parameters:[],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
rightclick:{name:"rightclick",description:"when the user right-clicks on the map container.",parameters:[{name:"lat_lng",description:"The position that was right-clicked.",important:!0,pyVal:!0},{name:"pixel",description:"The position that was right-clicked.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
tilesloaded:{name:"tilesloaded",description:"when the visible tiles have finished loading.",parameters:[],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
tilt_changed:{name:"tilt_changed",description:"when the map tilt property changes.",parameters:[],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
zoom_changed:{name:"zoom_changed",description:"when the map zoom property changes.",parameters:[],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
data_addfeature:{name:"data_addfeature",description:"when the viewport bounds have changed.",parameters:[{name:"feature",description:"The feature that was added.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
data_click:{name:"data_click",description:"for a click on the geometry.",parameters:[{name:"feature",description:"The feature that was clicked.",important:!0,pyVal:!0},{name:"lat_lng",description:"The position that was clicked.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
data_dbl_click:{name:"data_dbl_click",description:"for a double click on the geometry.",parameters:[{name:"feature",description:"The feature that was double-clicked.",important:!0,pyVal:!0},{name:"lat_lng",description:"The position that was double-clicked.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
data_mousedown:{name:"data_mousedown",description:"for a mousedown on the geometry.",parameters:[{name:"feature",description:"The feature the mouse is over.",important:!0,pyVal:!0},{name:"lat_lng",description:"The position of the cursor.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
data_mouseout:{name:"data_mouseout",description:"when the mouse leaves the area of the geometry.",parameters:[{name:"feature",description:"The feature the mouse left.",important:!0,pyVal:!0},{name:"lat_lng",description:"The position of the cursor.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
data_mouseover:{name:"data_mouseover",description:"when the mouse enters the area of the geometry.",parameters:[{name:"feature",description:"The feature the mouse is over.",important:!0,pyVal:!0},{name:"lat_lng",description:"The position of the cursor.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
data_mouseup:{name:"data_mouseup",description:"for a mouseup on the geometry.",parameters:[{name:"feature",description:"The feature the mouse is over.",important:!0,pyVal:!0},{name:"lat_lng",description:"The position of the cursor.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
data_removefeature:{name:"data_removefeature",description:"when a feature is removed from the collection.",parameters:[{name:"feature",description:"The feature that was removed.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
data_removeproperty:{name:"data_removeproperty",description:"when a feature's property is removed.",parameters:[{name:"feature",description:"The feature whose property was removed.",important:!0,pyVal:!0},{name:"name",description:"The name of the property that was removed.",important:!0,pyVal:!0},{name:"old_value",description:"The old value of the property that was removed.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
data_rightclick:{name:"data_rightclick",description:"for a right-click on the geometry.",parameters:[{name:"feature",description:"The feature that was right-clicked.",important:!0,pyVal:!0},{name:"lat_lng",description:"The position that was right-clicked.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
data_setgeometry:{name:"data_setgeometry",description:"when a feature's geometry is set.",parameters:[{name:"feature",description:"The feature that was removed.",important:!0,pyVal:!0},{name:"new_geometry",description:"The geometry that was set.",important:!0,pyVal:!0},{name:"old_geometry",description:"The geometry that was replaced.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
data_setproperty:{name:"data_setproperty",description:"when a feature's property is set.",parameters:[{name:"feature",description:"The feature whose property was set.",important:!0,pyVal:!0},{name:"name",description:"The name of the property that was set.",important:!0,pyVal:!0},{name:"new_value",description:"The new value of the property that was set.",important:!0,pyVal:!0},{name:"old_value",description:"The old value of the property that was set.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0}})});var I=e.GoogleMap.tp$getattr;e.GoogleMap.tp$getattr=function(t,n){return n?C((()=>(delete e.GoogleMap.tp$getattr,this.tp$getattr(t,n)))):I.call(this,t,n)},
/*!defClass(anvil,GoogleMap,Container)!*/
O((()=>google.maps.Map),e.GoogleMap)}},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){i(a,r,o,l,s,"next",e)}function s(e){i(a,r,o,l,s,"throw",e)}l(void 0)}))}}n(0),n(9),n(3),n(2);var a=n(1),{PostponedResizeObserver:l}=n(27),{pyLazyMod:s,datetimeMod:c}=n(6),{appendSvgSpinner:p,SpinnerLoader:u}=n(174),{pyCall:d,toPy:f}=n(4);e.exports=e=>{var t,n=s("plotly.graph_objs"),i=s("anvil.util"),v=c.date,m=c.datetime,h=e=>null==e?null:a.remapToJs(e,(e=>{if(e instanceof v||e instanceof m)return e.toString()})),_={none:{},default:"none"};function g(){return(g=o((function*(e){var t=yield fetch("".concat(window.anvilAppOrigin,"/_/static/runtime/js/lib/templates/").concat(e,".json"));return yield t.json()}))).apply(this,arguments)}function y(e){Object.defineProperty(_,e,{get(){var t=this;return delete this[e],this[e]=new Promise(function(){var n=o((function*(n){try{n(t[e]=yield function(e){return g.apply(this,arguments)}(e))}catch(r){console.error(r),n(t[e]={})}}));return function(e){return n.apply(this,arguments)}}())},enumerable:!0,configurable:!0})}function b(e){var n,r=window.anvilAppOrigin+"/_/static/runtime/js/lib/plotly-latest.min.js?buildTime=1738581495889";null!==(n=t)&&void 0!==n||(t=a.loadScript(r));var i=e._anvil.spinnerLoader;return a.withDelayPrint(i.withIndicator(t))}["plotly","plotly_white","plotly_dark","presentation","ggplot2","seaborn","simple_white","gridon","xgridoff","ygridoff"].forEach(y),["rally","material_light","material_dark"].forEach(y),e.Plot=a.mkComponentCls(e,"Plot",{properties:a.assembleGroupProperties(
/*!componentProps(Plot)!2*/
["layout","layout_margin","height","visibility","tooltip","user data"],{height:{defaultValue:new Sk.builtin.int_(450)},data:
/*!componentProp(Plot)!1*/
{name:"data",pyVal:!0,type:"object",description:"Plot traces",hideFromDesigner:!0,suggested:!0,initialize:!0,set:(e,t,n)=>(n instanceof Sk.builtin.dict?e._anvil.props.data=d(i.WrappedList,[new Sk.builtin.list([n])]):n instanceof i.WrappedList?e._anvil.props.data=n:e._anvil.props.data=d(i.WrappedList,[n]),T(e)),get:(e,t)=>(e._anvil.props.data=e._anvil.props.data||d(i.WrappedList),e._anvil.props.data)},layout:
/*!componentProp(Plot)!1*/
{name:"layout",pyVal:!0,type:"object",pyType:"plotly.graph_objs.Layout instance",description:"Plot layout",hideFromDesigner:!0,initialize:!0,set:(e,t,r)=>(r instanceof i.WrappedObject?e._anvil.props.layout=r:e._anvil.props.layout=d(n.Layout,[r]),T(e)),get:(e,t)=>(e._anvil.props.layout=e._anvil.props.layout||d(n.Layout,[f({template:{}})]),e._anvil.props.layout)},config:
/*!componentProp(Plot)!1*/
{name:"config",pyVal:!0,type:"dict",description:"Plot config",hideFromDesigner:!0,initialize:!0,set:(e,t,n)=>(e._anvil.props.config=n,T(e)),get:(e,t)=>(e._anvil.props.config=e._anvil.props.config||f({}),e._anvil.props.config)},figure:
/*!componentProp(Plot)!1*/
{name:"figure",pyVal:!0,type:"dict",description:"The Plotly figure to display. Specifies layout and data.",hideFromDesigner:!0,initialize:!0,set:(e,t,r)=>(r instanceof i.WrappedObject||(r=d(n.Figure,[r])),e._anvil.props.layout=d(n.Layout,[r.tp$getattr(new Sk.builtin.str("layout"))]),e._anvil.setProp("data",r.tp$getattr(new Sk.builtin.str("data")))),get:(e,t)=>d(n.Figure,[f({layout:e._anvil.getProp("layout"),data:e._anvil.getProp("data")})])},interactive:
/*!componentProp(Plot)!1*/
{name:"interactive",type:"boolean",description:"Whether this plot should be interactive",defaultValue:Sk.builtin.bool.true$,pyVal:!0,set:(e,t,n)=>T(e)}}),events:a.assembleGroupEvents("Plot",
/*!componentEvents(Plot)!1*/
["universal"],{click:
/*!componentEvent(Plot)!1*/
{name:"click",description:"when a data point is clicked.",parameters:[{name:"points",description:"A list of the data points that were clicked.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},double_click:
/*!componentEvent(Plot)!1*/
{name:"double_click",description:"when the plot is double-clicked.",parameters:[],important:!0,defaultEvent:!1},afterplot:
/*!componentEvent(Plot)!1*/
{name:"afterplot",description:"after then plot is redrawn.",parameters:[],important:!0,defaultEvent:!1},select:
/*!componentEvent(Plot)!1*/
{name:"select",description:"when a data point is selected.",parameters:[{name:"points",description:"A list of the data points that were selected.",important:!0,pyVal:!0}],important:!0,defaultEvent:!1},hover:
/*!componentEvent(Plot)!1*/
{name:"hover",description:"when a data point is hovered.",parameters:[{name:"points",description:"A list of the data points that were hovered.",important:!0,pyVal:!0}],important:!0,defaultEvent:!1},unhover:
/*!componentEvent(Plot)!1*/
{name:"unhover",description:"when a data point is unhovered.",parameters:[{name:"points",description:"A list of the data points that were unhovered.",important:!0,pyVal:!0}],important:!0,defaultEvent:!1}}),element:e=>a.h(a.OuterElement,r({className:"anvil-plot"},e),a.h("div",{refName:"spinner",className:"plotly-loading-spinner anvil-spinner",style:"opacity:0"})),locals(t){t.__new__=a.mkNew(e.ClassicComponent,(e=>{e._anvil.plotlyUpdated=!1,e._anvil.initialized=!1,p(e._anvil.elements.spinner),e._anvil.spinnerLoader=u.getOrCreate(e._anvil.elements.spinner);var t=new l((()=>{e._anvil.onPage&&function(e){if("undefined"==typeof Plotly||!e._anvil.plotlyUpdated)return;var t=e._anvil.element.width(),n=e._anvil.element.height();try{Plotly.relayout(e._anvil.domNode,{width:t,height:n})}catch(e){console.warn(e)}}(e)}));e._anvil.pageEvents={add:()=>(e._anvil.initialized=!0,t.observe(e._anvil.domNode),T(e)),remove(){t.disconnect()}}})),t.templates=Sk.ffi.proxy(new Proxy(_,{get(e,t){var n=e[t];return n instanceof Promise?Sk.misceval.promiseToSuspension(n):n},set:(e,t,n)=>(e[t]=n,!0)})),t.redraw=new Sk.builtin.func((function(e){return T(e)})),t.extend_traces=new Sk.builtin.func((function(e,t,n){return b(e).then((()=>Plotly.extendTraces(e._anvil.domNode,h(t),h(n)))),Sk.builtin.none.none$})),t.prepend_traces=new Sk.builtin.func((function(e,t,n){return b(e).then((()=>Plotly.prependTraces(e._anvil.domNode,h(t),h(n)))),Sk.builtin.none.none$})),t.restyle=new Sk.builtin.func((function(e,t,n){return b(e).then((()=>Plotly.restyle(e._anvil.domNode,h(t),n?h(n):void 0))),Sk.builtin.none.none$})),t.relayout=new Sk.builtin.func((function(e,t){return b(e).then((()=>Plotly.relayout(e._anvil.domNode,h(t)))),Sk.builtin.none.none$})),t.to_image=new Sk.builtin.func((function(t,n){return a.suspensionFromPromise(b(t).then((()=>Plotly.toImage(t._anvil.domNode,n?h(n):{format:"png"}))).then((t=>d(e.URLMedia,[f(t)]))))}))}});var k=(e,t)=>{var n={};for(var r of t||[])if("string"==typeof r)r in e&&(n[r]=e[r]);else for(var i in r){i in e&&(n[r[i]]=e[i]);break}return n},S=(e,t)=>(a.raiseEventAsync({points:f(t.points.map((e=>k(e,[{curveNumber:"curve_number"},{pointNumber:"point_number"},{pointNumbers:"point_numbers"},"x","y","z","lat","lon"]))))},e,"click"),!1),w=e=>(a.raiseEventAsync({},e,"double_click"),!1),C=(e,t)=>(a.raiseEventAsync({points:f(t?t.points.map((e=>k(e,[{curveNumber:"curve_number"},{pointNumber:"point_number"},{pointNumbers:"point_numbers"},"x","y","z","lat","lon"]))):[])},e,"select"),!1),O=(e,t)=>(a.raiseEventAsync({points:f(t.points.map((e=>k(e,[{curveNumber:"curve_number"},{pointNumber:"point_number"},{pointNumbers:"point_numbers"},"x","y","z","lat","lon"]))))},e,"hover"),!1),P=(e,t)=>(a.raiseEventAsync({points:t&&f(t.points.map((e=>k(e,[{curveNumber:"curve_number"},{pointNumber:"point_number"},{pointNumbers:"point_numbers"},"x","y","z","lat","lon"]))))},e,"unhover"),!1),x=e=>(a.raiseEventAsync({},e,"afterplot"),!1);function T(e){if(!function(e){return!e._anvil.initialized||!e._anvil.props.layout&&!e._anvil.props.data}(e)){var t=function(e){var t=h(e._anvil.props.layout)||{};return t.height=e._anvil.element.height(),t.width=e._anvil.element.width(),t}(e),n=h(e._anvil.props.data)||[],r=h(e._anvil.props.config)||{displayLogo:!1,displaylogo:!1,staticPlot:!e._anvil.getPropJS("interactive")};return a.withDelayPrint(b(e).then((function(){return i.apply(this,arguments)})).then((()=>{var i=e._anvil.domNode;Plotly.react(i,n,t,r),e._anvil.plotlyUpdated||(i.on("plotly_click",S.bind(null,e)),i.on("plotly_doubleclick",w.bind(null,e)),i.on("plotly_selected",C.bind(null,e)),i.on("plotly_hover",O.bind(null,e)),i.on("plotly_unhover",P.bind(null,e)),i.on("plotly_afterplot",x.bind(null,e))),e._anvil.plotlyUpdated=!0}))),Sk.builtin.none.none$}function i(){return(i=o((function*(){var e=t.template&&Object.keys(t.template).length>0?t.template:_.default;if("string"==typeof e)try{e=Sk.ffi.toJs(yield _[e]),t.template=e}catch(e){console.warn(e)}}))).apply(this,arguments)}}}},function(e,t,n){"use strict";n(0),n(19),n(2);var r=n(31),i=n(10),o=n(56);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var l=n(1);e.exports=e=>{e.LinearPanel=l.mkComponentCls(e,"LinearPanel",{base:e.ClassicContainer,properties:l.assembleGroupProperties(
/*!componentProps(LinearPanel)!1*/
["layout","layout_spacing","containers","appearance","tooltip","user data"]),events:l.assembleGroupEvents("linear panel",
/*!componentEvents(LinearPanel)!1*/
["universal"]),element:e=>l.h(l.OuterElement,a({className:"anvil-container"},e),l.h("ul",{refName:"lpul",className:"".concat((0,i.getCssPrefix)(),"linear-panel")})),locals(t){var n=()=>l.h("li",null);
/*!defMethod(_,component,[index=None])!2*/t.add_component=l.funcWithKwargs((function(t,i,a){var s;(0,r.validateChild)(a);var c=t.index;return Sk.misceval.chain(a.anvil$hooks.setupDom(),(r=>{if((0,o.isInvisibleComponent)(a))return e.ClassicContainer._doAddComponent(i,a);[s]=l.h(n,null),s.appendChild(r);var p=i._anvil.elements.lpul,u=p.children;return"number"==typeof c&&c<u.length?p.insertBefore(s,p.children[c]):p.appendChild(s),e.ClassicContainer._doAddComponent(i,a,t,{detachDom(){$(r).detach(),s.remove()}})}))}))}})}},function(e,t,n){"use strict";n(0),n(17),n(19),n(3),n(38),n(37),n(2);var r=n(10),i=n(4),o=n(115),a=n(26),l=n(6);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var c=n(1),{pyCall:p}=n(1);e.exports=(e,t)=>{var{checkNone:n,checkString:p}=Sk.builtin,{isTrue:u}=Sk.misceval;e.RepeatingPanel=c.mkComponentCls(e,"RepeatingPanel",{properties:c.assembleGroupProperties(
/*!componentProps(RepeatingPanel)!2*/
["appearance","layout","layout_margin","tooltip","user data"],{item_template:
/*!componentProp(RepeatingPanel)!1*/
{name:"item_template",type:"form",defaultValue:Sk.builtin.none.none$,exampleValue:"Form1",description:"The name of the form to repeat for every item",pyVal:!0,set:(e,t,n)=>h(e,(()=>2===window.anvilRuntimeVersion?_(e,t,n):g(e,n))),important:!0},items:
/*!componentProp(RepeatingPanel)!1*/
{name:"items",type:"object",pyVal:!0,defaultValue:Sk.builtin.none.none$,dataBindingProp:!0,suggested:!0,description:"A list of items for which the 'item_template' will be instantiated.",set:(e,t,n)=>h(e,(()=>y(e,t,n)))}}),events:c.assembleGroupEvents("RepeatingPanel",
/*!componentEvents(RepeatingPanel)!1*/
["universal"]),element:e=>{var t=(0,r.getCssPrefix)();return c.h(c.OuterElement,s({className:"anvil-designer-component-namespace ".concat(t,"repeating-panel")},e),c.h("div",{refName:"items",className:"".concat(t,"hide-while-paginating")}))},locals(n){n.__new__=c.mkNew(e.ClassicComponent,(n=>{n._anvil.itemsElement=$(n._anvil.elements.items),n._anvil.pyHiddenContainer=c.pyCall(e.ClassicContainer),n._anvil.pyHiddenContainer._anvil.overrideParentObj=n,n._anvil.itemCache=[],n._anvil.componentCache=[];var r,i,o=t.newPythonComponent.dependencyTrace;(null==o?void 0:o.depId)&&(n._anvil.defaultAppPackage=null===(r=window.anvilAppDependencies)||void 0===r||null===(i=r[o.depId])||void 0===i?void 0:i.package_name);return n._anvil.pagination={startAfter:null,rowQuota:1/0},n._anvil.itemsCounter=0,n._anvil.lastPagination=[],n._anvil.paginate=v.bind(n,n),Sk.misceval.chain(n._anvil.setProp("items",n._anvil.props.items),(()=>n._anvil.setProp("item_template",n._anvil.props.item_template)))})),n.get_components=new Sk.builtin.func((function(e){return c.pyCall(e._anvil.pyHiddenContainer.tp$getattr(new Sk.builtin.str("get_components")))})),n.raise_event_on_children=c.funcFastCall((function(e,t){var[n,r]=e;return c.pyCallOrSuspend(n._anvil.pyHiddenContainer.tp$getattr(new Sk.builtin.str("raise_event_on_children")),[r],t)})),n.__serialize__=c.mkSerializePreservingIdentity((e=>{var t,n=[];return Object.entries(e._anvil.props).forEach((e=>{var[t,r]=e;n.push(new Sk.builtin.str(t),r)})),n.push(new Sk.builtin.str("_default_app_package"),Sk.ffi.toPy(null!==(t=e._anvil.defaultAppPackage)&&void 0!==t?t:null)),new Sk.builtin.dict(n)})),n.__new_deserialized__=c.mkNewDeserializedPreservingIdentity(((e,t)=>{var n=t.tp$getattr(new Sk.builtin.str("pop"));e._anvil.defaultAppPackage=c.pyCall(n,[new Sk.builtin.str("_default_app_package"),Sk.builtin.none.none$]).valueOf(),c.setAttrsFromDict(e,t)}))}});var d=(e,t)=>{var n,r;if(e._anvil.pyIterator)return null!==(r=(n=e._anvil).itemCache)&&void 0!==r||(n.itemCache=[]),t<e._anvil.itemCache.length?e._anvil.itemCache[t]:Sk.misceval.chain(Sk.misceval.iterFor(e._anvil.pyIterator,((n,r)=>(e._anvil.itemCache.push(n),r>=t?new Sk.misceval.Break:r+1)),e._anvil.itemCache.length),(()=>e._anvil.itemCache[t]))},f=(e,t)=>{if(!n(t)){var r=!1;return Sk.misceval.iterArray(e._anvil.lastPagination,(e=>{var[,,,n]=e;if(r||n===t)return r=!0,c.pyCallOrSuspend(n.tp$getattr(new Sk.builtin.str("remove_from_parent")))}))}},v=function(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var l=(0,r.getCssPrefix)();if(null==o||null===(n=o._anvil)||void 0===n?void 0:n.pagination){var s=t._anvil.lastPagination.findIndex((e=>{var[,,,t]=e;return t==o}));t._anvil.lastPagination[s][1]=o._anvil.pagination.rowsDisplayed,t._anvil.pagination.startAfter&&t._anvil.pagination.startAfter[0]===s&&(t._anvil.pagination.startAfter[2]=o._anvil.pagination.startAfter)}t._anvil.pagination.rowsDisplayed=0,t._anvil.pagination.stoppedAt=null,t._anvil.pagination.done=!0;var[p,u,v,m]=t._anvil.pagination.startAfter||[0,t._anvil.itemsCounter,null,!1],h=p+(!0===m?1:0),_=0,g=e.ClassicContainer._doAddComponent,y=e=>(t._anvil.elements.items.appendChild(e._anvil.domNode),t._anvil.dataGrid&&e._anvil&&(e._anvil.dataGrid=t._anvil.dataGrid),g(t._anvil.pyHiddenContainer,e,{},{isMounted:!1}));if(!t._anvil.constructItemTemplate){if(c.pyCall(t._anvil.pyHiddenContainer.tp$getattr(new Sk.builtin.str("clear"))),t._anvil.templateFormName){var b="";t._anvil.missingDependency&&(b="Dependency missing: "),b+="No such form '"+t._anvil.templateFormName+"'";var k=c.pyCall(e.InvalidComponent,[],["text",new Sk.builtin.str(b)]);return Sk.misceval.chain(y(k),(()=>[0,null,!0]))}return[0,null,!0]}if(t._anvil.itemsCounter!==u)return t._anvil.pagination.rowsDisplayed=0,t._anvil.pagination.stoppedAt=null,t._anvil.pagination.done="INVALID",[t._anvil.pagination.rowsDisplayed,t._anvil.pagination.stoppedAt,t._anvil.pagination.done];var S=[];return S.pyIterator=t._anvil.pyIterator,S.constructItemTemplate=t._anvil.constructItemTemplate,t._anvil.element.addClass(l+"paginating"),Sk.misceval.chain(void 0,(()=>c.whileOrSuspend((()=>!0),(()=>{var e=t._anvil.lastPagination[0];if(!e)return new Sk.misceval.Break;var[n,r,i,o]=e,a=t._anvil.lastPagination;return a.pyIterator===t._anvil.pyIterator&&a.constructItemTemplate===t._anvil.constructItemTemplate&&n===h?new Sk.misceval.Break:(t._anvil.lastPagination.shift(),c.pyCallOrSuspend(o.tp$getattr(new Sk.builtin.str("remove_from_parent"))))}))),(()=>c.whileOrSuspend((()=>!0),(()=>Sk.misceval.chain(d(t,h),(e=>{var n=p===h;if(void 0===e)return h++,_++,new Sk.misceval.Break;if(t._anvil.pagination.rowsDisplayed>=t._anvil.pagination.rowQuota)return t._anvil.pagination.done=!1,h++,_++,new Sk.misceval.Break;var r,[i,o,a,l]=t._anvil.lastPagination[_]||[-1,0,null,Sk.builtin.none.none$],s=[];i===h?(null===(r=l._anvil)||void 0===r?void 0:r.pagination)?o<=t._anvil.pagination.rowQuota-t._anvil.pagination.rowsDisplayed&&!0===l._anvil.pagination.done&&a===l._anvil.pagination.startAfter&&(!n||v===l._anvil.pagination.startAfter)?(l._anvil.pagination.rowQuota=t._anvil.pagination.rowQuota-t._anvil.pagination.rowsDisplayed,t._anvil.pagination.rowsDisplayed+=o,t._anvil.pagination.stoppedAt=[h,t._anvil.itemsCounter,l._anvil.pagination.stoppedAt,l._anvil.pagination.done],"INVALID"===l._anvil.pagination.done?t._anvil.pagination.done="INVALID":t._anvil.pagination.done=!0===t._anvil.pagination.done&&l._anvil.pagination.done,S.push([h,o,a,l])):(l._anvil.pagination.rowQuota=t._anvil.pagination.rowQuota-t._anvil.pagination.rowsDisplayed,n&&(l._anvil.pagination.startAfter=v),s.push((()=>l._anvil.paginate())),s.push((e=>{var[n,r,i]=e;t._anvil.pagination.rowsDisplayed+=n,t._anvil.pagination.stoppedAt=[h,t._anvil.itemsCounter,r,i],t._anvil.pagination.done="INVALID"===i?"INVALID":!0===t._anvil.pagination.done&&i,S.push([h,n,v,l])}))):S.push([i,o,a,l]):(s.push((()=>f(t,l))),s.push((()=>{t._anvil.componentCache||(t._anvil.componentCache=[]);var n=t._anvil.componentCache.slice(0);return h<n.length?n[h]:Sk.misceval.chain(t._anvil.constructItemTemplate(e),(e=>(t._anvil.componentCache.push(e),e)))}),(e=>Sk.misceval.chain(y(e),(()=>{var r;if(null===(r=e._anvil)||void 0===r?void 0:r.paginate)return e._anvil.pagination={startAfter:n?v:null,rowQuota:t._anvil.pagination.rowQuota-t._anvil.pagination.rowsDisplayed},Sk.misceval.chain(e._anvil.paginate(),(r=>{var[i,o,a]=r;t._anvil.pagination.rowsDisplayed+=i,t._anvil.pagination.stoppedAt=[h,t._anvil.itemsCounter,o,a],t._anvil.pagination.done="INVALID"===a?"INVALID":!0===t._anvil.pagination.done&&a,S.push([h,i,n?v:null,e])}));S.push([h,0,null,e])})))));return s.push((()=>{h++,_++})),Sk.misceval.chain(void 0,...s)}))))),(()=>{if(t._anvil.lastPagination.length>=_)return f(t,t._anvil.lastPagination[_-1][3])}),(()=>{t._anvil.lastPagination=S,c.logPagination&&console.log("RepeatingPanel displayed",t._anvil.pagination.rowsDisplayed,"rows.",t._anvil.pagination.done?"Done":"Interrupted","at",t._anvil.pagination.stoppedAt),c.logPagination&&console.groupEnd()}),(()=>{var e,n,r,i=null===(e=t._anvil.parent)||void 0===e?void 0:e.pyObj;return(null==o||null===(n=o._anvil)||void 0===n?void 0:n.pagination)&&(null==i||null===(r=i._anvil)||void 0===r?void 0:r.paginate)?Sk.misceval.chain(i._anvil.paginate(t),(()=>[t._anvil.pagination.rowsDisplayed,t._anvil.pagination.stoppedAt,t._anvil.pagination.done])):[t._anvil.pagination.rowsDisplayed,t._anvil.pagination.stoppedAt,t._anvil.pagination.done]}),(e=>(t._anvil.element.removeClass(l+"paginating"),Sk.misceval.chain(null,(()=>{var e=t._anvil.pyHiddenContainer._anvil.components.map((e=>{var{component:t}=e;return()=>(0,a.notifyComponentMounted)(t)}));return(0,i.chainOrSuspend)(i.pyNone,...e)}),(()=>e)))))},m=e=>{var t,n,r=null===(t=e._anvil.parent)||void 0===t?void 0:t.pyObj;return(null==r||null===(n=r._anvil)||void 0===n?void 0:n.paginate)?Sk.misceval.chain(e._anvil.paginate(),(t=>{var[n,i,o]=t;return r._anvil.paginate(e)})):v(e)},h=(e,t)=>{var n,r;return e._anvil.componentCache=[],null!==(r=(n=e._anvil).mutex)&&void 0!==r||(n.mutex=new l.Mutex),e._anvil.mutex.runWithLock(t)},_=(e,t,n)=>{if(u(n)){if(p(n)){var r;n=n.toString(),e._anvil.templateFormName=n,e._anvil.constructItemTemplate=void 0,e._anvil.missingDependency=!1;var[,i,o]=n.match(/^(?:([^:]*):)?([^:]*)$/)||[],a=i?window.anvilAppDependencyIds[i]:null,l=a?null===(r=window.anvilAppDependencies[a])||void 0===r?void 0:r.package_name:e._anvil.defaultAppPackage||window.anvilAppMainPackage;if(i&&(!a||!l))return console.error("Dependency not found when setting RepeatingPanel template: ",i,"->",a,"->",l),void(e._anvil.missingDependency=!0);var s="".concat(l,".").concat(o);return Sk.misceval.chain(Sk.misceval.tryCatch((()=>Sk.misceval.chain(Sk.importModule(s,void 0,!0),(()=>{var t=s.split(".").slice(1),n=t[t.length-1],r=Sk.sysmodules.mp$subscript(new Sk.builtin.str(s)),i=r&&r.tp$getattr(new Sk.builtin.str(n));e._anvil.constructItemTemplate=e=>Sk.misceval.callsimOrSuspendArray(i,[],["item",e])}))),(function(e){console.error(e),window.onerror&&window.onerror(void 0,void 0,void 0,void 0,e)})),(()=>m(e)))}return e._anvil.templateFormName="",e._anvil.constructItemTemplate=e=>Sk.misceval.callsimOrSuspendArray(n,[],["item",e]),m(e)}return e._anvil.templateFormName="",e._anvil.constructItemTemplate=void 0,m(e)},g=(e,t)=>(e._anvil.templateFormName=Sk.builtin.checkString(t)?t.toString():"",e._anvil.constructItemTemplate=void 0,Sk.misceval.chain(Sk.misceval.tryCatch((()=>Sk.misceval.chain((0,o.getFormInstantiator)({requestingComponent:e},t),(t=>{console.log("Got instantiator:",t),e._anvil.constructItemTemplate=e=>t(["item",e])}))),(e=>{console.error(e),window.onerror&&window.onerror(void 0,void 0,void 0,void 0,e)})),(()=>m(e)))),y=(e,t,r)=>(e._anvil.itemsCounter++,e._anvil.itemCache=[],n(r)?e._anvil.pyIterator=Sk.abstr.iter(new Sk.builtin.list([])):e._anvil.pyIterator=Sk.abstr.iter(r),m(e))}},function(e,t,n){"use strict";n(0),n(17),n(55),n(2);var{getCssPrefix:r}=n(10),i=n(1);e.exports=e=>{e.Paginator=i.mkComponentCls(e,"Paginator",{base:e.ClassicContainer,locals(t){var n=e=>{var t=e._anvil&&e._anvil.getPropJS&&e._anvil.getPropJS("rows_per_page");return t&&t>0?t:1/0},o=(e,t,n)=>{var i=r();if(e._anvil.repaginating=t,n)e._anvil.ignoreHeight=!0;else{if(void 0===n&&e._anvil.ignoreHeight)return;e._anvil.ignoreHeight=!1}t?(e._anvil.elements.childPanel.style.minHeight=e._anvil.elements.childPanel.clientHeight+"px",e._anvil.domNode.classList.add(i+"paginating")):(e._anvil.domNode.classList.remove(i+"paginating"),e._anvil.elements.childPanel.style.minHeight="0px")};t.__new__=i.mkNew(e.ClassicContainer,(e=>{e._anvil.pagination={startAfter:null,rowQuota:n(e)},e._anvil.updatePaginationControls=()=>{var t=r(),n=!e._anvil.paginatorPages||e._anvil.paginatorPages.length<2;e._anvil.elements.firstPage.classList.toggle(t+"disabled",n),e._anvil.elements.prevPage.classList.toggle(t+"disabled",n);var i=!0===e._anvil.pagination.done;e._anvil.elements.nextPage.classList.toggle(t+"disabled",i),e._anvil.elements.lastPage.classList.toggle(t+"disabled",i)}})),t.jump_to_first_page=new Sk.builtin.func((e=>e._anvil.repaginating?Sk.builtin.none.none$:(e._anvil.ignoreHeight=!0,o(e,!0),e._anvil.pagination={startAfter:null,rowQuota:n(e)},delete e._anvil.lastChildPagination,Sk.misceval.chain(e._anvil.paginate(),(t=>{var[n,r,i]=t;return e._anvil.paginatorPages=[{startedAfter:null,stoppedAt:r,done:i,rowsDisplayed:n,currentPage:0,currentIndex:0}],e._anvil.updatePaginationControls(),o(e,!1,!1),Sk.builtin.none.none$}))))),t.jump_to_last_page=new Sk.builtin.func((e=>e._anvil.repaginating?Sk.builtin.none.none$:(o(e,!0,!0),Sk.misceval.chain(i.whileOrSuspend((()=>!(e._anvil.paginatorPages&&e._anvil.paginatorPages.length>0&&e._anvil.paginatorPages[e._anvil.paginatorPages.length-1].done)),(()=>Sk.misceval.chain(void 0,(()=>{o(e,!1)}),(()=>Sk.misceval.callsimOrSuspend(e.tp$getattr(new Sk.builtin.str("next_page")))),(()=>{o(e,!0)})))),(()=>(o(e,!1,!1),Sk.builtin.none.none$)))))),t.next_page=new Sk.builtin.func((e=>{if(e._anvil.repaginating)return Sk.builtin.none.none$;var t=e._anvil.paginatorPages&&e._anvil.paginatorPages[e._anvil.paginatorPages.length-1];if(t&&!t.done){o(e,!0),e._anvil.pagination={startAfter:t.stoppedAt,rowQuota:n(e)};var r={};return e._anvil.paginatorPages.push(r),Sk.misceval.chain(e._anvil.paginate(),(n=>{var[i,a,l]=n;return r.startedAfter=t.stoppedAt,r.rowsDisplayed=i,r.stoppedAt=a,r.done=l,r.currentPage=t.currentPage+1,r.currentIndex=t.currentIndex+i,o(e,!1),e._anvil.updatePaginationControls(),Sk.builtin.none.none$}))}})),t.previous_page=new Sk.builtin.func((e=>{if(e._anvil.repaginating)return Sk.builtin.none.none$;var t=e._anvil.paginatorPages&&e._anvil.paginatorPages[e._anvil.paginatorPages.length-2];return t&&!t.done?(o(e,!0),e._anvil.pagination={startAfter:t.startedAfter,rowQuota:n(e)},e._anvil.paginatorPages.pop(),Sk.misceval.chain(e._anvil.paginate(),(t=>{var[n,r,i]=t;return o(e,!1),e._anvil.updatePaginationControls(),Sk.builtin.none.none$}))):void 0})),t.get_page=new Sk.builtin.func((e=>{var t=e._anvil.paginatorPages&&e._anvil.paginatorPages[e._anvil.paginatorPages.length-1];return t?Sk.ffi.remapToPy(t.currentPage):Sk.builtin.none.none$})),t.get_first_index_on_page=new Sk.builtin.func((e=>{var t=e._anvil.paginatorPages&&e._anvil.paginatorPages[e._anvil.paginatorPages.length-1];return t?Sk.ffi.remapToPy(t.currentIndex):Sk.builtin.none.none$})),t.set_page=new Sk.builtin.func(((e,t)=>{if((t=Sk.misceval.asIndexOrThrow(t))<0)throw new Sk.builtin.IndexError("Cannot use a negative index to set the page");var r=e._anvil.paginatorPages&&e._anvil.paginatorPages[Math.min(t,e._anvil.paginatorPages.length-1)],i=[],o=0;null!=r&&(o=r.currentPage,e._anvil.paginatorPages=e._anvil.paginatorPages.slice(0,o+1),i.push((()=>(e._anvil.pagination={startAfter:r.startedAfter,rowQuota:n(e)},e._anvil.paginate()))));for(var a=e.tp$getattr(new Sk.builtin.str("next_page")),l=o;l<t;l++)i.push((()=>Sk.misceval.callsimOrSuspend(a)));return Sk.misceval.chain(null,...i,(()=>Sk.builtin.none.none$))})),t.repaginate=new Sk.builtin.func((e=>{if(!(e._anvil.paginatorPages&&e._anvil.paginatorPages.length>1))return Sk.misceval.callsimOrSuspend(e.tp$getattr(new Sk.builtin.str("jump_to_first_page")));if(e._anvil.repaginating)return Sk.builtin.none.none$;var t=e._anvil.paginatorPages&&e._anvil.paginatorPages[e._anvil.paginatorPages.length-1];return t?(o(e,!0),e._anvil.pagination={startAfter:t.startedAfter,rowQuota:n(e)},e._anvil.lastChildPagination=void 0,Sk.misceval.chain(e._anvil.paginate(),(n=>{var[r,i,a]=n;return e._anvil.paginatorPages.splice(e._anvil.paginatorPages.length-1,1,{startedAfter:t.startedAfter,rowsDisplayed:r,stoppedAt:i,done:a,currentPage:t.currentPage,currentIndex:t.currentIndex}),o(e,!1),e._anvil.updatePaginationControls(),Sk.builtin.none.none$}))):void 0}))}})}},function(e,t,n){"use strict";n(13),n(0),n(17),n(3),n(2);var r=n(31),i=n(10),o=n(56);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=n(1);e.exports=function(e){var{isTrue:t}=Sk.misceval,n=0;e.DataGrid=s.mkComponentCls(e,"DataGrid",{base:e.Paginator,properties:s.assembleGroupProperties(
/*!componentProps(DataGrid)!1*/
["layout","layout_margin","containers","appearance","user data","tooltip"],{columns:
/*!componentProp(DataGrid)!1*/
{name:"columns",type:"dataGridColumns",pyVal:!0,hidden:!0,defaultValue:Sk.builtin.none.none$,description:"A list of columns to display in this Data Grid.",set(e,t,n){e._anvil.jsCols=Sk.ffi.toJs(n),p(e,t)},getJS:(e,t)=>e._anvil.jsCols},auto_header:
/*!componentProp(DataGrid)!1*/
{name:"auto_header",type:"boolean",defaultValue:Sk.builtin.bool.true$,pyVal:!0,exampleValue:!0,description:"Whether to display an automatic header at the top of this Data Grid.",set(e,t,n){var r,i;p(e,t),null===(r=(i=e._anvil).onUpdateAutoHeader)||void 0===r||r.call(i)}},show_page_controls:
/*!componentProp(DataGrid)!1*/
{name:"show_page_controls",type:"boolean",defaultValue:Sk.builtin.bool.true$,pyVal:!0,exampleValue:!0,description:"Whether to display the next/previous page buttons.",set:(e,n,r)=>e._anvil.elements.paginationButtons.style.display=t(r)?"block":"none"},rows_per_page:
/*!componentProp(DataGrid)!1*/
{name:"rows_per_page",type:"number",defaultValue:new Sk.builtin.int_(20),pyVal:!0,exampleValue:20,description:"The maximum number of rows to display at one time.",set:(e,t,n)=>s.pyCallOrSuspend(e.tp$getattr(new Sk.builtin.str("jump_to_first_page")))},wrap_on:
/*!componentProp(DataGrid)!1*/
{name:"wrap_on",type:"enum",options:["never","mobile","tablet"],description:"The largest display on which to wrap columns in this DataGrid",defaultValue:new Sk.builtin.str("never"),pyVal:!0,important:!0,set(e,t,n){n=n.toString();var r=(0,i.getCssPrefix)(),o=e._anvil.domNode;o.classList.remove(r+"wrap-never",r+"wrap-tablet",r+"wrap-mobile"),o.classList.add(r+"wrap-"+n)}}}),events:s.assembleGroupEvents("data grid",
/*!componentEvents(DataGrid)!1*/
["universal"]),layouts:[{name:"pinned",type:"boolean",description:"Whether this component should show on every page of the grid",defaultValue:!1,important:!0,priority:0}],element:e=>{var{show_page_controls:n,wrap_on:r}=e,o=l(e,["show_page_controls","wrap_on"]),c=(0,i.getCssPrefix)();return s.h(s.OuterElement,a({className:"anvil-container anvil-data-grid anvil-paginator ".concat(c,"wrap-").concat(r)},o),s.h("div",{refName:"childPanel",className:"".concat(c,"data-grid-child-panel")}),s.h("div",{refName:"footerPanel",className:"".concat(c,"data-grid-footer-panel")},s.h("div",{refName:"footerSlot",className:"".concat(c,"footer-slot")}),s.h("div",{refName:"paginationButtons",className:"".concat(c,"pagination-buttons"),style:"display:"+(t(n)?"block":"none")+";"},s.h("a",{refName:"firstPage",href:"javascript:void(0)",className:"".concat(c,"first-page ").concat(c,"disabled")},s.h("i",{refName:"iconFirst",className:"fa fa-angle-double-left"})),s.h("a",{refName:"prevPage",href:"javascript:void(0)",className:"".concat(c,"previous-page ").concat(c,"disabled")},s.h("i",{refName:"iconPrev",className:"fa fa-angle-left"})),s.h("a",{refName:"nextPage",href:"javascript:void(0)",className:"".concat(c,"next-page ").concat(c,"disabled")},s.h("i",{refName:"iconNext",className:"fa fa-angle-right"})),s.h("a",{refName:"lastPage",href:"javascript:void(0)",className:"".concat(c,"last-page ").concat(c,"disabled")},s.h("i",{refName:"iconLast",className:"fa fa-angle-double-right"})))))},locals(t){t.__new__=s.mkNew(e.Paginator,(e=>{e._anvil.element.data("anvil-py-component",e),e._anvil.childPanel=$(e._anvil.elements.childPanel),e._anvil.footerSlot=$(e._anvil.elements.footerSlot),e._anvil.dataGridId=n++,e._anvil.dataGrid=e;var t=$("style[anvil-data-grid-id=".concat(e._anvil.dataGridId,"]"));return 0===t.length&&(t=$("<style />").attr("anvil-data-grid-id",e._anvil.dataGridId).appendTo($("head"))),e._anvil.styleSheet=t[0].sheet,e._anvil.updateColStyles=c.bind(e,e),e._anvil.paginate=u.bind(e,e),$(e._anvil.elements.firstPage).on("click",(()=>s.asyncToPromise((()=>Sk.misceval.callsimOrSuspend(e.tp$getattr(new Sk.builtin.str("jump_to_first_page"))))))),$(e._anvil.elements.prevPage).on("click",(()=>s.asyncToPromise((()=>Sk.misceval.callsimOrSuspend(e.tp$getattr(new Sk.builtin.str("previous_page"))))))),$(e._anvil.elements.nextPage).on("click",(()=>s.asyncToPromise((()=>Sk.misceval.callsimOrSuspend(e.tp$getattr(new Sk.builtin.str("next_page"))))))),$(e._anvil.elements.lastPage).on("click",(()=>s.asyncToPromise((()=>Sk.misceval.callsimOrSuspend(e.tp$getattr(new Sk.builtin.str("jump_to_last_page"))))))),e._anvil.setProp("columns",e._anvil.props.columns)})),t.add_component=s.funcWithKwargs((function(t,n,i){(0,r.validateChild)(i);var{index:a,pinned:l,slot:c}=t;return Sk.misceval.chain(i.anvil$hooks.setupDom(),(r=>{if((0,o.isInvisibleComponent)(i))return e.ClassicContainer._doAddComponent(n,i);var l=n._anvil.elements.childPanel;i._anvil&&(i._anvil.dataGrid=n);var p=n._anvil.elements.childPanel.children;return"footer"===c?n._anvil.elements.footerSlot.appendChild(r):"number"==typeof a&&a<p.length?l.insertBefore(r,p[a]):l.appendChild(r),e.ClassicContainer._doAddComponent(n,i,t,{afterRemoval:()=>(i._anvil&&delete i._anvil.dataGrid,s.pyCallOrSuspend(n.tp$getattr(new Sk.builtin.str("repaginate"))))})}),(()=>s.pyCallOrSuspend(n.tp$getattr(new Sk.builtin.str("jump_to_first_page")))))})),t.__serialize__=s.mkSerializePreservingIdentity((function(e){var t=[];for(var n in e._anvil.props)t.push(new Sk.builtin.str(n),e._anvil.props[n]);var r=new Sk.builtin.dict(t),i=e._anvil.components;return e._anvil.getPropJS("auto_header")&&(i=i.slice(1)),i=i.map((e=>new Sk.builtin.tuple([e.component,Sk.ffi.remapToPy(e.layoutProperties)]))),r.mp$ass_subscript(new Sk.builtin.str("$_components"),new Sk.builtin.list(i)),r}))}});var c=(e,t)=>{for(var n=(0,i.getCssPrefix)(),r=e._anvil.styleSheet;r.cssRules.length>0;)r.deleteRule(0);for(var o of t||[]){var a=".".concat(n,'data-row-col[data-grid-id="').concat(e._anvil.dataGridId,'"][data-grid-col-id="').concat(o.id,'"] {');o.width&&(a+="width: ".concat(o.width,"px; flex-grow: 0;")),!0===o.expand?a+="flex-grow: 1;":o.expand&&(a+="flex-grow: ".concat(o.expand,";")),r.insertRule(a+"}",0)}},p=(n,r)=>{var o,a,l=n._anvil.getPropJS("columns"),c=(0,i.getCssPrefix)();n._anvil.updateColStyles(l),r.find(".anvil-data-row-panel:not(".concat(c,"auto-grid-header)")).map(((e,t)=>$(t).data("anvilPyComponent"))).each(((e,t)=>t._anvil.updateColumns(!0)));var p=r.find(".".concat(c,"auto-grid-header")).map(((e,t)=>$(t).data("anvilPyComponent")));if(t(n._anvil.getProp("auto_header"))){var u={};for(var d of l||[])u[d.id]=d.title;0===p.length?((p=s.pyCall(e.DataRowPanel,[],["bold",Sk.builtin.bool.true$]))._anvil.autoGridHeader=!0,p._anvil.domNode.classList.add("anvil-designer-no-hit","".concat(c,"auto-grid-header")),s.pyCall(n.tp$getattr(new Sk.builtin.str("add_component")),[p],["index",new Sk.builtin.int_(0)])):p=p[0],p.tp$setattr(new Sk.builtin.str("item"),Sk.ffi.remapToPy(u))}else p.length>0&&Sk.misceval.callsim(p[0].tp$getattr(new Sk.builtin.str("remove_from_parent")));null===(o=(a=n._anvil).afterUpdateColumns)||void 0===o||o.call(a)},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e._anvil.pagination){var n=-1,r=e._anvil.pagination.rowQuota;if(t&&t._anvil.pagination){n=e._anvil.components.findIndex((e=>e.component===t)),r=e._anvil.lastChildPagination.reduce(((e,t,r)=>t&&r<n?e-t[0]:e),e._anvil.pagination.rowQuota),r-=t._anvil.pagination.rowsDisplayed;e._anvil.lastChildPagination[n]&&e._anvil.lastChildPagination[n][0];e._anvil.lastChildPagination[n]=[t._anvil.pagination.rowsDisplayed,t._anvil.pagination.stoppedAt,t._anvil.pagination.done],e._anvil.pagination.startAfter&&e._anvil.pagination.startAfter[0]==n&&(e._anvil.pagination.startAfter[1]=t._anvil.pagination.startAfter)}return Sk.misceval.chain(s.repaginateChildren(e,n+1,e._anvil.pagination.startAfter,r),(t=>{var[n,r,i]=t;return s.logPagination&&(console.log("DataGrid displayed",n,"rows.",i?"Done":"Interrupted","at",r,"Pagination results:",e._anvil.lastChildPagination),console.groupEnd()),e._anvil.pagination.rowsDisplayed=n,e._anvil.pagination.stoppedAt=r,e._anvil.pagination.done=i,Sk.misceval.chain(void 0,(()=>{if(e._anvil.paginatorPages){if("INVALID"===i)return e._anvil.repaginating=!1,Sk.misceval.callsimOrSuspend(e.tp$getattr(new Sk.builtin.str("previous_page")));e._anvil.paginatorPages[e._anvil.paginatorPages.length-1].rowsDisplayed=n,e._anvil.paginatorPages[e._anvil.paginatorPages.length-1].stoppedAt=r,e._anvil.paginatorPages[e._anvil.paginatorPages.length-1].done=i}}),e._anvil.updatePaginationControls,(()=>[n,r,i]))}))}}}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}n(0),n(19),n(3),n(2);var a=n(1),{pyNone:l,pyStr:s,pyBool:c,pyCall:p}=n(4),{validateChild:u}=n(31),{getCssPrefix:d}=n(10),{notifyVisibilityChange:f}=n(26);e.exports=function(e){var{isTrue:t}=Sk.misceval,n=new Sk.builtin.str("add_component"),s=new Sk.builtin.str("remove_from_parent");e.DataRowPanel=a.mkComponentCls(e,"DataRowPanel",{base:e.ClassicContainer,properties:a.assembleGroupProperties(
/*!componentProps(DataRowPanel)!2*/
["text","layout","layout_margin","containers","appearance","tooltip","user data"],{visible:{set:(e,t,n)=>c(e)},bold:{important:!0,priority:10},spacing_above:{defaultValue:new Sk.builtin.str("none")},spacing_below:{defaultValue:new Sk.builtin.str("none")},text:{omit:!0},item:
/*!componentProp(DataRowPanel)!1*/
{name:"item",type:"object",defaultValue:Sk.builtin.none.none$,pyVal:!0,exampleValue:"",description:"The data to display in this row by default.",set:(e,t,n)=>e._anvil.updateColumns(!0)},auto_display_data:
/*!componentProp(DataRowPanel)!1*/
{name:"auto_display_data",type:"boolean",defaultValue:Sk.builtin.bool.true$,pyVal:!0,exampleValue:!0,description:"Whether to automatically display data in this row.",set:(e,t,n)=>e._anvil.updateColumns(!0)}}),events:a.assembleGroupEvents("data row panel",
/*!componentEvents(DataRowPanel)!1*/
["universal"]),layouts:[{name:"column",type:"string",description:"The id of the column where this component will be placed",defaultValue:"",important:!0,priority:0}],element:e=>a.h(a.OuterElement,o({className:"anvil-container anvil-data-row-panel"},e)),locals(t){t.__new__=a.mkNew(e.ClassicContainer,(e=>(e._anvil.pageEvents={add(){if(!0===e._anvil.updateDataGridId)return e._anvil.updateDataGridId=!1,e._anvil.updateColumns(!0)},remove(){e._anvil.parent||(e._anvil.dataGrid=void 0,e._anvil.updateDataGridId=!0)},show(){}},e._anvil.updateColData=p.bind(e,e),e._anvil.updateColumns=g.bind(e,e),e._anvil.getColumn=_.bind(e,e),e._anvil.dataGrid=void 0,e._anvil.updateDataGridId=!0,e._anvil.cols={},e._anvil.paginate=y.bind(e,e),e._anvil.hideOnThisPage=!1,e._anvil.cachedPagination={},e._anvil.onRefreshDataBindings=()=>e._anvil.updateColumns(!0),e._anvil.updateColumns()))),t.add_component=new a.funcWithKwargs((function(t,n,r){u(r);var i=t.column;return Sk.misceval.chain(r.anvil$hooks.setupDom(),(o=>{var{colEl:l,autoRow:c}=n._anvil.getColumn(i);return null!==c&&c!==r&&a.pyCall(c.tp$getattr(s)),l.appendChild(o),void 0!==n._anvil.dataGrid&&(r._anvil.dataGrid=n._anvil.dataGrid),e.ClassicContainer._doAddComponent(n,r,t,{detachDom:()=>{var e,t,i;null===(e=o.parentElement)||void 0===e||null===(t=e.removeChild)||void 0===t||t.call(e,o),(null===(i=r._anvil)||void 0===i?void 0:i.isAutoRow)||n._anvil.updateColumns()}})}),(()=>{var e;return(null===(e=r._anvil)||void 0===e?void 0:e.paginate)&&(Object.defineProperty(n._anvil,"cachedPagination",{get:()=>({}),set(){}}),n._anvil.paginate(r)),Sk.builtin.none.none$}))}))}});var c=e=>{var n=e._anvil.domNode,r=t(e._anvil.getProp("visible"))&&!e._anvil.hideOnThisPage,i=d();return n.classList.toggle(i+"visible-false",!r),f(e,r)},p=(r,i,o)=>{var l=o.autoRow;l&&(a.pyCall(l.tp$getattr(s)),o.autoRow=null);var c=r._anvil.getProp("item");if(t(r._anvil.getProp("auto_display_data"))&&c!==Sk.builtin.none.none$&&i&&0===o.colEl.children.length){var p=r._anvil.autoGridHeader?String(i.id):i.data_key||i.id;return Sk.misceval.chain(Sk.misceval.tryCatch((()=>Sk.abstr.objectGetItem(c,Sk.ffi.remapToPy(p),!0)),(()=>{})),(t=>{if(void 0!==t){var l=d(),s=a.pyCall(e.Label,[],["text",t]);s._anvil.domNode.classList.add(l+"auto-row-value"),s._anvil.isAutoRow=!0,o.autoRow=s,a.pyCall(r.tp$getattr(n),[s],["column",Sk.ffi.remapToPy(i.id)])}}))}},v=e=>{var t=m(e);return t&&t._anvil.dataGridId},m=e=>{var t=e._anvil.dataGrid;if(void 0===t){var n,r=e._anvil.parent;(t=r&&(null===(n=r.pyObj._anvil)||void 0===n?void 0:n.dataGrid)||r&&e._anvil.element.closest(".anvil-data-grid").data("anvilPyComponent"))?e._anvil.dataGrid=t:t=void 0}return t},h=e=>{var{dataGridId:t,colId:n}=e;t=void 0===t?"":t;var r=d();return a.h("div",{className:"".concat(r,"data-row-col"),"data-grid-col-id":n,"data-grid-id":t})},_=(e,t)=>{var n;null!==(n=t)&&void 0!==n||(t=null);var r=e._anvil.cols[t];if(void 0===r){var i=v(e),[o]=a.h(h,{colId:t,dataGridId:i});e._anvil.domNode.appendChild(o),void 0===i&&(e._anvil.updateDataGridId=!0),null===t&&o.classList.add(d()+"extra-column"),r={colEl:o,autoRow:null,dataGridId:i},e._anvil.cols[t]=r}else if(void 0===r.dataGridId){var l=v(e);r.dataGridId=l,r.colEl.setAttribute("data-grid-id",l)}return r},g=(e,t)=>{var n=m(e);if(void 0!==n){var o=n._anvil.getPropJS("columns");if(o){t&&(e._anvil.cachedPagination={});var s=[()=>a.raiseEventOrSuspend({data_grid:n||l},e,"x-data-row-panel-update-columns")],c=new Set,p=e._anvil.cols,u=e._anvil.domNode,f=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},p),v=u.children,h=d();return o.forEach(((n,r)=>{var i=n.id;c.add(String(i));var o=v[r],a=e._anvil.getColumn(i),l=a.colEl,p=o!==l;p&&u.insertBefore(l,o),(t||p)&&(a.extraCol&&(a.extraCol=!1,l.classList.remove(h+"extra-column")),s.push((()=>e._anvil.updateColData(n,a))))})),s.push((()=>{var t=[];return Object.keys(f).forEach((n=>{if(!c.has(n)){var r=f[n];"null"!==n&&null!==r.autoRow?(r.colEl.remove(),delete p[n]):(r.extraCol=!0,r.colEl.classList.add(h+"extra-column"),void 0===r.dataGridId&&e._anvil.getColumn(n),t.push((()=>e._anvil.updateColData(null,r))))}})),Sk.misceval.chain(void 0,...t)})),Sk.misceval.chain(void 0,...s)}}},y=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r="SHOWN_SELF_ONLY";return Sk.misceval.chain(void 0,(()=>{if(!0===t._anvil.updateDataGridId&&void 0!==m(t))return t._anvil.updateDataGridId=!1,t._anvil.updateColumns(!0)}),(()=>{if(t._anvil.autoGridHeader)return[0,r,!0];if(!t._anvil.getPropJS("visible"))return[0,r,!0];if(t._anvil.pagination){var e=[t._anvil.pagination.startAfter,t._anvil.pagination.rowQuota],n=t._anvil.cachedPagination[e.toString()];if(n)return n;t._anvil.cachedPagination={}}}),(i=>{if(void 0!==i)return i;if(t._anvil.pagination){var o;a.logPagination&&console.group("Repaginate DataRowPanel from",t._anvil.pagination.startAfter,", displaying up to",t._anvil.pagination.rowQuota,"rows.",t._anvil.domNode);var l=t._anvil.pagination.rowQuota<=0;l!==t._anvil.hideOnThisPage&&(t._anvil.hideOnThisPage=l,c(t));var s=0;if(t._anvil.getPropJS("auto_display_data"))s=1;else for(var p of t._anvil.components||[])if(!Sk.builtin.isinstance(p.component,e.DataRowPanel).v){s=1;break}var u=-1,d=t._anvil.pagination.rowQuota-s;if(n&&(null===(o=n._anvil)||void 0===o?void 0:o.pagination)){u=t._anvil.components.findIndex((e=>e.component===n)),d=t._anvil.lastChildPagination.reduce(((e,t,n)=>t&&n<u?e-t[0]:e),d),d-=n._anvil.pagination.rowsDisplayed;t._anvil.lastChildPagination[u]&&t._anvil.lastChildPagination[u][0];t._anvil.lastChildPagination[u]=[n._anvil.pagination.rowsDisplayed,n._anvil.pagination.stoppedAt,n._anvil.pagination.done],t._anvil.pagination.startAfter&&t._anvil.pagination.startAfter[0]==u&&(t._anvil.pagination.startAfter[1]=n._anvil.pagination.startAfter)}return Sk.misceval.chain(a.repaginateChildren(t,u+1,t._anvil.pagination.startAfter==r?null:t._anvil.pagination.startAfter,d),(e=>{var i,o,l,[c,p,u]=e;t._anvil.pagination.stoppedAt=p,t._anvil.pagination.done=u,c>0?(a.logPagination&&(console.log("DataRowPanel displayed",c,"rows.",u?"Done":"Interrupted","at",p),console.groupEnd()),t._anvil.pagination.rowsDisplayed=c+s):t._anvil.pagination.rowQuota>0?(a.logPagination&&(console.log("DataRowPanel displayed only itself.",u?"Done.":"Interrupted."),console.groupEnd()),t._anvil.pagination.rowsDisplayed=s,t._anvil.pagination.stoppedAt=r):(a.logPagination&&(console.log("DataRowPanel hidden - no quota available"),console.groupEnd()),t._anvil.pagination.rowsDisplayed=0,t._anvil.pagination.stoppedAt=null,t._anvil.pagination.done=!1);var d=null===(i=t._anvil.parent)||void 0===i?void 0:i.pyObj,f=[t._anvil.pagination.startAfter,t._anvil.pagination.rowQuota];if((null==n||null===(o=n._anvil)||void 0===o?void 0:o.pagination)&&(null==d||null===(l=d._anvil)||void 0===l?void 0:l.paginate))return Sk.misceval.chain(d._anvil.paginate(t),(()=>{var e=[t._anvil.pagination.rowsDisplayed,t._anvil.pagination.stoppedAt,t._anvil.pagination.done];return t._anvil.cachedPagination[f.toString()]=e,e}));var v=[t._anvil.pagination.rowsDisplayed,t._anvil.pagination.stoppedAt,t._anvil.pagination.done];return t._anvil.cachedPagination[f.toString()]=v,v}))}return[0,null,!0]}))}}},function(e,t,n){"use strict";n(13),n(3);var r=n(31),i=n(10),o=n(56);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=n(1);e.exports=e=>{var t=0;e.XYPanel=s.mkComponentCls(e,"XYPanel",{base:e.ClassicContainer,properties:s.assembleGroupProperties(
/*!componentProps(XYPanel)!1*/
["layout","layout_margin","height","appearance","align","tooltip","user data"],{height:{set(e,t,n){e._anvil.elements.holder.style.height=s.cssLength(n.toString())}},align:{set(e,t,n){n=n.toString(),e._anvil.elements.outer.style.textAlign=n,e._anvil.updateHatching()}},width:
/*!componentProp(XYPanel):1*/
{group:null,deprecated:!1,name:"width",type:"number",nullable:!0,description:"Custom column widths in this panel",defaultValue:Sk.builtin.none.none$,pyVal:!0,important:!1,priority:0,set(e,t,n){e._anvil.elements.holder.style.width=Sk.builtin.checkNone(n)?"100%":s.cssLength(n.toString()),e._anvil.updateHatching(n)}}}),events:s.assembleGroupEvents("X-Y panel",
/*!componentEvents(XYPanel)!1*/
["universal","align"]),layouts:[{name:"x",type:"number",description:"The X coordinate, in pixels, where this component will be placed",defaultValue:0,priority:1},{name:"y",type:"number",description:"The Y coordinate, in pixels, where this component will be placed",defaultValue:0,priority:1},{name:"width",type:"number",description:"The width allocated to this component, in pixels",defaultValue:0,priority:0}],element(e){var{width:n,height:r}=e,o=l(e,["width","height"]),c=(0,i.getCssPrefix)();return n=Sk.builtin.checkNone(n)?" width: 100%;":" width: "+s.cssLength(n.toString())+";",r="height: "+s.cssLength(r.toString())+";",s.h(s.OuterElement,a({className:"".concat(c,"xy-panel anvil-container")},o),s.h("div",{refName:"holder",className:"".concat(c,"holder xypanel-").concat(t),style:"display: inline-block; position: relative;"+n+r}))},locals(n){n.__new__=s.mkNew(e.ClassicContainer,(e=>{e._anvil.updateHatching=()=>{},e._anvil.panelId=t++})),n.add_component=s.funcWithKwargs((function(t,n,i){return(0,r.validateChild)(i),Sk.misceval.chain(i.anvil$hooks.setupDom(),(r=>{if((0,o.isInvisibleComponent)(i))return e.ClassicContainer._doAddComponent(n,i);var{x:a,y:l,width:s}=t,c=$(r);return c.css({position:"absolute",left:a||0,top:l||0,width:s||""}),n._anvil.elements.holder.appendChild(c[0]),e.ClassicContainer._doAddComponent(n,i,t)}))})),n.get_width=new Sk.builtin.func((e=>Sk.ffi.remapToPy(e._anvil.element.outerWidth())))}})}},function(e,t,n){"use strict";n(0),n(19),n(2);var r=n(31),i=n(10),o=n(56);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var l=n(1);e.exports=e=>{e.GridPanel=l.mkComponentCls(e,"GridPanel",{base:e.ClassicContainer,properties:l.assembleGroupProperties(
/*!componentProps(GridPanel)!2*/
["layout","layout_spacing","containers","appearance","user data","tooltip"]),events:l.assembleGroupEvents("grid panel",
/*!componentEvents(GridPanel)!1*/
["universal"]),element:e=>l.h(l.OuterElement,a({className:"".concat((0,i.getCssPrefix)(),"grid-panel anvil-container")},e)),locals(t){t.__new__=l.mkNew(e.ClassicContainer,(e=>{e._anvil.gridComponents=[],e._anvil.rows={}}));var n=e=>{var{classList:t}=e;return l.h("div",{className:t})};
/*!defMethod(_,component,[row=],[col_xs=],[width_xs=])!2*/t.add_component=l.funcWithKwargs((function(t,a,s){(0,r.validateChild)(s);var c,p=t.row;return Sk.misceval.chain(s.anvil$hooks.setupDom(),(r=>{if((0,o.isInvisibleComponent)(s))return e.ClassicContainer._doAddComponent(a,s);var u=a._anvil.rows[p];if(!u){var d=(0,i.getCssPrefix)(),f=$('<div class="'+d+'row">').css("marginBottom",a._anvil.getPropJS("row_spacing")).data("anvil-gridpanel-row",p);u={element:f,lastCol:{}},a._anvil.rows[p]=u,a._anvil.element.append(u.element)}var v=function(e,t){var n=12,r=0,o=[],a=t.layoutProperties,l=(0,i.getCssPrefix)();return["xs","sm","md","lg"].forEach((i=>{var s=a["width_"+i];s&&(n=parseInt(s)),o.push(l+"col-"+i+"-"+n);var c=e.lastCol[i]||0,p=a["col_"+i];p&&parseInt(p)>c&&(r=parseInt(p)-c,o.push(l+"col-"+i+"-offset-"+r)),e.lastCol[i]=t.lastCol[i]=c+n+r})),o}(u,{pyComponent:s,row:p,lastCol:{},layoutProperties:t});return[c]=l.h(n,{classList:v.join(" ")}),c.appendChild(r),u.element.append(c),e.ClassicContainer._doAddComponent(a,s,t,{detachDom(){c.remove(),0===u.element.children().length&&(delete a._anvil.rows[p],u.element.remove())}})}))})),t.clear=new Sk.builtin.func((function(t){var n=l.pyCallOrSuspend(e.ClassicContainer.prototype.clear,[t]);return t._anvil.element.empty(),t._anvil.gridComponents=[],t._anvil.rows={},n}))}})}},function(e,t,n){"use strict";n(13),n(0),n(55),n(3),n(37),n(2);var r=n(4),i=n(27),o=n(56),a=n(31),l=n(10);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=n(1);e.exports=e=>{function t(e,t){var n,r="The col_widths property is created from the design layout and should not be called in code";try{n=JSON.parse(e._anvil.getPropJS("col_widths")||"{}")}catch(e){throw new Sk.builtin.TypeError(r)}"object"!=typeof n&&Sk.builtin.print([r]);var i=t.querySelectorAll(":scope >.anvil-panel-col"),o=i.length,a=Math.floor(60/o),l=0;i.forEach((e=>{l+=n[e.dataset.anvilColId]||a}));var s=0;Math.abs(l-12)<.5?i.forEach((e=>{n[e.dataset.anvilColId]*=5})):l<60&&(s=60-l),i.forEach(((e,t)=>{var r=e.dataset.anvilColId,i=n[r]||a;t<s&&(i+=1),e.style.setProperty("flex-grow",i)}))}e.ColumnPanel=p.mkComponentCls(e,"ColumnPanel",{base:e.ClassicContainer,properties:p.assembleGroupProperties(
/*!componentProps(ColumnPanel)!1*/
["layout","layout_spacing","containers","appearance","user data","tooltip"],{col_widths:
/*!componentProp(ColumnPanel)!1*/
{name:"col_widths",type:"string",description:"Custom column widths in this panel",defaultValue:Sk.builtin.str.$empty,pyVal:!0,important:!1,priority:0,hidden:!0,set(e,n,r){Object.values(e._anvil.rows).forEach((n=>{var r=n.el;t(e,r)}))}},wrap_on:
/*!componentProp(ColumnPanel)!1*/
{name:"wrap_on",type:"enum",options:["never","mobile","tablet"],description:"The largest display on which to wrap columns in this panel",defaultValue:new Sk.builtin.str("mobile"),pyVal:!0,important:!0,set(e,t,n){n=n.toString();var r=(0,l.getCssPrefix)();Object.values(e._anvil.rows).forEach((e=>{var t=e.el;t.classList.remove(r+"wrap-never",r+"wrap-tablet",r+"wrap-mobile"),t.classList.add(r+"wrap-"+n)})),Object.values(e._anvil.cols).forEach((e=>{var t=e.el;t.classList.remove(r+"wrap-never",r+"wrap-tablet",r+"wrap-mobile"),t.classList.add(r+"wrap-"+n)}))}},col_spacing:
/*!componentProp(ColumnPanel)!1*/
{name:"col_spacing",description:"Space between columns",type:"enum",options:["none","tiny","small","medium","large","huge"],defaultValue:new Sk.builtin.str("medium"),pyVal:!0,important:!1,priority:0,set(e,t,n){var r=(0,l.getCssPrefix)();for(var i of(n=n.toString(),["none","tiny","small","medium","large","huge"]))e._anvil.domNode.classList.toggle(r+"col-padding-"+i,n===i);e._anvil.components.forEach((t=>{var{component:i}=t,o=i.anvil$hooks.domElement;o.parentElement&&(o.parentElement.className="".concat(r,"col-padding ").concat(r,"col-padding-").concat(n," belongs-to-").concat(e._anvil.panelId))}))}}}),events:p.assembleGroupEvents("column panel",
/*!componentEvents(ColumnPanel)!1*/
["universal"]),element(e){var{col_spacing:t}=e,n=c(e,["col_spacing"]),r=(0,l.getCssPrefix)(),i=" ".concat(r,"col-padding-").concat(t);return p.h(p.OuterElement,s({className:"".concat(r,"column-panel anvil-container ").concat(i)},n))},layouts:[{name:"full_width_row",type:"boolean",description:"True if this grid row should fill the width of the screen.",defaultValue:!1,important:!1,priority:0},{name:"row_background",type:"color",description:"The background colour of this grid row.",defaultValue:"",important:!1,priority:0}],locals(n){n.__new__=p.mkNew(e.ClassicContainer,(e=>{e._anvil.panelId=(0,i.getRandomStr)(6),e._anvil.rows={},e._anvil.cols={},e._anvil.componentColumnContainers=new WeakMap,e._anvil.generateNewLayoutProps=e=>({col_widths:e&&e.col_widths||{},grid_position:(0,i.getRandomStr)(6)+","+(0,i.getRandomStr)(6),full_width_row:e&&e.full_width_row}),e._anvil.setLayoutProperties=function(t,n){var r={},i=t._anvil.componentSpec.name;r[i]=n;var o=e._anvil.childLayoutProps[i].grid_position.split(",")[0];return Object.entries(e._anvil.childLayoutProps).forEach((t=>{var[i,a]=t;a.grid_position||(a=e._anvil.generateNewLayoutProps(a)),0===a.grid_position.indexOf(o)&&("full_width_row"in n&&(r[i]=r[i]||{},r[i].full_width_row=n.full_width_row,a.full_width_row=n.full_width_row),"row_background"in n&&(r[i]=r[i]||{},r[i].row_background=n.row_background,a.row_background=n.row_background))})),function(e){var t=(0,l.getCssPrefix)();e._anvil.element.find(".anvil-component.belongs-to-"+e._anvil.panelId).each((function(e,n){var r=(n=$(n)).data("anvil-py-component")._anvil.layoutProps||{};r.full_width_row?n.parents(".anvil-panel-section-container").first().addClass(t+"full-width-row"):n.parents(".anvil-panel-section-container").first().removeClass(t+"full-width-row");var i="transparent";r.row_background&&(i=p.getColor(r.row_background)),n.parents(".anvil-panel-section").first().css("background",i)}))}(e),r}})),n.clear=new Sk.builtin.func((function(t){var n=e.ClassicContainer.tp$getattr(new r.pyStr("clear"));return(0,r.chainOrSuspend)((0,r.pyCallOrSuspend)(n,[t]),(()=>(t._anvil.element.empty(),t._anvil.rows={},t._anvil.cols={},r.pyNone)))}));var u=e=>{var{panelId:t,full_width_row:n,row_background:r}=e,i=(0,l.getCssPrefix)(),o=n?i+"full-width-row":"",a=r?"background:"+p.getColor(r)+";":"";return p.h("div",{refName:"section",className:"anvil-panel-section belongs-to-".concat(t),style:a},p.h("div",{refName:"sectionContainer",className:"anvil-panel-section-container anvil-container-overflow belongs-to-".concat(t," ").concat(o)},p.h("div",{refName:"sectionGutter",className:"anvil-panel-section-gutter belongs-to-".concat(t)})))},d=e=>{var{rowId:t,panelId:n,wrap_on:r}=e;return r=(0,l.getCssPrefix)()+"wrap-"+r.toString(),p.h("div",{refName:"row","data-anvil-row-id":t,className:"anvil-panel-row anvil-panel-row-".concat(t," belongs-to-").concat(n," ").concat(r)})},f=e=>{var{colId:t,panelId:n,wrap_on:r}=e;return r=(0,l.getCssPrefix)()+"wrap-"+r.toString(),p.h("div",{refName:"col","data-anvil-col-id":t,className:"anvil-panel-col anvil-panel-col-".concat(t," belongs-to-").concat(n," ").concat(r)})};class v{constructor(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.columnPanel=e,this.parent=null,this.children=0,this.el=t,this.slotEl=n||t}appendChildContainer(e){this.children++,this.slotEl.appendChild(e.el),e.parent=this}appendChild(e){this.children++,this.slotEl.appendChild(e)}remove(){var e;(this.children--,0===this.children)&&(this.el.remove(),this.cleanup(),null===(e=this.parent)||void 0===e||e.remove())}cleanup(){}}class m extends v{constructor(e,t,n){var[r]=p.h(f,s({colId:t},n));super(e,r),e._anvil.cols[t]=this,this.colId=t}cleanup(){delete this.columnPanel._anvil.cols[this.colId]}}class h extends v{constructor(e,t,n){var[r]=p.h(d,s({rowId:t},n));super(e,r),e._anvil.rows[t]=this,this.rowId=t}cleanup(){delete this.columnPanel._anvil.rows[this.rowId]}}class _ extends v{constructor(e,t){var[n,r]=p.h(u,t);super(e,n,r.sectionGutter)}}
/*!defMethod(_,component,full_width_row=False,**layout_props)!2*/n.add_component=new p.funcWithKwargs((function(n,r,s){return(0,a.validateChild)(s),Sk.misceval.chain(s.anvil$hooks.setupDom(),(a=>{if((0,o.isInvisibleComponent)(s))return e.ClassicContainer._doAddComponent(r,s);var u=(0,l.getCssPrefix)(),d=r._anvil.panelId,f=r._anvil.props.wrap_on,{index:v}=n,g=c(n,["index"]);s._anvil&&(s._anvil.layoutProps=g);var y=(e,n,o)=>{var a=e.anvil$hooks.domElement;a.classList.add("belongs-to-"+d);var{grid_position:l,full_width_row:s,row_background:c}=n,v={panelId:d,wrap_on:f,full_width_row:s,row_background:c},g=(null==l?void 0:l.split(" "))||[(0,i.getRandomStr)(6)+","+(0,i.getRandomStr)(6)],y=void 0;for(var b of g){var[k,S]=b.split(","),w=r._anvil.rows[k];void 0===w&&(w=new h(r,k,v),void 0===y&&(y=new _(r,v),r._anvil.domNode.appendChild(y.el)),y.appendChildContainer(w));var C=r._anvil.cols[S];void 0===C&&(C=new m(r,S,v),w.appendChildContainer(C)),y=C,t(r,w.el)}var O="".concat(u,"col-padding belongs-to-").concat(d," ").concat(u,"col-padding-").concat(r._anvil.getPropJS("col_spacing")),[P]=p.h("div",{refName:"padding",className:O});r._anvil.componentColumnContainers.set(e,y),y.appendChild(P),P.appendChild(a)};if(null==v||v===r._anvil.components.length)y(s,g,r._anvil.components.length);else{r._anvil.element[0].innerHTML="",r._anvil.rows={},r._anvil.cols={};var b=[...r._anvil.components];b.splice(v,0,{component:s,layoutProperties:g}),b.map(((e,t)=>{var{component:n,layoutProperties:r}=e;return y(n,r)}))}return e.ClassicContainer._doAddComponent(r,s,n,{detachDom:()=>{var e,t,n,i=s.anvil$hooks.domElement;null===(e=i.parentElement)||void 0===e||e.remove(),i.classList.remove("belongs-to-"+r._anvil.panelId),null===(t=r._anvil.componentColumnContainers.get(s))||void 0===t||null===(n=t.remove)||void 0===n||n.call(t)}})}))}))}})}},function(e,t,n){"use strict";n(0),n(17),n(55),n(19),n(9),n(3),n(38),n(2);var r=n(10),i=n(137),o=n(4),a=n(6),l=n(175),s=n(31),c=n(56);function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}var u=n(1);e.exports=e=>{function t(e,t){for(var r,i,o=null!==(i=(r=e._anvil).childCleanupMap)&&void 0!==i?i:r.childCleanupMap=new Map,a=arguments.length,l=new Array(a>2?a-2:0),s=2;s<a;s++)l[s-2]=arguments[s];var{detachDom:c,setVisibility:p}=n(e,t,...l);return o.set(t,{detachDom:c,setVisibility:p}),{detachDom(){var e;null===(e=o.get(t))||void 0===e||e.detachDom(),o.delete(t)},setVisibility(e){var n,r;return null===(n=o.get(t))||void 0===n||null===(r=n.setVisibility)||void 0===r?void 0:r.call(n,e)}}}function n(e,t,r,i){var o,a=t.anvil$hooks.domElement,l=a.hasAttribute("anvil-dropzone"),s=(e,t)=>{e.show_if_empty.forEach((e=>{e.classList.toggle("anvil-force-hidden",t)})),e.hide_if_empty.forEach((e=>{e.classList.toggle("anvil-force-hidden",!t)}))};if(void 0!==i)for(var c=i;c<e._anvil.components.length;c++){var p,u;if((null!==(p=null===(u=e._anvil.components[c].layoutProperties)||void 0===u?void 0:u.slot)&&void 0!==p?p:"default")===r){o=e._anvil.components[c].component;break}}var d=e._anvil.slots[r];if(d){var f=d.element;d.components.length||l||s(d,!0);var v,m,h=d.components.findIndex((e=>{var{component:t}=e;return t===o})),_=-1!==h&&d.components[h].carrierElement,g={component:t,carrierElement:t.anvil$hooks.domElement};if(-1===h?d.components.push(g):d.components.splice(h,0,g),d.repeat){var y=g.carrierElement=f.cloneNode(!0);y.removeAttribute("anvil-slot-repeat"),y.setAttribute("anvil-slot-repeated",r);var b=y.querySelector("[anvil-slot],[anvil-component-here]");b?b.appendChild(a):y.appendChild(a),(_||f).insertAdjacentElement("beforebegin",y),v=()=>(y.remove(),d.components=d.components.filter((e=>e.component!==t)),d.components.length||s(d,!1),Sk.builtin.none.none$);var k=y.style.display;m=e=>{y.style.display=e?k:"none"}}else _?_.insertAdjacentElement("beforebegin",a):f.appendChild(a),v=()=>(a.remove(),d.components=d.components.filter((e=>e.component!==t)),d.components.length||s(d,!1),Sk.builtin.none.none$);return{detachDom:v,setVisibility:m}}return"default"===r?(o?o.anvil$hooks.domElement.insertAdjacentElement("beforebegin",a):e._anvil.elements.outer.appendChild(a),{detachDom:()=>a.remove()}):n(e,t,"default",i)}e.HtmlPanel=e.HtmlTemplate=u.mkComponentCls(e,"HtmlTemplate",{base:e.ClassicContainer,properties:u.assembleGroupProperties(
/*!componentProps(HtmlTemplate)!1*/
["user data","tooltip","appearance"],{html:
/*!componentProp(HtmlTemplate)!1*/
{name:"html",type:"html",defaultValue:Sk.builtin.str.$empty,exampleValue:"<b>Hello</b>",description:"The HTML from which this panel is defined",pyVal:!0,important:!0,initialize:!0,set(n,r,i){var s,c=n._anvil.components,p=n.anvil$hooks.domElement;c.forEach((e=>{var{component:t}=e;t.anvil$hooks.domElement.remove()}));var m=(i=i.toString()).match(/^@theme:(.*)$/);m&&(i=e.HtmlTemplate.$_anvilThemeAssets[m[1]]||"");try{!function(e,t){var n;e.innerHTML="";var r=null===(n=f.exec(t))||void 0===n?void 0:n[1].toLowerCase();if(!r)return e.innerHTML=t;var i=d[r];if(!i)return e.innerHTML=t;var o=document.createElement("div"),a=i.length;for(;--a>-1;)o=o.appendChild(document.createElement(i[a]));o.innerHTML=t,e.append(...o.childNodes)}(p,i)}catch(e){console.log("Probably irrelevant HTML/Javascript-parsing exception:",e)}for(var h of p.querySelectorAll("link"))h.addEventListener("load",(e=>{var t;null===(t=u.updateHeight)||void 0===t||t.call(u)}));n._anvil.scripts=Array.from(p.querySelectorAll("script")).map((e=>{var t=e.textContent;e.textContent="";var n=e.src;n&&e.removeAttribute("src");var r=null!=e.getAttribute("async");return{script:e,textContent:t,src:n,isAsync:r}})),n._anvil.onPage&&(s=v(n)),n._anvil.pyElements=new o.pyMappingProxy(new o.pyDict([].concat(...Array.from(p.querySelectorAll("[anvil-name]")).map((e=>[new o.pyStr(e.getAttribute("anvil-name")),(0,o.toPy)(e)])))));var _=n._anvil.slots={};p.querySelectorAll("[anvil-slot]").forEach((e=>{e.classList.add("anvil-inline-container");var t=e.getAttribute("anvil-slot");t&&(_[t]=_[t]||{element:e,hide_if_empty:[],show_if_empty:[],components:[]})})),p.querySelectorAll("[anvil-slot-repeat]").forEach((e=>{n._anvil.slots[e.getAttribute("anvil-slot-repeat")]={element:e,hide_if_empty:[],show_if_empty:[],repeat:!0,components:[]}})),p.querySelectorAll("[anvil-hide-if-slot-empty], [anvil-if-slot-empty]").forEach((e=>{var t=_[e.getAttribute("anvil-hide-if-slot-empty")];t&&(t.hide_if_empty.push(e),e.classList.add("anvil-force-hidden")),(t=_[e.getAttribute("anvil-if-slot-empty")])&&t.show_if_empty.push(e)}));var g=new Map;for(var[y,b]of(null===(k=n._anvil.pyLayoutSlots)||void 0===k?void 0:k.$items())||[]){var k,S=[...b._slotState.components],w=b.tp$getattr(a.s_clear);Sk.misceval.callsimArray(w),g.set(y.toString(),{components:S,pySlot:b})}n._anvil.pyLayoutSlots=new Sk.builtin.dict,c.forEach((e=>{var r=e.component;t(n,r,e.layoutProperties.slot)}));var C=[];for(var[O,P]of Object.entries(n._anvil.slots)){var x=g.get(O),T=(null==x?void 0:x.pySlot)||new l.Slot((()=>n),0,{slot:O},!1,void 0);n._anvil.pyLayoutSlots.mp$ass_subscript(new o.pyStr(O),T),T._slotState.earlierSlots=[...C],C.push(T);var E=T.tp$getattr(a.s_add_component);for(var $ of(null==x?void 0:x.components)||[])(0,o.pyCall)(E,[$])}return s}}}),events:u.assembleGroupEvents("HTML panel",
/*!componentEvents(HtmlTemplate)!1*/
["universal"]),element:e=>u.h(u.OuterElement,p({className:"".concat((0,r.getCssPrefix)(),"html-templated-panel anvil-container anvil-always-inline-container")},e)),layouts:[{name:"slot",type:"string",description:"The name of the template slot where this component will be placed",defaultValue:"",important:!0,priority:0}],locals(n){n.__new__=u.mkNew(e.ClassicContainer,(e=>{var n,r,i,a;e._anvil.addComponentToDom=t,(n=e._anvil).slots||(n.slots={}),(r=e._anvil).scripts||(r.scripts=[]),(i=e._anvil).pyLayoutSlots||(i.pyLayoutSlots=new Sk.builtin.dict),(a=e._anvil).pyElements||(a.pyElements=new Sk.builtin.dict),e._anvil.pyElementsOverwrite=void 0,e._anvil.element.on("_anvil-call",(function(t,n,r,i){var a=e=>{var t=new Sk.builtin.Exception(e);t.traceback=[{filename:"<template>",lineno:"<unknown>"}],window.onerror(null,null,null,null,t),r(e)};t.stopPropagation();var l=e.tp$getattr(new Sk.builtin.str(i));if(void 0!==l){for(var s=arguments.length,c=new Array(s>4?s-4:0),p=4;p<s;p++)c[p-4]=arguments[p];for(var d=new Array(c.length),f=0;f<c.length;f++)try{d[f]=u.unwrapOrRemapToPy(c[f])}catch(t){return void a("Could not convert argument "+f+" (type '"+typeof c[f]+"') to Python when calling '"+i+"' from JavaScript.")}u.callAsync.apply(null,[l,void 0,void 0,void 0].concat(d)).then((e=>{var t=void 0;try{t=(0,o.remapToJsOrWrap)(e)}catch(e){}void 0!==t?n(t):a("Could not convert return value from function '"+i+"' to JavaScript. Return value was of type '"+e.tp$name+"'")})).catch((e=>{r(e)}))}else a("Attempted to call non-existent method from Javascript: <"+Sk.abstr.typeName(e)+" object> has no attribute '"+i+"'.")})),e._anvil.pageEvents={add:()=>v(e)}})),n.slots=(0,a.pyPropertyFromGetSet)((e=>e._anvil.pyLayoutSlots)),n.dom_nodes=(0,a.pyPropertyFromGetSet)((e=>{var t;return null!==(t=e._anvil.pyElementsOverwrite)&&void 0!==t?t:e._anvil.pyElements}),((e,t)=>{e._anvil.pyElementsOverwrite=t})),n.add_component=new u.funcWithKwargs((function(n,r,i){return(0,s.validateChild)(i),Sk.misceval.chain(i.anvil$hooks.setupDom(),(()=>{if((0,c.isInvisibleComponent)(i))return e.ClassicContainer._doAddComponent(r,i);var o=t(r,i,n.slot,n.index);return e.ClassicContainer._doAddComponent(r,i,n,o)}))}));var r=new Sk.builtin.str("remove_from_parent");
/*!defMethod(_,[slot="default"])!2*/n.clear=new u.funcWithKwargs((function(e,t){var n=t._anvil.components.slice(0),i=e.slot,o=[];return n.forEach((e=>{i&&e.layoutProperties.slot!==i||o.push((()=>u.pyCallOrSuspend(e.component.tp$getattr(r))))})),o.push((()=>Sk.builtin.none.none$)),Sk.misceval.chain(void 0,...o)})),n.call_js=new Sk.builtin.func(u.callJs)}}),e.HtmlTemplate.$_anvilThemeAssets={};var d={thead:["table"],col:["colgroup","table"],tr:["tbody","table"],td:["tr","tbody","table"]};d.tbody=d.tfoot=d.colgroup=d.caption=d.thead,d.th=d.td;var f=/<([a-z][^/\0>\x20\t\r\n\f]*)/i;function v(e){var t,n=e._anvil.scripts;return e._anvil.scripts=[],n.forEach((e=>{var{script:n,textContent:r,src:o,isAsync:a}=e;o&&(n.src=o);var l=document.createElement("script");for(var s of(l.async=a,l.textContent=r,n.attributes))l.setAttribute(s.name,s.value);var c=n.isConnected?n.parentNode:null;if(t?t=t.then((()=>null==c?void 0:c.replaceChild(l,n))):null==c||c.replaceChild(l,n),c&&o&&"module"!==(n.type||"").toLowerCase()&&!a){var p=new Promise((e=>{l.onload=e,l.onerror=()=>{(0,i.warn)("Warning: failed to load script with src: ".concat(n.src)),console.error("error loading ".concat(n.src)),e()}}));t=t?t.then((()=>p)):p}})),t&&Sk.misceval.promiseToSuspension(t)}},
/*!defClass(anvil,HtmlTemplate,Container)!*/
"isConnected"in Node.prototype||Object.defineProperty(Node.prototype,"isConnected",{get(){return!(this.ownerDocument&&this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].filter(Boolean).forEach((function(e){Object.prototype.hasOwnProperty.call(e,"remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})}))},function(e,t,n){"use strict";n(13),n(0),n(3),n(2);var r=n(43),i=n(31),o=n(10),a=n(56),l=n(4);n(41);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=n(1);e.exports=e=>{var t=["none","tiny","small","medium","large","huge"],n=(e,n,r)=>{var i=(0,o.getCssPrefix)();t.forEach((t=>{e._anvil.domNode.classList.toggle(i+"flow-spacing-"+t,r===t)}))};e.FlowPanel=p.mkComponentCls(e,"FlowPanel",{base:e.ClassicContainer,properties:p.assembleGroupProperties(
/*!componentProps(FlowPanel)!1*/
["appearance","user data","layout","layout_spacing","tooltip"],{align:
/*!componentProp(FlowPanel)!1*/
{name:"align",important:!0,type:"enum",options:["left","center","right","justify"],description:"Align this component's content",defaultValue:new Sk.builtin.str("left"),pyVal:!0,designerHint:"align-horizontal",set(e,t,n){n={center:"center",right:"flex-end",justify:"space-between"}[n=n.toString()]||"flex-start",e._anvil.elements.gutter.style.justifyContent=n}},vertical_align:
/*!componentProp(FlowPanel)!1*/
{name:"vertical_align",type:"enum",options:["top","middle","bottom","full"],description:"Align this component's content",defaultValue:new Sk.builtin.str("full"),pyVal:!0,designerHint:"align-vertical",set(e,t,n){var r=(0,o.getCssPrefix)();n=n.toString(),["top","middle","bottom","full"].forEach((t=>{e._anvil.domNode.classList.toggle(r+"vertical-align-"+t,n===t)}))}},spacing:{set(e,i,o){t.includes(null==o?void 0:o.toString())?(e._anvil.props.gap=o,n(e,0,o),(0,r.setElementSpacing)(i[0],null)):(0,r.setElementSpacing)(i[0],o)}},gap:
/*!componentProp(FlowPanel)!1*/
{name:"gap",description:"Gap between components",type:"enum",options:["none","tiny","small","medium","large","huge"],defaultValue:Sk.builtin.none.none$,important:!1,priority:0,get(e,n){var r=e._anvil.props.gap;if(r&&r!==l.pyNone)return r;var i=e._anvil.props.spacing;return t.includes(i.toString())?i:(0,l.toPy)("medium")},set(e,t,r){n(e,0,r)}}}),events:p.assembleGroupEvents("FlowPanel",
/*!componentEvents(FlowPanel)!1*/
["universal"]),layouts:[{name:"width",type:"number",description:"The width for an element that is not horizontally self-sizing",defaultValue:null,priority:0,nullable:!0},{name:"expand",type:"boolean",description:"Expand the component",defaultValue:!1,priority:0}],element(e){var n,{align:r,spacing:i,gap:a,vertical_align:u}=e,d=c(e,["align","spacing","gap","vertical_align"]),f=(0,o.getCssPrefix)(),v="flow-spacing-medium",m=(0,l.toJs)(i),h=null!==(n=(0,l.toJs)(a))&&void 0!==n?n:m;return t.includes(h)&&(v=f+"flow-spacing-"+h),t.includes(m)||(d.spacing=i),r="justify-content: "+({center:"center",right:"flex-end",justify:"space-between"}[r.toString()]||"flex-start")+";",u=f+"vertical-align-"+(u.toString()||"top"),p.h(p.OuterElement,s({className:"".concat(f,"flow-panel anvil-container anvil-container-overflow ").concat(v," ").concat(u)},d),p.h("div",{refName:"gutter",className:"".concat(f,"flow-panel-gutter"),style:r}))},locals(t){var n=e=>{var{visible:t=!0,width:n,expand:r}=e,i=(0,o.getCssPrefix)();t=Sk.misceval.isTrue(t)?"":" ".concat(i,"visible-false");var a="";return n&&(a+="width: "+p.cssLength(n.toString())+";"),r&&(a+="flex: 1;"),p.h("div",{className:"".concat(i,"flow-panel-item anvil-always-inline-container")+t,style:a})};
/*!defMethod(_,component,[index=],[width=],[expand=])!2*/t.add_component=p.funcWithKwargs((function(t,r,l){(0,i.validateChild)(l);var{index:s,expand:c=!1}=t;return Sk.misceval.chain(l.anvil$hooks.setupDom(),(i=>{if((0,a.isInvisibleComponent)(l))return e.ClassicContainer._doAddComponent(r,l);var u=r._anvil.elements.gutter,d=i.classList.contains("anvil-inlinable")?"":t.width||"auto",[f]=p.h(n,{width:d,expand:c});return f.appendChild(i),"number"==typeof s&&s<u.children.length?u.insertBefore(f,u.children[s]):u.appendChild(f),e.ClassicContainer._doAddComponent(r,l,t,{detachDom(){$(i).detach(),f.remove()},setVisibility(e){f.classList.toggle((0,o.getCssPrefix)()+"visible-false",!e)}})}))}))}})}},function(e,t,n){"use strict";n(3);var{getCssPrefix:r}=n(10),i=n(1);e.exports=e=>{e.InvalidComponent=i.mkComponentCls(e,"InvalidComponent",{properties:[{name:"text",pyVal:!0,defaultValue:Sk.builtin.str.$empty,set(e,t,n){n=Sk.builtin.checkNone(n)?"":n.toString(),e._anvil.elements.err.textContent=n}}],element:e=>{var{text:t}=e;return i.h("div",{refName:"outer",className:"".concat(r(),"invalid-component")},i.h("i",{refName:"icon",className:"glyphicon glyphicon-remove"}),i.h("div",{refName:"err",className:"".concat(r(),"err")},t.toString()))}})}},function(e,t,n){"use strict";n(13),n(3);var r=n(10),i=n(116),o=n(43);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=n(1),{isTrue:c}=Sk.misceval;e.exports=e=>{function t(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e._anvil.domNode;t?(r.setAttribute("href",t),r.setAttribute("target","_blank"),n?r.setAttribute("download",n):r.removeAttribute("download")):(r.setAttribute("href","javascript:void(0)"),r.removeAttribute("target"),r.removeAttribute("download"))}e.Link=s.mkComponentCls(e,"Link",{base:e.ColumnPanel,properties:s.assembleGroupProperties(
/*!componentProps(Link)!1*/
["text","icon","tooltip","user data"],{text:{suggested:!0,dataBindingProp:!0,set(e,t,n){n=Sk.builtin.checkNone(n)?"":n.toString();var i=(0,r.getCssPrefix)(),{outer:o,holder:a}=e._anvil.elements;o.classList.toggle(i+"has-text",!!n),a.textContent=n,a.style.display=n?"inline-block":"none"},inlineEditElement:"holder",group:void 0},url:
/*!componentProp(Link)!1*/
{name:"url",type:"string",defaultValue:Sk.builtin.str.$empty,pyVal:!0,exampleValue:"https://google.com",description:"The target URL of the link. Can be set to a URL string or to a Media object.",initialize:!0,set(n,r,i){if(n._anvil.urlHandle&&(n._anvil.urlHandle.release(),n._anvil.urlHandle=null,delete n._anvil.urlHandleName),Sk.builtin.checkNone(i))t(n,"");else if(Sk.builtin.checkString(i))t(n,i.toString());else if(c(Sk.builtin.isinstance(i,e.Media)))return Sk.misceval.chain(s.getUrlForMedia(i),(e=>{n._anvil.urlHandle=e,n._anvil.urlHandleName=i._name,n._anvil.onPage&&n._anvil.pageEvents.add()}))}},text_padding:
/*!componentProp(Link)!1*/
{group:"layout",name:"text_padding",type:"padding",hidden:"true"!==localStorage.previewSpacingProperties,description:"Padding for the link text. Only available in apps that have been migrated to use Layouts.",defaultValue:Sk.builtin.none.none$,priority:0,set(e,t,n){(0,o.setElementPadding)(e._anvil.elements.holder,n)},getUnset:(e,t,n)=>(0,o.getUnsetPadding)(e._anvil.elements.holder,n)}}),events:s.assembleGroupEvents(
/*!componentEvents(Link)!1*/
"Link",["universal"],{click:
/*!componentEvent(Link)!1*/
{name:"click",description:"When the link is clicked",parameters:[{name:"keys",description:"A dictionary of keys including 'shift', 'alt', 'ctrl', 'meta'. Each key's value is a boolean indicating if it was pressed during the click event. The meta key on a mac is the Command key",important:!1}],important:!0,defaultEvent:!0}}),element(e){var{col_spacing:t}=e,n=l(e,["col_spacing"]),i=(0,r.getCssPrefix)(),o=s.getOuterClass(n),p=s.getOuterStyle(n),u=s.getPaddingStyle({padding:n.text_padding}),d=s.getOuterAttrs(n),f=n.text=Sk.builtin.checkNone(n.text)?"":n.text.toString(),v=i+"col-padding-"+t.toString(),m="";return c(n.underline)&&(m="text-decoration: underline;"),s.h("a",a({refName:"outer",ontouchstart:"",href:"javascript:void(0)",className:"anvil-inlinable anvil-container ".concat(i,"column-panel ").concat(o," ").concat(v),rel:"noopener noreferrer",style:p},d),s.h(s.IconComponent,a({side:"left"},n)),s.h("div",{refName:"holder",className:"".concat(i,"link-text"),style:u+"display: ".concat(f?"inline-block":"none","; ").concat(m)},Sk.builtin.checkNone(n.text)?"":n.text.toString()),s.h(s.IconComponent,a({side:"right"},n)))},locals(n){n.__new__=s.mkNew(e.ColumnPanel,(e=>{e._anvil.element.on("click",(t=>{(0,i.isHandled)(t)||((0,i.setHandled)(t),s.raiseEventAsync({keys:{meta:t.metaKey,shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey}},e,"click"))})),e._anvil.pageEvents={remove(){e._anvil.urlHandle&&e._anvil.urlHandle.release()},add(){if(e._anvil.urlHandle)return t(e,e._anvil.urlHandle.getUrl(),e._anvil.urlHandleName)}}}))}})}},function(e,t,n){"use strict";n(63),n(13),n(0),n(17),n(49),n(9),n(3),n(20),n(37),n(65),n(66),n(2);var r=n(31),i=n(243),o=n(41),a=n(10),l=n(137),s=n(4),c=n(1),p=n(26),u=n(6),d=n(27),f=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=v();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(214));function v(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return v=function(){return e},e}function m(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){m(o,r,i,a,l,"next",e)}function l(e){m(o,r,i,a,l,"throw",e)}a(void 0)}))}}e.exports=function(e,t){var v,m,_=n(1),g={__name__:new Sk.builtin.str("anvil"),__path__:new Sk.builtin.tuple([new Sk.builtin.str("anvil-services/anvil"),new Sk.builtin.str("src/lib/anvil")]),app_path:Sk.ffi.remapToPy(e),_now:new Sk.builtin.func((function(){return Sk.ffi.remapToPy(Date.now())}))};Sk.__future__.python3?(v=Sk.builtin.bytes,m=e=>new Uint8Array(e)):(v=Sk.builtin.str,m=e=>{for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return t});var y={};
/*!defFunction(anvil,!)!2*/g.get_url_hash=new Sk.builtin.func((function(){var e=document.location.hash;if("?"==e[1]||"!"==e[1]&&"?"==e[2]){var t={};return $.each(e.substring("?"==e[1]?2:3).split("&"),(function(e,n){var r=n.split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])})),Sk.ffi.remapToPy(t)}return Sk.ffi.remapToPy(decodeURIComponent(e.substring(1)))})),g.set_url_hash=new Sk.builtin.func((function(e){var t=Sk.ffi.remapToJs(e);document.location.hash="object"==typeof t?"?"+$.param(t):t})),g.set_default_error_handling=new Sk.builtin.func((function(e){return t.pyHandler=e||Sk.builtin.none.none$,Sk.builtin.none.none$})),g._generate_internal_error=new Sk.builtin.func((function(e){throw{internal:"error"}}));var b,k=Sk.abstr.buildNativeClass("anvil.AppInfo.Environment",{constructor:function(e){this.data=window.anvilAppInfo.environment},slots:{$r(){var{description:e,tags:t}=this.data;return e=Sk.ffi.toPy(e),t=Sk.ffi.toPy(t||[]),new Sk.builtin.str("Environment(name=".concat(Sk.misceval.objectRepr(e),", tags=").concat(Sk.misceval.objectRepr(t),")"))}},getsets:{name_$rw$:{$get(){return Sk.ffi.toPy(this.data.description)}},tags:{$get(){return Sk.ffi.toPy(this.data.tags||[])}}}}),S=document.documentElement,w=Sk.abstr.buildNativeClass("anvil.ThemeColors",{base:Sk.builtin.mappingproxy,constructor:function(){this.mapping=Sk.ffi.toPy(window.anvilThemeColors)},slots:{$r(){return new Sk.builtin.str("ThemeColors(".concat(Sk.misceval.objectRepr(this.mapping),")"))},tp$as_sequence_or_mapping:!0,mp$ass_subscript(e,t){if(void 0===t)throw new Sk.builtin.TypeError("cannot delete a theme color");if(!Sk.builtin.checkString(e))throw new Sk.builtin.TypeError("theme color names must be strings");if(!Sk.builtin.checkString(t))throw new Sk.builtin.TypeError("a theme color must be set to a string");var n=e.toString();if(!(n in window.anvilThemeColors))throw new Sk.builtin.KeyError(e);this.mapping.mp$ass_subscript(e,t),t=t.toString();var r=this.$getVar(n);S.style.setProperty(r,t),window.anvilThemeColors[e]=t}},methods:{update:{$meth(e,t){var n=_.pyCall(Sk.builtin.dict,e,t);for(var[r,i]of n.$items())this.mp$ass_subscript(r,i);return Sk.builtin.none.none$},$flags:{FastCall:!0}}},proto:{$getVar(e){var t;return null!==(t=window.anvilThemeVars[e])&&void 0!==t?t:window.anvilThemeVars[e]="--anvil-color-".concat(e.replace("-"),"-").concat((0,d.getRandomStr)(4))}}}),C=Sk.misceval.buildClass(g,(function(e,t){t.__getattr__=new Sk.builtin.func((function(e,t){var n=Sk.ffi.remapToJs(t);if(Object.prototype.hasOwnProperty.call(window.anvilAppInfo,n))return new Sk.ffi.remapToPy(window.anvilAppInfo[n]);throw new Sk.builtin.AttributeError(t)})),t.__setattr__=new Sk.builtin.func((function(){throw new Sk.builtin.AttributeError("This object is read-only")})),t.theme_colors=(0,u.pyPropertyFromGetSet)((e=>{var t;return null!==(t=b)&&void 0!==t?t:b=new w})),t.environment=new u.pyPropertyFromGetSet((e=>e._environment||(e._environment=new k))),t.get_client_config=new Sk.builtin.func((function(e,t){var n=(0,s.toJs)(t);try{return(0,s.toPy)((0,o.getClientConfig)(n))}catch(e){throw new s.pyValueError(e.message)}}))}),"AnvilAppInfo",[]);g.app=_.pyCall(C),g.pluggable_ui=i.pluggableUI;var O=document.getElementById("appGoesHere");var P=(e,t)=>{var n=e._withLayout._withLayoutSubclass.layout,r=t._withLayout._withLayoutSubclass.layout;return console.log("Checking layout compatibility between",n,"and",r),n.type===r.type&&("form"===n.type?r.formSpec.qualifiedClassName===n.formSpec.qualifiedClassName:"builtin"===n.type?r.name===n.name:r.constructor===n.constructor)};function x(e){if(!e.anvil$hooks)throw new Sk.builtin.TypeError("Attempting to open a form which is not an anvil component, (got type ".concat(null==e?void 0:e.tp$name,")"))}function T(e){x(e),e!==o.topLevelForms.openForm&&(0,r.validateChild)(e,"open_form"),function(){for(;O.firstChild;)O.removeChild(O.lastChild)}();var t=[],n=o.topLevelForms.openForm;return n&&(t.push((()=>(0,p.notifyComponentUnmounted)(n,!0))),o.topLevelForms.openForm=null,t.push((()=>{if(null!==o.topLevelForms.openForm&&(0,l.warn)("Warning: You are likely calling 'open_form()' from inside the hide event of the outgoing form (or from one of its components). This may not be what you want."),e._withLayout&&!e._withLayout.pyLayout&&(null==n?void 0:n._withLayout)&&P(e,n)){var t=n._withLayout.pyLayout;return n._withLayout.pyLayout=void 0,(0,s.chainOrSuspend)(null,...t.tp$getattr(u.s_slots).$items().map((e=>{var[t,n]=e;return()=>(0,s.pyCallOrSuspend)(n.tp$getattr(u.s_clear),[])})),...function*(){for(var{kwargs:r}=e._withLayout,i=(0,u.kwsToObj)(n._withLayout.kwargs),o=function*(e){var n=r[e],o=r[e+1];yield()=>Sk.abstr.sattr(t,new s.pyStr(n),o,!0),delete i[n]},a=0;a<r.length;a+=2)yield*o(a);var l=function*(e){yield()=>Sk.abstr.sattr(t,new s.pyStr(e),t.anvil$customPropsDefaults[e],!0)};for(var c of Object.keys(i))yield*l(c)}(),(()=>{var e,r;return null===(e=(r=n._withLayout).onDissociate)||void 0===e?void 0:e.call(r,t,n)}),(()=>{var n,r;return e._withLayout.pyLayout=t,null===(n=(r=e._withLayout).onAssociate)||void 0===n?void 0:n.call(r,t,e)}))}}))),t.push((()=>e.anvil$hooks.setupDom())),t.push((()=>(O.appendChild(e.anvil$hooks.domElement),o.topLevelForms.openForm=e,(0,p.notifyComponentMounted)(e,!0)))),t.push((()=>e)),Sk.misceval.chain(null,...t)}var E=0;
/*!defFunction(anvil,!,form,*args,**kwargs)!2*/g.open_form=new Sk.builtin.func(_.withRawKwargs((function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=++E;if(void 0===t)throw new Sk.builtin.TypeError("anvil.open_form() requires an argument");if(!(t instanceof Sk.builtin.str))return T(t);var a=t.toString();return Sk.misceval.chain(null,(()=>{var e={__package__:new Sk.builtin.str(window.anvilAppMainPackage)};return Sk.builtin.__import__(a,e,{},[],-1)}),(()=>{var n,i=a.split(".").pop(),o=new Sk.builtin.str(window.anvilAppMainPackage+"."+a);try{n=Sk.sysmodules.mp$subscript(o)}catch(e){n=Sk.sysmodules.mp$subscript(t)}var l=n.$d[i];if(!l)throw new Sk.builtin.AttributeError('"'+a+'" module does not contain a class called "'+i+'"');if(e)for(var s=0;s<e.length;s+=2)e[s]=e[s].toString();return _.pyCallOrSuspend(l,r,e)}),(e=>o!==E?(x(e),e):T(e)))}))),g.get_open_form=new Sk.builtin.func((function(){return o.topLevelForms.openForm||Sk.builtin.none.none$})),g.is_server_side=new Sk.builtin.func((function(){return Sk.builtin.bool.false$})),g.Media=Sk.misceval.buildClass(g,(function(e,t){var n=function(e){var n=new Sk.builtin.str("get_"+e);t[e]=(0,u.pyPropertyFromGetSet)((e=>(0,s.pyCallOrSuspend)(e.tp$getattr(n))),(()=>{throw new Sk.builtin.AttributeError("Cannot change the ".concat(e," of a Media object; create a new Media object instead"))}))};for(var r of["url","content_type","length","name"])n(r);t.get_content_type=new Sk.builtin.func((e=>Sk.builtin.none.none$)),t.get_name=new Sk.builtin.func((e=>Sk.builtin.none.none$)),t.get_bytes=new Sk.builtin.func((e=>Sk.builtin.none.none$)),t.get_url=new Sk.builtin.func((e=>Sk.builtin.none.none$));var i=new Sk.builtin.str("get_bytes");t.get_length=new Sk.builtin.func((e=>Sk.misceval.chain(_.pyCallOrSuspend(e.tp$getattr(i)),Sk.builtin.len)))}),"Media",[]),g.URLMedia=Sk.misceval.buildClass(g,(function(e,t){t.__init__=new Sk.builtin.func((function(e,t){e._url=Sk.ffi.remapToJs(t)})),t.get_url=new Sk.builtin.func((function(e){return new Sk.builtin.str(e._url)}));var n=function(e){return e._fetch||(e._fetch=new Promise((function(t,n){if("data:"==e._url.substring(0,5)){var r=e._url.split(";base64,"),i=r[1],o=atob(i);t({data:o,contentType:r[0].substring(5)})}else window.setLoading(!0),$.ajax({url:e._url,type:"GET",dataType:"binary",processData:!1}).then((function(e,n,r){window.setLoading(!1),t({data:e.arrayBuffer(),contentType:r.getResponseHeader("content-type")})}),(function(t,r,i){window.setLoading(!1);var o="(HTTP "+t.status+")";0===t.status&&(o="(probably due to a cross-origin URL)"),n(new Sk.builtin.RuntimeError("Failed to load media "+o+": "+e._url))}))}))),e._fetch};t.get_content_type=new Sk.builtin.func((function(e){return new _.suspensionPromise((function(t,r){n(e).then((function(e){t(new Sk.builtin.str(e.contentType))}),r)}))})),t.get_bytes=new Sk.builtin.func((function(e){return new _.suspensionPromise((function(t,r){n(e).then((function(e){return e.data}),r).then((function(e){t(new v("string"==typeof e?e:m(e)))})).catch((e=>{console.error(e),r(e)}))}))})),t.get_name=new Sk.builtin.func((function(e){var t=(""+e._url).replace(/\/+$/,"").split("/");return t&&t.length>0?new Sk.builtin.str(t[t.length-1]):Sk.builtin.none.none$}))}),"URLMedia",[g.Media]),g.DataMedia=g.BlobMedia=Sk.misceval.buildClass(g,(function(e,t){t.__init__=_.funcWithRawKwargsDict((function(e,t,n,r,i){if(n=n||e.content_type||e.contentType,r=r||e.content,n instanceof Blob)t._data=n,t._contentType=t._data.type,t._name=r;else{if(void 0===r)throw new Sk.builtin.TypeError("BlobMedia() takes two arguments (content_type and content)");if(!Sk.builtin.checkString(n))throw new Sk.builtin.TypeError("content_type must be a string, not "+Sk.abstr.typeName(n));if(Sk.__future__.python3&&!Sk.builtin.checkBytes(r))throw new Sk.builtin.TypeError("content must be a byte-string, not "+Sk.abstr.typeName(r));if(!Sk.__future__.python3&&!Sk.builtin.checkString(r))throw new Sk.builtin.TypeError("content must be a string or byte-string, not "+Sk.abstr.typeName(r));t._contentType=Sk.ffi.remapToJs(n),t._data=Sk.ffi.remapToJs(r)}"name"in e?t._name=e.name:null!=i&&(t._name=i)})),t.get_url=new Sk.builtin.func((function(e,t){if(!Sk.misceval.isTrue(t||!1))return Sk.builtin.none.none$;var r;if(e._data instanceof Blob)return new _.suspensionPromise((function(t,n){var r=new FileReader;r.onloadend=function(){t(new Sk.builtin.str(r.result))},r.readAsDataURL(e._data)}));if(e._data instanceof Uint8Array){r="";for(var i=e._data,o=0;o<i.length;o++)r+=String.fromCharCode(i[o])}else r=e._data;var a=n(227);return new Sk.builtin.str("data:"+e._contentType.replace(/;/g,"")+";base64,"+a.base64EncStr(r))})),t.get_content_type=new Sk.builtin.func((function(e){return new Sk.builtin.str(e._contentType)})),t.get_bytes=_.funcWithKwargs((function(e,t){return t._data instanceof Blob?new _.suspensionPromise((function(e,n){var r=new FileReader;r.onerror=()=>n(r.error),r.readAsArrayBuffer?(r.onload=()=>e(new v(m(r.result))),r.readAsArrayBuffer(t._data)):(r.onload=()=>e(new v(r.result)),r.readAsBinaryString(t._data))})):new v(t._data)})),t.get_name=new Sk.builtin.func((function(e){return void 0!==e._name?new Sk.builtin.str(e._name):Sk.builtin.none.none$}))}),"BlobMedia",[g.Media]),g.FileMedia=Sk.misceval.buildClass(g,(function(e,t){t.__init__=new Sk.builtin.func((function(e,t){if(!(t instanceof File))throw new Sk.builtin.TypeError("You cannot construct a anvil.FileMedia yourself; it can only come from a File component");e._data=t,e._contentType=t.type,e._name=t.name}))}),"FileMedia",[g.BlobMedia]),g.LazyMedia=Sk.misceval.buildClass(g,(function(e,t){t.__init__=new Sk.builtin.func((function(e,t){if(e.$anvil_isLazyMedia=!0,t&&t.$anvil_isLazyMedia)e._spec=t._spec;else{if(!(t&&t.id&&t.key&&t.manager))throw new Sk.builtin.TypeError("You cannot construct a anvil.LazyMedia from Python. Use anvil.BlobMedia instead.");e._spec=t}}));var n=function(e){if(e._fetched)return e._fetched;var t=new Sk.builtin.list([Sk.ffi.remapToPy(e._spec)]);return Sk.misceval.chain(u.anvilServerMod.__anvil$doRpcCall([],t,"anvil.private.fetch_lazy_media"),(function(t){return e._fetched=t,t}))};t.get_bytes=new Sk.builtin.func((function(e){return Sk.misceval.chain(n(e),(function(e){return Sk.misceval.callsimOrSuspend(Sk.abstr.gattr(e,new Sk.builtin.str("get_bytes")))}))})),t.get_content_type=new Sk.builtin.func((function(e){return e._spec["mime-type"]?Sk.ffi.remapToPy(e._spec["mime-type"]):Sk.misceval.chain(n(e),(function(e){return Sk.misceval.callsimOrSuspend(Sk.abstr.gattr(e,new Sk.builtin.str("get_content_type")))}))})),t.get_url=_.funcFastCall((function(e,t){var[n,r]=Sk.abstr.copyKeywordsToNamedArgs("get_url",["self","download"],e,t,[Sk.builtin.bool.true$]),i=Sk.ffi.toJs(u.anvilServerMod.app_origin),o=Sk.misceval.isTrue(r);return new Sk.builtin.str(i+"/_/lm/"+encodeURIComponent(n._spec.manager)+"/"+encodeURIComponent(n._spec.key)+"/"+encodeURIComponent(n._spec.id)+"/"+encodeURIComponent(n._spec.name||"")+"?_anvil_session="+window.anvilSessionToken+(o?"":"&nodl=1"))})),t.get_name=new Sk.builtin.func((function(e){return void 0!==e._spec.name?new Sk.builtin.str(e._spec.name):Sk.builtin.none.none$}))}),"LazyMedia",[g.Media]),g.create_lazy_media=new Sk.builtin.func(_.withRawKwargs((function(e){return Sk.misceval.applyOrSuspend(u.anvilServerMod.call,void 0,void 0,e,[new Sk.builtin.str("anvil.private.mk_LazyMedia")].concat(Array.prototype.slice.call(arguments,1)))}))),g.LiveObjectProxy=Sk.misceval.buildClass(g,(function(e,t){var n=function(e,t,n,r){return u.anvilServerMod.__anvil$doRpcCall(n,r,t,e._spec)};function r(e,r){t[e]=new Sk.builtin.func((function(t){return-1!=t._spec.methods.indexOf(e)?n(t,e,[],[]):r(t)}))}function i(e,t){return t&&t._anvil_is_LiveObjectProxy&&t._spec.id==e._spec.id&&t._spec.backend==e._spec.backend}t.__init__=new Sk.builtin.func((function(e,t){e._spec=t,e._anvil={},e._anvil_is_LiveObjectProxy=!0})),t.__getattr__=new Sk.builtin.func((function(e,t){var r=t.toString();if(e._spec.methods.indexOf(r)>-1)return new Sk.builtin.func(_.withRawKwargs((function(t){var i=Array.prototype.slice.call(arguments,1);return n(e,r,t,i)})));throw new Sk.builtin.AttributeError("'"+e.tp$name+"' object has no attribute '"+r+"'")})),t.__getitem__=new Sk.builtin.func((function(e,t){if(e._spec.methods.indexOf("__anvil_iter_page__")>-1){if(t instanceof Sk.builtin.int_){var r=Sk.ffi.remapToJs(t);if(r<0)throw new Sk.builtin.IndexError("list index cannot be negative");var i=Sk.misceval.callsim(o,e,r);return _.suspensionFromPromise(_.callAsyncWithoutDefaultError(i.tp$getattr(new Sk.builtin.str("next"))).catch((function(e){if(e instanceof Sk.builtin.StopIteration)throw new Sk.builtin.IndexError("list index out of range");throw e})))}if(t instanceof Sk.builtin.slice){var a=Sk.ffi.remapToJs(t.start),l=Sk.ffi.remapToJs(t.stop),s=Sk.ffi.remapToJs(t.step);if(a<0||l<0||s<0)throw new Sk.builtin.ValueError("list slice indices and step cannot be negative");return Sk.misceval.callsim(o,e,a,l,s)}}if(e._spec.itemCache){var c=Sk.ffi.remapToJs(t);if(c in e._spec.itemCache)return e._spec.itemCache[c]}if(-1!=e._spec.methods.indexOf("__getitem__"))return n(e,"__getitem__",[],[t]);throw new Sk.builtin.TypeError("Indexing with [] is not supported on this "+e._spec.backend)})),t.__setitem__=new Sk.builtin.func((function(e,t,r){if(-1!=e._spec.methods.indexOf("__setitem__")){var i=Sk.ffi.remapToJs(t);return e._spec.itemCache&&delete e._spec.itemCache[i],Sk.misceval.chain(n(e,"__setitem__",[],[t,r]),(function(t){return e._spec.itemCache&&(e._spec.itemCache[i]=r),t}))}throw new Sk.builtin.TypeError("Indexing with [] is not supported on this "+e._spec.backend)})),r("__len__",(e=>{throw new Sk.builtin.TypeError("Cannot call len() on this "+e._spec.backend)})),r("__nonzero__",(()=>Sk.builtin.bool.true$)),r("__bool__",(()=>Sk.builtin.bool.true$)),t.__eq__=new Sk.builtin.func((function(e,t){return i(e,t)?Sk.builtin.bool.true$:Sk.builtin.bool.false$})),t.__ne__=new Sk.builtin.func((function(e,t){return i(e,t)?Sk.builtin.bool.false$:Sk.builtin.bool.true$})),t.__hash__=new Sk.builtin.func((function(e){return Sk.builtin.hash(new Sk.builtin.tuple([e._spec.id,e._spec.backend].map((e=>Sk.ffi.remapToPy(e)))))}));var o=Sk.misceval.buildClass(g,(function(e,t){t.__init__=new Sk.builtin.func((function(e,t,n,r,i){e._spec=t._spec;var o=e._spec.iterItems||{};e._items=o.items,e._pyNextPage=o.nextPage&&Sk.ffi.remapToPy(o.nextPage),e._idx=n||0,e._limit=r,e._step=i})),t.__iter__=new Sk.builtin.func((function(e){return e})),t.next=t.__next__=new Sk.builtin.func((function e(t){if(t._items&&t._idx<t._items.length&&(null==t._limit||t._idx<t._limit)){var r=t._items[t._idx];return t._idx+=null!=t._step?t._step:1,r}if(!t._items||t._pyNextPage&&Sk.misceval.isTrue(t._pyNextPage)){if(null!=t._limit&&t._idx>=t._limit)throw new Sk.builtin.StopIteration;return Sk.misceval.chain(n(t,"__anvil_iter_page__",[],[t._pyNextPage||Sk.builtin.none.none$]),(function(n){return null!=t._limit&&(t._limit-=t._items?t._items.length:0),t._idx-=t._items?t._items.length:t._idx,t._pyNextPage=Sk.misceval.isTrue(n.sq$contains(new Sk.builtin.str("nextPage")))&&n.mp$subscript(new Sk.builtin.str("nextPage")),t._items=n.mp$subscript(new Sk.builtin.str("items")).v,e(t)}))}throw new Sk.builtin.StopIteration}))}),"LiveObjectIterator",[]);t.__iter__=new Sk.builtin.func((function(e){if(e._spec.methods.indexOf("__anvil_iter_page__")<0)throw new Sk.builtin.TypeError("This "+e._spec.backend+" object is not iterable");return Sk.misceval.callsim(o,e)})),t.__repr__=new Sk.builtin.func((function(e){return Sk.ffi.remapToPy("<LiveObject: "+e._spec.backend+">")}))}),"LiveObjectProxy",[]),g._get_live_object_id=new Sk.builtin.func((function(e){if(e&&e._anvil_is_LiveObjectProxy)return new Sk.builtin.str(e._spec.id);var t=e.tp$getattr(new Sk.builtin.str("get_id"));if(void 0===t)throw new Sk.builtin.TypeError("Argument is not a LiveObject");return void 0===y._get_live_object_id&&(y._get_live_object_id=!0,Sk.builtin.print(["Deprecated: _get_live_object_id is no longer required - call row.get_id() instead."])),_.pyCallOrSuspend(t)})),g._clear_live_object_caches=new Sk.builtin.func((function(e){if(e&&e._anvil_is_LiveObjectProxy)return e._spec.itemCache={},void(e._spec.iterItems={});var t=e.tp$getattr(new Sk.builtin.str("_clear_cache"));if(void 0===t)throw new Sk.builtin.TypeError("Argument is not a LiveObject");return _.pyCallOrSuspend(t)})),g._get_service_client_config=new Sk.builtin.func((function(e){var t=Sk.ffi.remapToJs(e);return Sk.ffi.remapToPy(window.anvilServiceClientConfig[t]||null)})),g._get_anvil_cdn_origin=new Sk.builtin.func((()=>Sk.ffi.remapToPy(window.anvilCDNOrigin))),g.get_focused_component=new Sk.builtin.func((function(){var e=document.activeElement,t=$(e).closest(".anvil-component");return t.length>0?t.data("anvil-py-component"):Sk.builtin.none.none$}));var j=0;function A(e){return M.apply(this,arguments)}
/*!defFunction(anvil,_,content,[title=""],[buttons=],[large=False],[dismissible=True],[role=])!2*/function M(){return(M=h((function*(e){var t,n,i=Sk.builtin.none.none$,{large:a,title:l,content:u,buttons:v,dismissible:m,role:y}=e,b=null;a=Sk.misceval.isTrue(a),m=Sk.misceval.isTrue(m),l=null==Sk.ffi.toJs(e.title)?null:String(l),v=null===(t=v)||void 0===t?void 0:t.valueOf(),Array.isArray(v)||(v=[]),u instanceof g.Component?(n=u,b=!0,(0,r.validateChild)(u,"alert")):u&&(b=u.toString()),v=v.map((e=>{var t=null==e?void 0:e.valueOf(),n="",r=Sk.builtin.none.none$,o="";"string"==typeof t?(n=t,r=e):Array.isArray(t)&&([n="",r=Sk.builtin.none.none$,o=""]=t,n=String(n),o=String(o));return{text:n,style:o,onClick:()=>{i=r}}}));var k=yield f.default.create({id:j++,large:a,title:l,dismissible:m,body:b,buttons:v,backdrop:m||"static",keyboard:m});y&&_.applyRole(y,k.elements.modalDialog);var{promise:S,resolve:w}=(0,d.defer)(),C=[],O=[];if(n){var P=yield(0,c.asyncToPromise)((()=>n.anvil$hooks.setupDom()));k.elements.modalBody.append(P),(0,s.pyCall)(n.tp$getattr(new Sk.builtin.str("set_event_handler")),[new Sk.builtin.str("x-close-alert"),_.funcWithRawKwargsDict((e=>{var t;i=null!==(t=e.value)&&void 0!==t?t:s.pyNone,k.hide()}))]),C.push((()=>(0,p.notifyComponentUnmounted)(n,!0))),O.push((()=>(0,p.notifyComponentMounted)(n,!0)))}var x=!1;return k.once("hide",(()=>{x=!0})),k.once("hidden",(()=>{j--,n&&($(n.anvil$hooks.domElement).detach(),o.topLevelForms.alertForms.delete(n)),(0,c.asyncToPromise)((()=>(0,s.chainOrSuspend)(null,...C))).then((()=>w(i)))})),k.once("show",h((function*(){x||(n&&o.topLevelForms.alertForms.add(n),yield(0,c.asyncToPromise)((()=>(0,s.chainOrSuspend)(null,...O))))}))),yield k.show(),S}))).apply(this,arguments)}return g.alert=new Sk.builtin.func(_.withRawKwargs((function(e,t){var n,r,i=_.keywordArrayToHashMap(e);return null!==(n=i.content)&&void 0!==n||(i.content=t),null!==(r=i.dismissible)&&void 0!==r||(i.dismissible=!0),i.buttons=i.buttons||Sk.ffi.toPy([["OK",!0,"success"]]),_.suspensionFromPromise(A(i))}))),g.confirm=new Sk.builtin.func(_.withRawKwargs((function(e,t){var n,r,i,o=_.keywordArrayToHashMap(e);return null!==(n=o.content)&&void 0!==n||(o.content=t),null!==(r=o.buttons)&&void 0!==r||(o.buttons=Sk.ffi.toPy([["No",!1,"danger"],["Yes",!0,"success"]])),null!==(i=o.dismissible)&&void 0!==i||(o.dismissible=!1),_.suspensionFromPromise(A(o))}))),g.Notification=Sk.misceval.buildClass(g,(function(e,t){var n,r=()=>{var e;if(!n||window.anvilParams.runtimeVersion>=3){var t=(0,a.getCssPrefix)(),r='<div data-notify="container" class="'.concat(t,"col-xs-11 ").concat(t,"col-sm-4 ").concat(t,"alert ").concat(t,'alert-{0}" role="alert">\n                <button type="button" aria-hidden="true" class="').concat(t,'close" data-notify="dismiss">&times;</button>\n                <span data-notify="icon"></span> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span>\n                '),i={enter:"".concat(t,"animated ").concat(t,"fadeInDown"),exit:"".concat(t,"animated ").concat(t,"fadeOutUp")};n={template:r,animate:i}}return null!==(e=n)&&void 0!==e?e:n={}};function i(e){if(e._anvil.notification)throw new Sk.builtin.RuntimeError("Notification already visible");var{message:t,title:n,style:i,timeout:o}=e._anvil,{template:a,animate:l}=r();return e._anvil.notification=$.notify({message:t,title:n},{type:i,delay:o||2e3,timer:0===o?0:10,placement:{from:"top",align:"center"},mouse_over:"pause",template:a,z_index:f.BOOTSTRAP_MODAL_BG,animate:l,onClosed(){e._anvil.notification=null}}),(0,s.chainOrSuspend)((0,s.promiseToSuspension)(new Promise((e=>setTimeout(e)))),(()=>e))}
/*!defMethod(,message,[title=""],[style="info"], [timeout=2])!2*/t.__init__=_.funcFastCall((function(e,t){var[n,r,i,o,a]=Sk.abstr.copyKeywordsToNamedArgs("Notification",["self","message","title","style","timeout"],e,t,[s.pyStr.$empty,new s.pyStr("info"),new s.pyInt(2)]);return n._anvil={message:(0,s.toJs)(r),title:(0,s.toJs)(i),style:(0,s.toJs)(o),timeout:1e3*(0,s.toJs)(a)},s.pyNone})),t.show=new s.pyFunc((e=>i(e))),t.__enter__=new s.pyFunc((function(e){return e._anvil.timeout=0,i(e)})),t.hide=new s.pyFunc((function(e){var t,n;return null===(t=e._anvil.notification)||void 0===t||null===(n=t.close)||void 0===n||n.call(t),s.pyNone})),t.__exit__=t.hide}),"Notification",[]),g}},function(e,t,n){"use strict";e.exports=function(){var e,t,r=n(227),i=(n(1),{__name__:new Sk.builtin.str("base64")}),o=new Sk.builtin.func((function(){throw new Sk.builtin.NotImplementedError("The 'base64' module in Anvil forms is limited to simple use of b64encode() and b64decode(). For full functionality, use a server module.")}));return i.b32encode=o,i.b32decode=o,i.b16encode=o,i.b16decode=o,i.encode=o,i.decode=o,Sk.__future__.python3?(e=Sk.builtin.bytes,t=Sk.builtin.checkBytes):(e=Sk.builtin.str,t=Sk.builtin.checkString),i.b64encode=i.encodebytes=i.encodestring=new Sk.builtin.func((function(n){return Sk.builtin.pyCheckArgs("b64encode",arguments,1,1),Sk.builtin.pyCheckType("argument","bytes-like object",t(n)),new e(r.base64EncStr(n.$jsstr()))})),i.b64decode=new Sk.builtin.func((function(t){return Sk.builtin.pyCheckArgs("b64decode",arguments,1,1),Sk.builtin.pyCheckType("argument","bytes-like object or ASCII string",Sk.builtin.checkBytes(t)||Sk.builtin.checkString(t)),new e(r.base64DecToStr(t.$jsstr()))})),i.decodestring=i.decodebytes=new Sk.builtin.func((function(n){return Sk.builtin.pyCheckArgs("b64decode",arguments,1,1),Sk.builtin.pyCheckType("argument","bytes-like object",t(n)),new e(r.base64DecToStr(n.$jsstr()))})),i}},function(e,t,n){"use strict";n(37),e.exports=function(){var e={__name__:new Sk.builtin.str("anvil.xml")};return e.XMLDocument=Sk.misceval.buildClass(e,(function(t,n){n.__init__=new Sk.builtin.func((function(e,t){e._anvil={jqDoc:$(t)}})),n.find=new Sk.builtin.func((function(t,n){return Sk.misceval.call(e.XMLDocument,void 0,void 0,void 0,t._anvil.jqDoc.find(Sk.ffi.remapToJs(n)))})),n.attr=new Sk.builtin.func((function(e,t,n){return n?(e._anvil.jqDoc.attr(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n)),e):Sk.ffi.remapToPy(e._anvil.jqDoc.attr(Sk.ffi.remapToJs(t)))})),n.text=new Sk.builtin.func((function(e,t){return t?(e._anvil.jqDoc.text(Sk.ffi.remapToJs(t)),e):Sk.ffi.remapToPy(e._anvil.jqDoc.text())})),n.tag_name=new Sk.builtin.func((function(e){return Sk.ffi.remapToPy(e._anvil.jqDoc[0].tagName.split(":")[1]||e._anvil.jqDoc[0].tagName)})),n.find_in_ns=new Sk.builtin.func((function(t,n,r){var i=t._anvil.jqDoc[0].getElementsByTagNameNS(Sk.ffi.remapToJs(n),Sk.ffi.remapToJs(r)),o=[];return $(i).each((function(t,n){var r=Sk.misceval.call(e.XMLDocument,void 0,void 0,void 0,n);o.push(r)})),new Sk.builtin.list(o)})),n.serialize=new Sk.builtin.func((function(e){return Sk.ffi.remapToPy((new XMLSerializer).serializeToString(e._anvil.jqDoc[0]))})),n.__str__=n.__repr__=new Sk.builtin.func((function(e){return Sk.ffi.remapToPy(e._anvil.jqDoc.text())}))}),"XMLDocument",[]),e}},function(e,t,n){"use strict";n(171),n(3),n(20),e.exports=function(){var e={__name__:new Sk.builtin.str("re")};return e.replace=new Sk.builtin.func((function(e,t,n){var r=Sk.ffi.remapToJs(e),i=Sk.ffi.remapToJs(t),o=Sk.ffi.remapToJs(n),a=r.replace(new RegExp(i,"g"),o);return Sk.ffi.remapToPy(a)})),e}},function(e,t,n){"use strict";var{pyCall:r,pyTypeError:i,pyFunc:o,toPy:a,toJs:l,pyStr:s,pyNone:c,lookupSpecial:p,checkOneArg:u,buildPyClass:d}=n(4),{datetimeMod:f,kwsToObj:v}=n(6);e.exports=function(){var e={__name__:new s("anvil.tz")},t=n(1),m=f.timedelta,h=f.tzinfo,_=new s("_offset"),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];u("tzoffset",e);var n=e[0],o=v(t),a=t.length/2;if(a>1||!(0===a||"hours"in o||"minutes"in o||"seconds"in o))throw new i("tzoffset must be initialised with precisely one of 'seconds', 'minutes' or 'hours' keyword arguments");var l=r(m,[],t);return n.tp$setattr(_,l),c};return e.tzoffset=d(e,((e,n)=>{n.__init__=t.funcFastCall(g),n.utcoffset=new o((e=>e.tp$getattr(_))),n.dst=new o((e=>r(m))),n.tzname=new o((e=>c)),n.__repr__=new o((e=>{var t=e.tp$getattr(_).tp$getattr(a("total_seconds")),n=p(e,s.$module),i=e.tp$name;return a("<".concat(n,".").concat(i," (").concat(l(r(t))/3600," hour offset)>"))}))}),"tzoffset",[h]),e.tzlocal=d(e,((e,t)=>{t.__init__=new o((e=>g([e],["minutes",a(-(new Date).getTimezoneOffset())]))),t.tzname=new o((e=>a("Browser Local")))}),"tzlocal",[e.tzoffset]),e.tzutc=d(e,((e,t)=>{t.__init__=new o((e=>g([e],["minutes",a(0)]))),t.tzname=new o((e=>a("UTC"))),t.__repr__=new o((e=>a("<anvil.tz.tzutc>")))}),"tzlocal",[e.tzoffset]),e.UTC=r(e.tzutc),e}},function(e,t,n){"use strict";e.exports=function(){var e={__name__:new Sk.builtin.str("shapes")};n(1);return e.Shape=Sk.misceval.buildClass(e,(function(e,t){var n=function(e,t){t.fillStyle=Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("fill"))),t.strokeStyle=Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("stroke")))};t.__init__=new Sk.builtin.func((function(e,t,r){e.tp$setattr(new Sk.builtin.str("fill"),r),e.tp$setattr(new Sk.builtin.str("stroke"),t),e.tp$setattr(new Sk.builtin.str("draggable"),Sk.ffi.remapToPy(!0)),e._anvil={},e._anvil.draw=n.bind(null,e)}))}),"Shape",[]),e.Rectangle=Sk.misceval.buildClass(e,(function(t,n){var r=function(e,t,n){t(n),e.tp$getattr(new Sk.builtin.str("fill"))!=Sk.builtin.none.none$&&n.fillRect(Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("x"))),Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("y"))),Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("width"))),Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("height")))),e.tp$getattr(new Sk.builtin.str("stroke"))!=Sk.builtin.none.none$&&n.strokeRect(Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("x"))),Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("y"))),Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("width"))),Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("height"))))},i=function(e,t,n){var r=t=>e.tp$getattr(new Sk.builtin.str(t));return t>Sk.ffi.remapToJs(r("x"))&&n>Sk.ffi.remapToJs(r("y"))&&t<Sk.ffi.remapToJs(r("x"))+Sk.ffi.remapToJs(r("width"))&&n<Sk.ffi.remapToJs(r("y"))+Sk.ffi.remapToJs(r("height"))},o=function(e,t,n){e.tp$setattr(new Sk.builtin.str("x"),Sk.ffi.remapToPy(Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("x")))+t)),e.tp$setattr(new Sk.builtin.str("y"),Sk.ffi.remapToPy(Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("y")))+n))};n.__init__=new Sk.builtin.func((function(t,n,a,l,s,c,p){Sk.misceval.call(e.Shape.prototype.__init__,void 0,void 0,void 0,t,c,p),t.tp$setattr(new Sk.builtin.str("x"),n),t.tp$setattr(new Sk.builtin.str("y"),a),t.tp$setattr(new Sk.builtin.str("width"),l),t.tp$setattr(new Sk.builtin.str("height"),s),t._anvil.draw=r.bind(null,t,t._anvil.draw),t._anvil.hitTest=i.bind(null,t),t._anvil.moveBy=o.bind(null,t)}))}),"Rectangle",[e.Shape]),e.Circle=Sk.misceval.buildClass(e,(function(t,n){var r=function(e,t,n){t(n),n.beginPath(),n.arc(Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("x"))),Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("y"))),Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("radius"))),0,2*Math.PI),e.tp$getattr(new Sk.builtin.str("fill"))!=Sk.builtin.none.none$&&n.fill(),e.tp$getattr(new Sk.builtin.str("stroke"))!=Sk.builtin.none.none$&&n.stroke()},i=function(e,t,n){var r=t-Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("x"))),i=n-Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("y")));return Math.sqrt(r*r+i*i)<Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("radius")))},o=function(e,t,n){e.tp$setattr(new Sk.builtin.str("x"),Sk.ffi.remapToPy(Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("x")))+t)),e.tp$setattr(new Sk.builtin.str("y"),Sk.ffi.remapToPy(Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("y")))+n))};n.__init__=new Sk.builtin.func((function(t,n,a,l,s,c){Sk.misceval.call(e.Shape.prototype.__init__,void 0,void 0,void 0,t,s,c),t.tp$setattr(new Sk.builtin.str("x"),n),t.tp$setattr(new Sk.builtin.str("y"),a),t.tp$setattr(new Sk.builtin.str("radius"),l),t._anvil.draw=r.bind(null,t,t._anvil.draw),t._anvil.hitTest=i.bind(null,t),t._anvil.moveBy=o.bind(null,t)}))}),"Circle",[e.Shape]),e}},function(e,t,n){"use strict";n(0),n(17),n(3),n(2);var r,i=n(138),o=n(76),a=n(41),l=n(6),s=n(4),c=(r=n(1))&&r.__esModule?r:{default:r},p=n(230),u=n(27),d=n(339),f=n(244);e.exports=function(e,t){var n={__name__:new s.pyStr("anvil.server"),app_origin:(0,s.toPy)(t),loading_indicator:d.loading_indicator},r=e=>{if(!(e instanceof s.pyStr)){var t="first argument to anvil.server.call() must be as str, got '".concat((0,s.typeName)(e),"'");throw new s.pyTypeError(t)}return!0};n._call_http=new s.pyFunc(c.default.withRawKwargs((function(e,t){r(t);for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return(0,f.doHttpCall)(e,i,t.toString())})));var v=window.anvilParams.isCrawler?f.doHttpCall:f.doRpcCall;n.call_$rw$=new s.pyFunc(c.default.withRawKwargs((function(e,t){r(t);for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return v(e,i,t.toString())}))),n.call_s=new s.pyFunc(c.default.withRawKwargs((function(e,t){r(t);for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return v(e,i,t.toString(),void 0,!0)}))),n.launch_background_task=new s.pyFunc(c.default.withRawKwargs((function(e,t){throw new s.pyRuntimeError("Cannot launch Background Tasks from client code.")}))),n.__anvil$doRpcCall=v,n.LazyMedia=l.anvilMod.LazyMedia,n.Serializable=(0,s.buildPyClass)(n,(()=>{}),"Serializable",[s.pyObject]),n._n_invalidations=(0,s.toPy)(0);var m=(0,s.buildNativeClass)("_CapAny",{constructor:function(){},slots:{$r:()=>new s.pyStr("ANY")}}),h=Object.create(m.prototype),_=n.Capability=(0,s.buildNativeClass)("anvil.server.Capability",{constructor:function(e,t,r){this._nInvalidations=n._n_invalidations.valueOf(),this._scope=e,this._mac=t,this._narrow=r||(r=[]),this._localTag=null,this._hash=null;var i,o=e.concat(r);this._fullScope=o,this._JSONScope=JSON.stringify(o),this._doApplyUpdate=null,this._applyUpdate=e=>this._doApplyUpdate?c.default.pyCallOrSuspend(this._doApplyUpdate,[e]):s.pyNone,Object.defineProperties(this,{_pyFullScope:{get(){var e;return null!==(e=i)&&void 0!==e||(i=(0,s.toPy)(o).valueOf()),new s.pyList([...i])}}})},slots:{tp$new(e,t){throw new s.pyRuntimeError("Cannot create new Capability objects in Form code.")},$r(){var e=(0,s.objectRepr)(this._pyFullScope);return new s.pyStr("<anvil.server.Capability:".concat(e,">"))},tp$hash(){var e;return null!==(e=this._hash)&&void 0!==e?e:this._hash=(0,s.pyObjectHash)(new s.pyStr(this._JSONScope))},tp$richcompare(e,t){if("Eq"!==t&&"NotEq"!==t||e.ob$type!==_)return s.pyNotImplemented;var n=(0,s.richCompareBool)(this._pyFullScope,e._pyFullScope,"Eq");return"Eq"===t?n:!n}},methods:{
/*!defBuiltinMethod(anvil.server.Capability instance,additional_scope)!1*/
narrow:{$name:"narrow",$meth(e){if(!(e instanceof s.pyList))throw new s.pyTypeError("The narrow argument of a Capability should be a list");var t;try{var n=()=>{throw Error("bad pyobject")};t=(0,s.toJs)(e,{setHook:n,unhandledHook:n})}catch(e){throw new s.pyTypeError("The narrow argument provided is not valid JSON data.")}var r=this._narrow.concat(t);return new _(this._scope,this._mac,r)},$flags:{OneArg:!0},$doc:"Return a new capability that is narrower than this one, by appending additional scope element(s) to it."},
/*!defBuiltinMethod(_,apply_update:callable,[get_update:callable])!1*/
set_update_handler:{$name:"set_update_handler",$meth(e,t){return this._doApplyUpdate=e,s.pyNone},$flags:{MinArgs:1,MaxArgs:2},$doc:"Set a handler for what happens when an update is sent to this capability.\n\nOptionally provide a function for aggregating updates (default behaviour is to merge them, if they are all dictionaries, or to return only the most recent update otherwise.)"},
/*!defBuiltinMethod(_,update)!1*/
send_update:{$name:"send_update",$meth(e){return this._applyUpdate(e)},$flags:{OneArg:!0},$doc:"Send an update to the update handler for this capability, in this interpreter and also in any calling environment (eg browser code) that passed this capability into the current server function."}},getsets:{scope:{$get(){return this._pyFullScope}},is_valid:{$get(){return new s.pyBool(this._nInvalidations===n._n_invalidations.valueOf())}}},proto:{ANY:h},flags:{sk$unacceptableBase:!0}});
/*!defClass(anvil.server, Capability)!*/
n.unwrap_capability=new s.pyFunc(((e,t)=>{if((0,s.pyType)(e)!==_)throw new s.pyTypeError("The first argument must be a Capability");if(!(t instanceof s.pyList))throw new s.pyTypeError("scope_pattern should be a list, not ".concat((0,s.typeName)(t)));var n=t.valueOf(),r=e._pyFullScope,i=r.valueOf();if(i.length>n.length)throw new s.pyValueError("Capability is too narrow: required ".concat((0,s.objectRepr)(t),"; got ").concat((0,s.objectRepr)(r)));for(var o=new Array(n.length).fill(s.pyNone),a=0;a<i.length;a++){var l=n[a],c=i[a];if(l!==h&&c!==l&&!(0,s.richCompareBool)(c,l,"Eq"))throw new s.pyValueError("Incorrect Capability: required ".concat((0,s.objectRepr)(t),"; got ").concat((0,s.objectRepr)(r)));o[a]=c}return new s.pyList(o)})),n.SerializationInfo=f.SerializationInfo,n._register_exception_type=new s.pyFunc((function(e,t){if(!(e&&e instanceof s.pyStr&&t))throw new s.pyTypeError("Invalid call to _register_exception_type");return f.pyNamedExceptions[e.v]=t,s.pyNone}));var g=new s.pyStr("message");n.AnvilWrappedError=(0,s.buildPyClass)(n,(function(e,t){t.__init__=new s.pyFunc(((e,t)=>(t||(t=s.pyStr.$empty),e.tp$setattr(g,t),s.pyNone))),t.__repr__=new s.pyFunc((e=>{var t,r,i=s.pyException.prototype.$r.call(e);if(e.ob$type!==n.AnvilWrappedError)return i;var o=null===(t=e._anvil)||void 0===t||null===(r=t.errorObj)||void 0===r?void 0:r.type;return void 0===o?i:new s.pyStr("AnvilWrappedError(".concat(o+i.toString().slice("AnvilWrappedError".length),")"))}))}),"AnvilWrappedError",[s.pyException]),
/*!defClass(anvil.server,%SessionExpiredError, __builtins__..Exception)!*/
f.pyNamedExceptions["anvil.server.SessionExpiredError"]=n.SessionExpiredError=(0,s.buildPyClass)(n,((e,t)=>{t.__init__=new s.pyFunc((function(e){return e.traceback=[],e.args=new s.pyList([(0,s.toPy)("Session expired")]),s.pyNone}))}),"SessionExpiredError",[s.pyException]),n.AnvilSessionExpiredException=n.SessionExpiredError,
/*!defClass(anvil.server,!AppOfflineError, __builtins__..Exception)!*/
f.pyNamedExceptions["anvil.server.AppOfflineError"]=n.AppOfflineError=(0,s.buildPyClass)(n,(()=>{}),"AppOfflineError",[s.pyException]),
/*!defClass(anvil.server,%UplinkDisconnectedError, __builtins__..Exception)!*/
f.pyNamedExceptions["anvil.server.UplinkDisconnectedError"]=n.UplinkDisconnectedError=(0,s.buildPyClass)(n,(()=>{}),"UplinkDisconnectedError",[s.pyException]),
/*!defClass(anvil.server,%ExecutionTerminatedError, __builtins__..Exception)!*/
f.pyNamedExceptions["anvil.server.ExecutionTerminatedError"]=n.ExecutionTerminatedError=(0,s.buildPyClass)(n,(()=>{}),"ExecutionTerminatedError",[s.pyException]),
/*!defClass(anvil.server,%TimeoutError, __builtins__..Exception)!*/
f.pyNamedExceptions["anvil.server.TimeoutError"]=n.TimeoutError=(0,s.buildPyClass)(n,(()=>{}),"TimeoutError",[s.pyException]),
/*!defClass(anvil.server,SerializationError, __builtins__..Exception)!*/
f.pyNamedExceptions["anvil.server.SerializationError"]=n.SerializationError=(0,s.buildPyClass)(n,(()=>{}),"SerializationError",[s.pyException]),
/*!defClass(anvil.server,%InternalError, __builtins__..Exception)!*/
f.pyNamedExceptions["anvil.server.InternalError"]=n.InternalError=(0,s.buildPyClass)(n,(()=>{}),"InternalError",[s.pyException]),
/*!defClass(anvil.server,%RuntimeUnavailableError, __builtins__..Exception)!*/
f.pyNamedExceptions["anvil.server.RuntimeUnavailableError"]=n.RuntimeUnavailableError=(0,s.buildPyClass)(n,(()=>{}),"RuntimeUnavailableError",[s.pyException]),
/*!defClass(anvil.server,%QuotaExceededError, __builtins__..Exception)!*/
f.pyNamedExceptions["anvil.server.QuotaExceededError"]=n.QuotaExceededError=(0,s.buildPyClass)(n,(()=>{}),"QuotaExceededError",[s.pyException]),
/*!defClass(anvil.server,%NoServerFunctionError, __builtins__..Exception)!*/
f.pyNamedExceptions["anvil.server.NoServerFunctionError"]=n.NoServerFunctionError=(0,s.buildPyClass)(n,(()=>{}),"NoServerFunctionError",[s.pyException]),
/*!defClass(anvil.server,PermissionDenied, __builtins__..Exception)!*/
f.pyNamedExceptions["anvil.server.PermissionDenied"]=n.PermissionDenied=(0,s.buildPyClass)(n,(()=>{}),"PermissionDenied",[s.pyException]),
/*!defClass(anvil.server,%InvalidResponseError, __builtins__..Exception)!*/
f.pyNamedExceptions["anvil.server.InvalidResponseError"]=n.InvalidResponseError=(0,s.buildPyClass)(n,(()=>{}),"InvalidResponseError",[s.pyException]),f.pyNamedExceptions["anvil.server._FailError"]=n._FailError=(0,s.buildPyClass)(n,(()=>{}),"_FailError",[s.pyException]),
/*!defClass(anvil.server,%BackgroundTaskError, __builtins__..Exception)!*/
f.pyNamedExceptions["anvil.server.BackgroundTaskError"]=n.BackgroundTaskError=(0,s.buildPyClass)(n,(()=>{}),"BackgroundTaskError",[s.pyException]),
/*!defClass(anvil.server,%BackgroundTaskNotFound, __builtins__..Exception)!*/
f.pyNamedExceptions["anvil.server.BackgroundTaskNotFound"]=n.BackgroundTaskNotFound=(0,s.buildPyClass)(n,(()=>{}),"BackgroundTaskNotFound",[s.pyException]),
/*!defClass(anvil.server,%BackgroundTaskKilled, __builtins__..Exception)!*/
f.pyNamedExceptions["anvil.server.BackgroundTaskKilled"]=n.BackgroundTaskKilled=(0,s.buildPyClass)(n,(()=>{}),"BackgroundTaskKilled",[s.pyException]),
/*!defClass(anvil.server,ServiceNotAdded, __builtins__..Exception)!*/
f.pyNamedExceptions["anvil.server.ServiceNotAdded"]=n.ServiceNotAdded=(0,s.buildPyClass)(n,(()=>{}),"ServiceNotAdded",[s.pyException]);var y=(0,s.buildPyClass)(n,(function(e,t){t.__enter__=new s.pyFunc((function(e){return u.globalSuppressLoading.inc(),e})),t.__exit__=new s.pyFunc((function(e){return u.globalSuppressLoading.dec(),s.pyNone}))}),"no_loading_indicator",[]);
/*!defModuleAttr(anvil.server)!1*/n.no_loading_indicator=(0,s.pyCall)(y);var b=n.__anvil$doInvalidatedMacs=()=>(console.log("Invalidated MACs!"),n._n_invalidations=(0,s.toPy)(n._n_invalidations.valueOf()+1),(0,s.pyIterFor)(n._invalidation_callbacks.tp$iter(),(e=>(0,s.pyCallOrSuspend)(e,[]))));
/*!defFunction(anvil.server,!_)!2*/function k(e,t){(0,s.pyCheckType)("event_name","str",(0,s.checkString)(e)),(0,s.pyCheckType)("event_handler","callable function",(0,s.checkCallable)(t));var n=e.toString();return(f.pyServerEventHandlers[n]||(f.pyServerEventHandlers[n]=[])).push(t),f.websocket||(0,f.connect)(),s.pyNone}n.reset_session=new s.pyFunc((function(){return(0,s.chainOrSuspend)((0,s.pyCallOrSuspend)(n.call_s,[new s.pyStr("anvil.private.reset_session")]),(e=>(window.anvilSessionToken=(0,s.toJs)(e),b())),(()=>s.pyNone))})),n._invalidation_callbacks=new s.pyList,n._on_invalidate_client_objects=new s.pyFunc((function(e){return(0,s.pyCall)(n._invalidation_callbacks.tp$getattr(new s.pyStr("append")),[e]),s.pyNone})),n.invalidate_client_objects=new s.pyFunc((function(){return(0,s.chainOrSuspend)(v([],[],"anvil.private.invalidate_client_objects"),b,(()=>s.pyNone))}));var S=new s.pyStr("SERIALIZATION_INFO");(0,s.setUpModuleMethods)("anvil.server",n,{portable_class:{$meth(e,t){var n=(e,t)=>{var n,r=t?t.valueOf():null;if(null==r){var i=Sk.abstr.gattr(e,s.pyStr.$module).toString(),o=Sk.abstr.gattr(e,s.pyStr.$name).toString();"__main__"===i&&window.anvilAppMainModule&&(i=window.anvilAppMainPackage+"."+window.anvilAppMainModule),r="".concat(i,".").concat(o)}else if("string"!=typeof r)throw new s.pyTypeError("The second argument to portable_class must be a string, got "+(0,s.typeName)(t));e.anvil$serializableName=r;try{e.tp$setattr(S,new s.pyTuple([new s.pyStr(r),e]))}catch(e){}f.pyValueTypes[r]=e;var a=null!==(n=O.get(e))&&void 0!==n?n:[];for(var[l,c]of a)c._server_name="anvil.server_side/"+r+"."+l;return e};if(t===s.pyNone&&e instanceof s.pyStr){var r=e;return new s.pyFunc((e=>n(e,r)))}return n(e,t)},$flags:{NamedArgs:["cls","name"],Defaults:[s.pyNone]}},add_event_handler:{$name:"add_event_handler",$meth:k,$doc:"add an event handler for a server event",$flags:{MinArgs:2,MaxArgs:2}},remove_event_handler:{$name:"remove_event_handler",$meth:function(e,t){(0,s.pyCheckType)("event_name","str",(0,s.checkString)(e)),(0,s.pyCheckType)("event_handler","callable function",(0,s.checkCallable)(t));var n=e.toString(),r=f.pyServerEventHandlers[n];if(void 0===r)throw new s.pyLookupError("'".concat(t,"' was not found in '").concat(n,"' event handlers for server events"));var i=r.filter((e=>e!==t&&(0,s.richCompareBool)(e,t,"NotEq")));if(r.length===i.length)throw new s.pyLookupError("'".concat(t,"' was not found in '").concat(n,"' event handlers for server events"));return f.pyServerEventHandlers[n]=i,s.pyNone},$doc:"remove an event handler for a server event",$flags:{MinArgs:2,MaxArgs:2}},event_handler:{$name:"event_handler",$meth:function(e){if(!(0,s.checkString)(e))throw new s.pyTypeError("event_handler decorator requires an event_name as the first argument");return new s.pyFunc((function(t){return k(e,t),t}))},$doc:"decorator for marking a function as an event handler.",$flags:{OneArg:!0}},__getattr__:{$meth(e){var t,n=e.toString();if("startup_data"===n)return null!==(t=a.data.appStartupData)&&void 0!==t?t:s.pyNone;throw new s.pyAttributeError(n)},$flags:{OneArg:!0}}}),n.serializable_type=n.portable_class;var w=(e,t)=>e===s.pyNone?(0,s.toPy)((0,s.isTrue)(t)?window.anvilAppOrigin:window.anvilEnvironmentOrigin||window.anvilAppOrigin):(0,s.pyCallOrSuspend)(n.call_s,[(0,s.toPy)("anvil.private.get_app_origin"),e],["prefer_ephemeral_debug",t]);n.get_app_origin=new s.pyFunc((function(e,t){return w(e,t)})),n.get_app_origin.func_code.co_varnames=["branch","prefer_ephemeral_debug"],n.get_app_origin.func_code.$defaults=[s.pyNone,s.pyNone],n.get_api_origin=new s.pyFunc((function(e,t){return(0,s.chainOrSuspend)(w(e,t),(e=>new s.pyStr(e.toString()+"/_/api")))})),n.get_api_origin.func_code.co_varnames=["branch","prefer_ephemeral_debug"],n.get_api_origin.func_code.$defaults=[s.pyNone,s.pyNone],n.is_app_online=new s.pyFunc((function(){var e=p.anvilAppOnline.checkStatus();return(0,s.chainOrSuspend)((0,s.promiseToSuspension)(e),s.toPy)}));var C=(e,t)=>{var r=(0,s.buildPyClass)(n,((e,t)=>{t.__repr__=new s.pyFunc((function(e){return new s.pyStr(e.$d)}))}),e,[]),i=(0,s.pyCall)(r);for(var o in t)i.tp$setattr(new s.pyStr(o),(0,s.toPy)(t[o]));return i};n.context=C("CallContext",{remote_caller:null,type:"browser",client:C("Client",{type:"browser",location:null,ip:null})});var O=new WeakMap;function P(e,t,n){try{var r=t.tp$getattr(n);e.tp$setattr(n,r)}catch(e){}}n.server_method=(0,s.buildNativeClass)("server_method",{constructor:function(){var e=this;this._server_name=null,this._is_class_method=!1,this._check_register=()=>{if(null===this._server_name)throw new s.pyRuntimeError("@server_side method can only be used as the top-most decorator on a method defined in a portable class")},this._get_fn=(0,l.funcFastCall)((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e._check_register(),v(n,t,e._server_name)}))},slots:{tp$new(e,t){var n=new(0,this.constructor);return n._kws=t,0===e.length?Sk.abstr.gattr(n,s.pyStr.$call):n},tp$init(e,t){if(1!=e.length||(null==t?void 0:t.length))throw new TypeError("@server_side_method takes no arguments, just a function");var n=e[0];this._is_class_method=n instanceof s.pyClassMethod,function(e,t){for(var n of[s.pyStr.$module,s.pyStr.$name,s.pyStr.$qualname,s.pyStr.$doc,s.pyStr.$ann])P(e,t,n)}(this,n)},tp$call(e,t){return this.tp$init(e,t),this},tp$descr_get(e,t){if(this._check_register(),!this._is_class_method)return this._get_fn.tp$descr_get(e,t);if(null==t){if(null==e)throw new s.pyRuntimeError("bad call to __get__");t=e.ob$type}return new s.pyMethod(this._get_fn,t)}},methods:{__set_name__:{$meth(e,t){var n=O.get(e);return void 0===n&&(n=[],O.set(e,n)),n.push([t,this]),s.pyNone},$flags:{MaxArgs:2,MinArgs:2}}}});var x=["Button","Canvas","CheckBox","ColumnPanel","DataGrid","DataRowPanel","DatePicker","DropDown","FileLoader","FlowPanel","GridPanel","HtmlPanel","Image","Label","LinearPanel","Link","Plot","RadioButton","RepeatingPanel","RichText","SimpleCanvas","Spacer","TextArea","TextBox","Timer","XYPanel","YouTubeVideo","ComponentTag"];for(var T of(window.anvilParams.runtimeVersion<=2&&x.push("Component"),x)){var E=l.anvilMod[T];E.anvil$serializableName="anvil."+T,f.pyValueTypes["anvil."+T]=E}return{pyMod:n,log:f.sendLog,registerServerCallSuspension:o.registerServerCallSuspension,setOnDebuggerMessage:i.setOnDebuggerMessage}}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(63),n(0),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.profileStart=function(e,t){return new o(e,t)},t.Profile=void 0;var i="transparent";class o{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r(this,"description",void 0),r(this,"startTime",void 0),r(this,"children",[]),r(this,"endTime",void 0),r(this,"duration",void 0),r(this,"origin",void 0),r(this,"response",void 0),this.description=e,this.startTime=t}append(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=arguments.length>2?arguments[2]:void 0,r=new o(e,Math.round(t));return n&&(r.endTime=Math.round(n),r.duration=r.endTime-r.startTime),this.children.push(r),r}end(){if(!this.endTime){for(var e of this.children)e.end();var t=this.endTime=Date.now();this.duration=t-this.startTime}}print(){this.end();var e=i;"Server (Native)"===this.origin?i="#cfc":"Server (Python)"==this.origin&&(i="#ffb");var t=0;for(var n of this.children){var r;t+=null!==(r=n.duration)&&void 0!==r?r:0}var o="".concat(this.description," (").concat(this.duration," ms");if(this.children.length>0){for(var a of(o+=", ".concat(this.duration-t," ms lost)"),console.groupCollapsed("%c"+o,"background:"+i),this.children))a.print();this.response&&console.log("%cResponse:","background:#ddd;",this.response),console.groupEnd()}else o+=")",console.log("%c"+o,"background:"+i);i=e}mergeServerProfile(e){var{description:t,"start-time":n,"end-time":r}=e;for(var i of(this.append(t,n,r),null!==(o=e.children)&&void 0!==o?o:[])){var o;this.mergeServerProfile(i)}}}t.Profile=o},function(e,t,n){"use strict";n(0),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.loading_indicator=t.LoadingIndicator=void 0;var r=n(4),i=n(174),o=n(6),a=n(27),l=n(1),s=document.createElement("div");s.style.cssText="position:absolute;left:0;top:0;width:100%;height:100%;overflow:hidden;";var c=new WeakMap;var p={FastCall:!0},u=(0,r.buildNativeClass)("anvil.loading_indicator",{constructor:function(){this.$running=!1},slots:{tp$init(e,t){(0,r.checkArgsLen)("loading_indicator",e,0,1),this._opts=(0,o.kwsToJsObj)(t);var[n]=e;this._dom=n?(0,r.toJs)((0,r.pyCall)(o.anvilJsMod.get_dom_node,[n])):document.body},tp$call(e,t){return(0,r.pyCallOrSuspend)(this.ob$type,e,t)}},methods:{__enter__:{$meth(){return this.$start(),this},$flags:p},__exit__:{$meth(){return this.$stop(),r.pyNone},$flags:p},start:{$meth(){return this.$start(),r.pyNone},$flags:p},stop:{$meth(){return this.$stop(),r.pyNone},$flags:p}},proto:{$start(){var e,t,n;this._dom===document.body?null!==(e=this._loader)&&void 0!==e||(this._loader=null!==(t=(0,i.getBodySpinner)())&&void 0!==t?t:this.$getLoadingSpinner()):null!==(n=this._loader)&&void 0!==n||(this._loader=this.$getLoadingSpinner());this.$running||(this.$running=!0,this._loader.setLoading(!0),a.globalSuppressLoading.inc())},$stop(){this.$running&&(this.$running=!1,this._loader.setLoading(!1),a.globalSuppressLoading.dec())},$getLoadingSpinner(){var e=function(e,t){var n=c.get(e);if(n)return n;var r=s.cloneNode();c.set(e,r);var o=document.createElement("div");r.appendChild(o),o.className="anvil-loading-spinner anvil-spinner",o.style.opacity="0";var a=e.style.minHeight;t.min_height&&(e.style.minHeight=(0,l.cssLength)(t.min_height));var p=e.clientHeight,u=Math.max(50,Math.min(p,e.clientWidth));e.style.minHeight=a;var d=70,f=100;return u<400&&(f=(u-10)/4,d=Math.min(Math.max(24,f),70)),o.style.setProperty("--anvil-spinner-size",d+"px"),o.style.setProperty("--anvil-spinner-shadow",f+"px"),p<500&&o.style.setProperty("top","calc(50% - calc(var(--anvil-spinner-size) / 2))"),(0,i.appendSvgSpinner)(o),r}(this._dom,this._opts),t=getComputedStyle(this._dom).position,n=this._dom.style.minHeight,r=this._dom.style.position;return i.SpinnerLoader.getOrCreate(e.firstElementChild,{onStart:()=>{["static","relative"].includes(t)&&(this._dom.style.position="relative"),this._opts.min_height&&(this._dom.style.minHeight=(0,l.cssLength)(this._opts.min_height)),this._dom.appendChild(e)},onFinish:()=>{e.remove(),this._dom.style.position=r,this._dom.style.minHeight=n,c.delete(this._dom)}})}}});t.LoadingIndicator=u;var d=(0,r.pyCall)(u);t.loading_indicator=d},function(e,t,n){"use strict";n(9),Object.defineProperty(t,"__esModule",{value:!0}),t.sendLog=function(e){return p.apply(this,arguments)};var r=n(118),i=n(162);function o(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function l(e){o(a,r,i,l,s,"next",e)}function s(e){o(a,r,i,l,s,"throw",e)}l(void 0)}))}}function l(e){return s.apply(this,arguments)}function s(){return(s=a((function*(e){var t=new FormData;t.append("json-data",JSON.stringify(e));try{yield fetch("".concat(window.anvilAppOrigin,"/_/server-call-http"),{method:"POST",body:t})}catch(t){console.log("SendLog http failed;",e)}}))).apply(this,arguments)}var c=function(){var e=a((function*(e){try{(yield(0,i.connect)()).send(JSON.stringify(e))}catch(t){t instanceof i.WebsocketFallback?(console.log("SendLog failed; Falling back to HTTP;",e),c=l,l(e)):console.log("SendLog failed;",e)}}));return function(t){return e.apply(this,arguments)}}();function p(){return(p=a((function*(e){e.type="LOG",e.error&&(e.error.wsdata=r.diagnosticData),c(e)}))).apply(this,arguments)}},function(e,t,n){"use strict";n(0),n(73),n(49),n(3),n(245),n(65),n(66),n(2),n(102);var r=n(27),i=n(6);e.exports=function(){var{builtin:{str:e,Exception:t,ValueError:o,TypeError:a,func:l,checkString:s,pyCheckArgs:c,pyCheckType:p,bytes:u,none:{none$:d}},abstr:{sattr:f},ffi:{toPy:v,toJs:m},misceval:{buildClass:h,promiseToSuspension:_,callsimArray:g}}=Sk,y={__name__:new e("http")},b=n(1);y.url_encode=y.encode_uri_component=new l((function(e){return c("url_encode",arguments,1,1),p("url_encode","string_to_encode",s(e)),v(encodeURIComponent(m(e)))})),y.UrlEncodingError=h(y,((e,t)=>{}),"UrlEncodingError",[t]),g(i.anvilServerMod._register_exception_type,[new e("anvil.http.UrlEncodingError"),y.UrlEncodingError]),y.url_decode=new l((function(e){c("url_decode",arguments,1,1),p("url_decode","string_to_decode",s(e));try{return v(decodeURIComponent(m(e)))}catch(e){throw g(y.UrlEncodingError)}})),y.json_stringify=new l((e=>v(JSON.stringify(m(e))))),y.b64_encode=new l((e=>v(btoa(m(e))))),y.b64_decode=new l((e=>v(atob(m(e)))));var k=t.tp$getattr(e.$init);function S(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=t.response;if(!(a instanceof ArrayBuffer))return d;var l=new u(new Uint8Array(a));if(n){var s=l.tp$getattr(new e("decode")),c=g(s).toString(),p=c;try{p=JSON.parse(c)}catch(e){if(r)throw new o("Returned data is not valid JSON")}return v(p)}var f=t.getResponseHeader("content-type")||"";return Sk.__future__.python3||(l=new e(l.$jsstr())),g(i.anvilMod.BlobMedia,[new e(f),l])}return y.HttpError=h(y,((t,n)=>{n.__init__=new l((function(t,n,r,i){var o,a,l;return null!==(o=n)&&void 0!==o||(n=d),null!==(a=r)&&void 0!==a||(r=d),null!==(l=i)&&void 0!==l||(i=d),f(t,new e("status"),n),f(t,new e("content"),r),i!==d&&i!==e.$empty||n===d||(i=v("HTTP error "+n.toString())),g(k,[t,i])}))}),"HttpError",[t]),y.request=b.funcWithKwargs((function(t,n){n&&(t.url=m(new e(n)));var{url:i,method:o="GET",username:l,password:s,headers:c={},json:p,data:u,timeout:d}=t;o=String(o).toUpperCase();var f=new XMLHttpRequest,h=r.globalSuppressLoading.value>0;l&&s&&(c.Authorization="Basic "+btoa(l+":"+s));var k=function(e){for(var t in e)if("content-type"===t.toLowerCase())return e[t]}(c),w="GET"!==o&&"HEAD"!==o;if(w&&u){var C="application/x-www-form-urlencoded; charset=UTF-8";p&&(u=JSON.stringify(u),C="application/json"),k||(c["Content-Type"]=C)}if(!u||"string"==typeof u||u instanceof Uint8Array||(u=new URLSearchParams(u).toString()),!w){try{var O=new URL(i);O.search=O.search||u,i=O.toString()}catch(e){console.error(e)}u=void 0}for(var P in f.open(o,i,!0),c)f.setRequestHeader(P,c[P]);if(d){if("number"!=typeof d)throw new a("timeout must be set to a number");f.timeout=1e3*d}f.responseType="arraybuffer",f.overrideMimeType("application/x-octet-stream");var{promise:x,resolve:T,reject:E}=b.defer(),$=e=>{h||window.setLoading(!1);var t=f.status,n=S(f,p,!1),r=e||f.statusText;r&&"error"!==r||(r=null),E(g(y.HttpError,[v(t),n,v(r)]))};return f.onload=()=>{var e=f.status;e>=200&&e<300||304===e?(h||window.setLoading(!1),T(S(f,p))):$()},f.onerror=()=>$(),f.ontimeout=()=>$("timeout"),h||window.setLoading(!0),f.send(u),_(x)})),y}},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}n(0),n(17),n(73),n(49),n(9),n(3),n(61),n(33),n(65),n(66),n(2);var{anvilServerMod:i,anvilMod:o}=n(6),{builtin:{dict:a,str:l,func:s,property:c,none:{none$:p},method_descriptor:u,TypeError:d,ExternalError:f},ffi:{proxy:v,toPy:m,toJs:h},abstr:{lookupSpecial:_,setUpModuleMethods:g,typeName:y,objectSetItem:b},misceval:{objectRepr:k,isTrue:S,promiseToSuspension:w,chain:C,tryCatch:O,callsimOrSuspendArray:P}}=Sk;e.exports=function(){var e={__name__:new l("js")},t=n(1),p=t.callJs.bind(null,null),x=v({}),T=_(x,l.$new),E=x.constructor;function $(){var e;return e=function*(e){(e=e.toString()).startsWith("./_/theme/")&&(e=e.slice(1)),e.startsWith("/_/theme/")&&(e=window.anvilAppOrigin+e);var t=yield new Function("return import("+JSON.stringify(e)+")").call();return v(t)},$=function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function l(e){r(a,i,o,l,s,"next",e)}function s(e){r(a,i,o,l,s,"throw",e)}l(void 0)}))},$.apply(this,arguments)}var j=["__module__","__name__","__qualname__","__doc__","__annotations__"].map((e=>new l(e))),A=[new l("__dict__")],M=new l("update"),N=new l("__wrapped__");function L(e){window.onerror(null,null,null,null,e)}function I(e){throw L(e),e}
/*!defClass(anvil.js,!ExternalError, __builtins__..Exception)!*/
return E.prototype.__serialize__=new u(E,{$name:"__serialize__",$meth(e){var t=this.valueOf();if(t.constructor===Object){var n=new a([]);for(var r in this.js$wrapped)n.mp$ass_subscript(new l(r),m(t[r]));return n}throw new d("cannot serialize "+k(this))},$flags:{OneArg:!0}}),
/*!defClass(anvil.js,ProxyType)!*/
e.ProxyType=E,t.pyCall(i.portable_class,[E,new l("anvil.js.ProxyType")]),g("js",e,{
/*!defBuiltinFunction(anvil.js,!_,js_promise)!1*/
await_promise:{$name:"await_promise",$meth(e){var t=e.valueOf();return t instanceof Promise||t&&t.then&&"function"==typeof t.then?C(w(t),(e=>m(e,{dictHook:e=>v(e)}))):e},$flags:{OneArg:!0},$doc:"Await the result of a Javascript Promise in Python. This function will block until the promise resolves or rejects. If the promise resolves, it will return the resolved value. If the promise rejects, it will raise the rejected value as an exception"},
/*!defBuiltinFunction(anvil.js,!_,js_function_or_name,*args)!1*/
call_$rw$:{$name:"call",$meth(e){var t=e[0];return t&&t.constructor===x.constructor?P(t.tp$getattr(l.$call),e.slice(1)):p(...e)},$flags:{FastCall:!0,NoKwargs:!0},$doc:"Call a global Javascript function by name, translating arguments and return values from Python to Javascript."},
/*!defBuiltinFunction(anvil.js,!DOM node,component)!1*/
get_dom_node:{$name:"get_dom_node",$meth(e){if(e.anvil$hooks)return Sk.misceval.chain(e.anvil$hooks.setupDom(),v);if(e.valueOf()instanceof Element)return e;throw new d("get_dom_node expected an anvil Component or DOM node, (got ".concat(y(e),")"))},$flags:{OneArg:!0},$doc:"Returns the Javascript DOM node for an Anvil component. If a DOM node is passed to the function it will be returned. Anything else throws a TypeError"},
/*!defBuiltinFunction(anvil.js,!_,js_class,*args)!1*/
new_$rw$:{$name:"new",$meth(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return P(T,t)},$flags:{MinArgs:1},$doc:"Given a Javascript class (aka function object) that's been passed into Python, construct a new instance of it."},
/*!defBuiltinFunction(anvil.js,!anvil.BlobMedia instance,blob,[content_type=""],[name=None])!1*/
to_media:{$name:"to_media",$meth(e,n,r){if(e=h(e),n=h(n),r=h(r),e instanceof Blob){if(e instanceof File)return t.pyCallOrSuspend(o.FileMedia,[e])}else if(Array.isArray(e)){var i;n||(n=null===(i=e[0])||void 0===i?void 0:i.type),e=new Blob(e,{type:n})}else{if(![ArrayBuffer,Uint8Array].includes(e.constructor))throw new d("got an unexpected type, anvil.js.to_media() expects a Blob, ArrayBuffer, Uint8Array or an Array of those types");e=new Blob([e],{type:n})}var a=r?[e,r]:[e];return t.pyCallOrSuspend(o.BlobMedia,a)},$doc:"Convert a javascript Blob, ArrayBuffer, Uint8Array or an Array of these types to an anvil BlobMedia object. If a Blob, or Array of Blobs, is passed the content_type will be inferred.",$flags:{NamedArgs:[null,"content_type","name"],Defaults:[Sk.builtin.str.$empty,Sk.builtin.none.none$]}},
/*!defBuiltinFunction(anvil.js,!function,wrapped_function)!1*/
report_exceptions:{$name:"report_exceptions",$meth(e){function n(n,r){return O((()=>t.pyCallOrSuspend(e,n,r)),L)}n.co_fastcall=!0;var r=new s(n);return j.forEach((t=>{var n=e.tp$getattr(t);void 0!==n&&r.tp$setattr(t,n)})),A.forEach((n=>{var i=e.tp$getattr(n)||new a([]),o=r.tp$getattr(n).tp$getattr(M);t.pyCall(o,[i])})),r.tp$setattr(N,e),r},$doc:"Use @anvil.js.report_exceptions as a decorator for any function used as a javascript callback. Error handling may be suppressed by an external javascript libary. This decorator makes sure that errors in your python code are reported.",$flags:{OneArg:!0}},
/*!defBuiltinFunction(anvil.js,!_,bool,[reraise=True])!1*/
report_all_exceptions:{$name:"report_all_exceptions",$meth(e,t){S(e)?S(t)?Sk.uncaughtException=I:Sk.uncaughtException=L:Sk.uncaughtException=void 0},$doc:"Set the default exception reporting behaviour for Python callbacks in Javascript.When set to True all exception will be reported by anvil and then re-raised within Javascript.\nThis may mean some exceptions are reported twice, but it ensures Exceptions in your Python code are reported correctly.\nIf reraise is to False, Exceptions raised in python code will be reported by Anvil, but not re-raised in Javascript. Instead the Python callback will return undefined to Javascript.",$flags:{NamedArgs:[null,"reraise"],Defaults:[!0]}},
/*!defBuiltinFunction(anvil.js,!Javascript Module,url)!1*/
import_from:{$name:"import_from",$meth:e=>w(function(e){return $.apply(this,arguments)}(e)),$doc:"use anvil.js.import_from(url) to dynamically import a Javascript Module. Accessing the attributes of a Javascript Module vary depending on the Module. See the documentation for examples",$flags:{OneArg:!0}}}),e.call_js=e.call_$rw$,e.window=v(window),b(Sk.sysmodules,new l("anvil.js.window"),e.window),e.ExternalError=f,e.ExternalError.prototype.original_error=new c(new s((e=>m(e.nativeError,{dictHook:e=>v(e)})))),e}},function(e,t,n){"use strict";n(0),n(73),n(49),n(9),n(67),n(37),n(65),n(66),n(2),n(102);var{anvilMod:r}=n(6);e.exports=function(){var e={__name__:new Sk.builtin.str("image")},t=n(1);function i(e){for(var t=atob(e.split(",")[1]),n=(e.split(",")[0].split(":")[1].split(";")[0],new ArrayBuffer(t.length)),r=new Uint8Array(n),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return new Blob([n],{type:"image/jpeg"})}
/*!defClass(anvil.image,ImageException)!*/return e.ImageException=Sk.misceval.buildClass(e,(function(e,t){t.__init__=new Sk.builtin.func((function(e,t){return e.traceback=[],e.args=new Sk.builtin.list([t||Sk.ffi.remapToPy("Error loading image")]),Sk.builtin.none.none$}))}),"ImageException",[Sk.builtin.Exception]),e.get_dimensions=new Sk.builtin.func((function(n){var r=null,i=function(){r&&window.URL.revokeObjectURL(r),r=null};return Sk.misceval.chain(Sk.misceval.callsimOrSuspend(n.tp$getattr(new Sk.builtin.str("get_url"))),(function(e){if(e instanceof Sk.builtin.str)return e.v;var i,o=n._data instanceof Blob?n._data:Sk.misceval.chain(Sk.abstr.gattr(n,new Sk.builtin.str("content_type"),!0),(function(e){return i=e,Sk.misceval.callsimOrSuspend(Sk.abstr.gattr(n,new Sk.builtin.str("get_bytes")))}),(function(e){var n=t.getUint8ArrayFromPyBytes(e);return new Blob([n],{type:i.v})}));return Sk.misceval.chain(o,(function(e){return r=window.URL.createObjectURL(e)}))}),(function(n){return t.suspensionPromise((function(t,r){var o=new Image;o.onerror=function(){i(),r(Sk.misceval.callsim(e.ImageException,Sk.builtin.str("Failed to load URL")))},o.onload=function(){var e=new Sk.builtin.tuple([Sk.ffi.remapToPy(o.width),Sk.ffi.remapToPy(o.height)]);i(),t(e)},o.src=n}))}))})),e.generate_thumbnail=new Sk.builtin.func((function(e,n){return t.suspensionPromise((function(o,a){var l;t.asyncToPromise((function(){return t.getUrlForMedia(e)})).then((function(s){var c=(l=s).getUrl(),p=Sk.ffi.remapToJs(n),u=$("<img>"),d=u[0];d.onload=function(){var n,l=d.naturalWidth,s=d.naturalHeight;if((n=l>=s?p/l:p/s)>=1)o(e);else{var c=(n=Math.min(n,1))*l,u=n*s,f=$("<canvas>").attr("width",c).attr("height",u)[0];f.getContext("2d").drawImage(d,0,0,c,u);try{var v=f.toDataURL("image/jpeg",.8)}catch(e){if("SecurityError"==e.name)return void a(new Sk.builtin.RuntimeError("Cannot rotate image from untrusted cross-origin source."));throw e}var m=i(v),h=r.BlobMedia;o(t.callAsync(h,void 0,void 0,void 0,m))}},u.attr("src",c)})).catch(a).finally((function(){l&&l.release()}))}))})),e.rotate=new Sk.builtin.func((function(e,n){return Sk.misceval.chain(Sk.misceval.callsimOrSuspend(e.tp$getattr(new Sk.builtin.str("get_content_type"))),(o=>t.suspensionPromise((function(a,l){var s;t.asyncToPromise((function(){return t.getUrlForMedia(e)})).then((function(e){var c=(s=e).getUrl(),p=Sk.ffi.remapToJs(n)/180*Math.PI,u=$("<img>"),d=u[0];d.onload=function(){var e=d.naturalWidth,n=d.naturalHeight,s=Math.abs(n*Math.sin(p))+Math.abs(e*Math.cos(p)),c=Math.abs(e*Math.sin(p))+Math.abs(n*Math.cos(p)),u=$("<canvas>").attr("width",s).attr("height",c)[0],f=u.getContext("2d");f.translate(s/2,c/2),f.rotate(p),f.translate(-e/2,-n/2),f.drawImage(d,0,0,e,n);try{var v=u.toDataURL(Sk.ffi.remapToJs(o))}catch(e){if("SecurityError"==e.name)return void l(new Sk.builtin.RuntimeError("Cannot rotate image from untrusted cross-origin source."));throw e}var m=i(v),h=r.BlobMedia;a(t.callAsync(h,void 0,void 0,void 0,m))},u.attr("src",c)})).catch(l).finally((function(){s&&s.release()}))}))))})),e}},function(e,t,n){"use strict";n(0),n(3),n(2);var{anvilMod:r}=n(6);e.exports=function(){var e=n(1),{builtin:{bool:t,none:{none$:i},str:o,TypeError:a,checkNone:l,isinstance:s},abstr:{typeName:c},ffi:{toPy:p},misceval:{isTrue:u,chain:d}}=Sk,f={__name__:new o("media"),TempFile:new Sk.builtin.func((()=>{throw new Sk.builtin.RuntimeError("Cannot create files from Media objects on the client.")})),from_file:new Sk.builtin.func((()=>{throw new Sk.builtin.RuntimeError("Cannot create Media objects from files on the client.")}))};Sk.abstr.setUpModuleMethods("media",f,{
/*!defBuiltinFunction(anvil.media,!,media)!1*/
print_media:{$name:"print_media",$meth:t=>d(e.getUrlForMedia(t),(e=>{if(!t.tp$getattr(new o("name"))||!e.getUrl())throw new a("Argument to anvil.media.print() must be a Media object");var n=document.createElement("a");return document.body.appendChild(n),n.href="javascript:void(0)",n.onclick=()=>{var t=window.open(e.getUrl());t.onload=()=>{t.print(),setTimeout((()=>{e.release(),document.body.removeChild(n)}),0)}},n.click(),i})),$flags:{OneArg:!0},$doc:"Print the given Media Object immediately in the user's browser.",$textsig:"($module, /, media_object)"},
/*!defBuiltinFunction(anvil.media,!,media)!1*/
download:{$name:"download",$meth:t=>d(e.getUrlForMedia(t),(e=>{var n=t.tp$getattr(new o("name"));if(!n||!e.getUrl())throw new a("Argument to anvil.download() must be a Media object, not "+c(t));var r=(null==n?void 0:n.toString())||"untitled";if(window.navigator.msSaveOrOpenBlob&&e.blob)window.navigator.msSaveOrOpenBlob(e.blob,r),e.release();else{var i=document.createElement("a");document.body.appendChild(i),i.href=e.getUrl(),i.download=r,i.click(),setTimeout((()=>{e.release(),document.body.removeChild(i)}),0)}return Sk.builtin.none.none$})),$flags:{OneArg:!0},$doc:"Download the given Media Object immediately in the user's browser.",$textsig:"($module, /, media_object)"}}),f.TempUrl=Sk.abstr.buildNativeClass("anvil.media.TempUrl",{constructor:function(){},slots:{tp$init(t,n){Sk.abstr.checkOneArg("TempUrl",t);var[r]=t;if(!u(s(r,v)))throw new a("expected a Media object, got ".concat(c(r)));this.handle=e.getUrlForMedia(r,n)}},methods:{
/*!defBuiltinMethod(url)!1*/
__enter__:{$name:"__enter__",$meth(){return p(this.handle.getUrl())},$flags:{NoArgs:!0},$doc:"get the url using a 'with' block."},
/*!defBuiltinMethod(_)!1*/
__exit__:{$name:"__exit__",$meth(e,n,r){return this.handle.release(),new t(l(e))},$flags:{MinArgs:3,MaxArgs:3},$doc:"Revoke a url when exiting a 'with' block"},
/*!defBuiltinMethod(_)!1*/
revoke:{$name:"revoke",$meth(){return p(this.handle.release())},$flags:{NoArgs:!0},$doc:"revoke a url from a media object"}},getsets:{url:{$get(){return p(this.handle.getUrl())}}}}),r.download=f.download;var v=r.Media;return f}},function(e,t,n){"use strict";var r=Sk.abstr.buildNativeClass("DummyObject",{constructor:function(){},slots:{tp$getattr(e,t){return this},tp$call(e,t){return e[0]||this}}});e.exports=function(){return{__name__:new Sk.builtin.str("code_completion_hints"),__getattr__:new Sk.builtin.func((()=>new r))}}},function(e,t,n){var r=n(78),i=n(21);e.exports="process"==r(i.process)},function(e,t,n){"use strict";n(19),Object.defineProperty(t,"__esModule",{value:!0}),t.registerModule=function(e,t,n){o((()=>{var i=function(e){var t,n=new r.pyStr(e),i=Sk.sysmodules.quick$lookup(n);if(i)return i;try{t=Sk.importModule(e,!1,!0)}catch(e){(t=new r.pyModule).init$dict(n,r.pyNone)}t instanceof r.Suspension&&(t=(0,r.retryOptionalSuspensionOrThrow)(t));return Sk.sysmodules.mp$ass_subscript(n,t),t}(e);Object.assign(i.$d,t),a[e]={pyMod:i,spec:n}}))},t.customToolboxSections=t.jsCustomComponents=t.addJsModuleHook=t.registerJsPythonModules=void 0;var r=n(4),i=[];t.registerJsPythonModules=()=>{null==i||i.forEach((e=>e()))};var o=e=>i?i.push(e):e();t.addJsModuleHook=o;var a={};t.jsCustomComponents=a;t.customToolboxSections=[]},function(e,t,n){var r=n(169);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r,i,o,a=n(21),l=n(24),s=n(349),c=n(233),p=n(163),u=n(351),d=n(347),f=a.location,v=a.setImmediate,m=a.clearImmediate,h=a.process,_=a.MessageChannel,g=a.Dispatch,y=0,b={},k="onreadystatechange",S=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},w=function(e){return function(){S(e)}},C=function(e){S(e.data)},O=function(e){a.postMessage(e+"",f.protocol+"//"+f.host)};v&&m||(v=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return b[++y]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(y),y},m=function(e){delete b[e]},d?r=function(e){h.nextTick(w(e))}:g&&g.now?r=function(e){g.now(w(e))}:_&&!u?(o=(i=new _).port2,i.port1.onmessage=C,r=s(o.postMessage,o,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&f&&"file:"!==f.protocol&&!l(O)?(r=O,a.addEventListener("message",C,!1)):r=k in p("script")?function(e){c.appendChild(p("script"))[k]=function(){c.removeChild(this),S(e)}}:function(e){setTimeout(w(e),0)}),e.exports={set:v,clear:m}},function(e,t,n){var r=n(191);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(e,t,n){"use strict";var r=n(169),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},function(e,t,n){var r=n(238);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var r=n(28)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){"use strict";n(63),n(13),n(0),n(9),n(3),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.setHooks=function(e){t.hooks=k=e},t.hardResize=function(){S=-1,w()},t.hooks=void 0;var r=n(41);n(293),n(223);var i=n(246),o=n(160),a=n(176),l=n(4),s=_(n(1)),c=n(384),p=_(n(385)),u=n(10),d=n(174),f=n(6),v=n(388),m=n(137);function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function _(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function g(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){g(o,r,i,a,l,"next",e)}function l(e){g(o,r,i,a,l,"throw",e)}a(void 0)}))}}console.log("Loading runner v2"),navigator.userAgent.indexOf("Trident/")>-1&&(window.isIE=!0);var b={};window.memoise=(e,t)=>()=>b[e]||(b[e]=t()),window.PyDefUtils=s,window.anvilCurrentlyConstructingForms=[];var k={};t.hooks=k,window.setLoading=d.setLoading;var S=-1;function w(){var e=s.calculateHeight();e!=S&&(window.parent.postMessage({fn:"newAppHeight",newHeight:e+50},"*"),S=e)}function C(){return(C=y((function*(){(0,d.setLoading)(!0,{animate:!1}),new MutationObserver(w).observe($("#appGoesHere")[0],{childList:!0,subtree:!0}),$(window).on("resize",w);var e=new MutationObserver(w);$(document).on("shown.bs.modal",".modal",(function(){e.observe(this,{childList:!0,subtree:!0}),w()})).on("hidden.bs.modal",".modal",(()=>{$(".modal:visible").length||e.disconnect(),w()}));var t={};$.migrateWarnings={push:e=>{t[e]||($.migrateMute=!1,e&&e.indexOf("jQuery.isFunction()")>-1?$.migrateMute=!0:(t[e]=!0,(0,m.warn)("WARNING: This application uses deprecated jQuery 2.2 features. Please see the Javascript console for more details. Error: "+e),(0,o.logEvent)({warning:{type:"jquery2-deprecation",msg:e}})))}},yield(0,v.setupPythonEnvironment)(),(0,d.setLoading)(!1)}))).apply(this,arguments)}function O(){return(O=y((function*(e){var t,n,i;if(!e)throw new l.pyRuntimeError("This app has no startup form or module. To run this app you need to set one.");var o=null!==(t=null===(n=r.data.deserializedFormArgs)||void 0===n||null===(i=n.map)||void 0===i?void 0:i.call(n,l.toPy))&&void 0!==t?t:[],a=(0,f.jsObjToKws)(r.data.deserializedFormKwargs);return yield s.callAsync(f.anvilMod.open_form,void 0,void 0,a,new l.pyStr(e),...o)}))).apply(this,arguments)}var P=!1;function x(){return(x=y((function*(e){if(e){var{data:t,args:n,kwargs:i}=yield(0,a.reconstructSerializedMapWithMedia)(e);r.data.appStartupData=(0,l.toPy)(t),r.data.deserializedFormArgs=n,r.data.deserializedFormKwargs=i}else r.data.appStartupData=l.pyNone}))).apply(this,arguments)}window.loadApp=function(){var e=y((function*(e){var t,n,i,o;(0,r.setData)(e),(0,u.setLegacyOptions)(e.app.runtime_options),P?console.log("Rejected duplicate app load"):(yield null===(t=(n=k).beforeLoadApp)||void 0===t?void 0:t.call(n),"serviceWorker"in navigator&&navigator.serviceWorker.register("".concat(r.data.appOrigin,"/_/service-worker").concat(e.inIDE?"?inIDE=1":""),{scope:"".concat(r.data.appOrigin)}).catch((e=>{console.error("Service worker registration failed:",e)})),yield function(){return C.apply(this,arguments)}(),P=!0,r.data.serverParams.consoleMessage&&console.log(r.data.serverParams.consoleMessage),yield function(e){return x.apply(this,arguments)}(e.appStartupData),null===(i=(o=k).onLoadedApp)||void 0===i||i.call(o))}));return function(t){return e.apply(this,arguments)}}(),window.openForm=function(e){return O.apply(this,arguments)},window.openMainModule=function(e){var t=r.data.appPackage+"."+e;return window.anvilAppMainModule=e,s.asyncToPromise((()=>Sk.importModuleInternal_(t,!1,"__main__",void 0,void 0,!1,!0))).catch((e=>(0,f.reportError)(e)))},window.printComponents=function(e,t){var n=window.outstandingPrintDelayPromises={};return s.asyncToPromise((()=>{var r=f.anvilMod.open_form,i=f.anvilServerMod.call;return Sk.misceval.chain((0,l.pyCallOrSuspend)(i,[new l.pyStr("anvil.private.pdf.get_component"),new l.pyStr(e),new l.pyStr(t)]),(e=>Sk.misceval.applyOrSuspend(r,e.v[1],void 0,[],e.v[0].v)),(()=>($("#loadingSpinner").hide(),console.log("Print delay promises: ".concat(JSON.stringify(Object.keys(n)))),Object.values(n).map((e=>e.promise)))))})).then((e=>Promise.all(e))).then((()=>{delete window.outstandingPrintDelayPromises,console.log("READY_TO_PRINT")})).catch((e=>{var t;if(e instanceof Sk.builtin.BaseException){if(t={type:(0,i.isCustomAnvilError)(e)&&e._anvil.errorObj.type||e.tp$name,message:(0,l.toJs)(e.args.v[0]||""),trace:[]},e.traceback)for(var n of e.traceback)t.trace.push([n.filename,n.lineno])}else t={message:e.toString(),trace:[]};console.log("PRINT_ERROR",JSON.stringify(t))})).catch((e=>{console.log("PRINT_ERROR",JSON.stringify({type:"UnexpectedError",message:e.toString()}))}))},$(window).on("_anvil-call",(function(e,t,n){var r,i=" Got "+(null!==(r=this[Symbol.toStringTag])&&void 0!==r?r:this)+" element.";n(new Sk.builtin.RuntimeError("anvil.call() first argument should be a child DOM element of the Form instance you wish to call the function on. The DOM element provided has no parent Form instance."+i))})),window.anvil={call:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(0!=$(e).length)return new Promise((function(t,r){$(e).trigger("_anvil-call",[t,r].concat(n))}));console.error("Cannot call anvil function on HTML Panel:",e,"Did you forget to supply 'this' as the first argument to anvil.call?")},registerSolidComponent:c.registerSolidComponent,solidComponents:c.solidComponents,_jsComponentApi:p,_loadAppAfter:[],deferLoad(){var e;return window.anvil._loadAppAfter.push(new Promise(((t,n)=>{e=t}))),e}}},function(e,t,n){"use strict";n(63),Object.defineProperty(t,"__esModule",{value:!0}),t.PY_COMPONENT=t.JS_COMPONENT=void 0;var r=Symbol();t.JS_COMPONENT=r;var i=Symbol();t.PY_COMPONENT=i},function(e,t,n){"use strict";n(0),n(9),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.asJsComponent=function(e){if(c(e))return e[i.JS_COMPONENT];var t=l.get(e);void 0===t&&(t=new s(e),l.set(e,t));return t},t.maybeSuspend=t.returnToPy=t.WrappedPyComponent=t.toPyComponent=t.fail=t.assert=void 0;var r=n(4),i=n(356);function o(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}var a=(e,t)=>{if(!e)throw new Error(null!=t?t:"fail")};t.assert=a;t.fail=e=>{throw new Error(null!=e?e:"fail")};t.toPyComponent=e=>{var t=e[i.PY_COMPONENT];return a(t,"found a JsComponent without a py component wrapper"),t};var l=new WeakMap;class s{constructor(e){var t,n,r;t=this,n=i.PY_COMPONENT,r=void 0,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this[i.PY_COMPONENT]=e}_anvilSetupDom(){var e,t=this;return(e=function*(){return(0,r.suspensionToPromise)((()=>t[i.PY_COMPONENT].anvil$hooks.setupDom()))},function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function l(e){o(a,r,i,l,s,"next",e)}function s(e){o(a,r,i,l,s,"throw",e)}l(void 0)}))})()}get _anvilDomElement(){return this[i.PY_COMPONENT].anvil$hooks.domElement}}t.WrappedPyComponent=s;var c=e=>!!e[i.JS_COMPONENT];t.returnToPy=e=>e instanceof Promise?(0,r.chainOrSuspend)((0,r.promiseToSuspension)(e),r.toPy):(0,r.proxy)(e);t.maybeSuspend=e=>e instanceof Promise?(0,r.promiseToSuspension)(e):e},,,,function(e,t,n){e.exports=n(362)},function(e,t,n){"use strict";n(247),n(166),n(234),n(236),n(266),n(237),n(270),n(271),n(240);var r=n(363),i=n(138),o=n(76),a=n(41),l=u(n(246)),s=u(n(355)),c=u(n(160));function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function d(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){d(o,r,i,a,l,"next",e)}function l(e){d(o,r,i,a,l,"throw",e)}a(void 0)}))}}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h,{builtin:{func:_,none:{none$:g},str:y,exec:b,print:k,KeyboardInterrupt:S},builtins:w,misceval:{objectRepr:C,asyncToPromise:O},ffi:{toPy:P}}=Sk,x=!1,T=!1,E=Symbol("seen"),j=90;function A(){if(T)throw setTimeout((()=>T=!1),2*j),new S}function M(){return x=!0,g}function N(e,t){var n=setInterval((()=>{T&&(clearInterval(n),clearTimeout(r),e())}),Math.min(t/4,j)),r=setTimeout((()=>{clearInterval(n),e()}),t)}var L=function(){};function I(){if(void 0===h){var e=Sk.sysmodules.quick$lookup(new y("anvil")),t=new _(M);h={__file__:P("<repl>"),__name__:P("repl"),clear:t,__package__:new y(window.anvilAppMainPackage)},e&&Object.assign(h,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({anvil:e},e.$d))}}function D(){return(D=f((function*(e){T=!1;var t=Sk.setTimeout;Sk.lastYield=Sk.execStart=Date.now(),Sk.setTimeout=N;try{return yield e()}catch(e){throw L(),e}finally{Sk.setTimeout=t}}))).apply(this,arguments)}var F={"*":()=>A(),"Sk.promise":e=>{A(),e.data[E]||(e.data[E]=!0,e.data.promise.then((e=>(A(),e))))}};window.messages={requestHeight:function(){s.hardResize()},replCommand:function(e){var[t]=e;I();var[n,r]=function(e){var t=e.trimEnd()||"None",n=!1;try{var r=Sk.parse("<repl>",t),i=Sk.astFromParse(r.cst,"?",r.flags),o=i.body[i.body.length-1];if(o instanceof Sk.astnodes.Expr){var a=t.split("\n"),l=a[o.lineno-1],s=o.col_offset;a[o.lineno-1]=l.slice(0,s)+"__last_ret__ = "+l.slice(s),t=a.join("\n"),n=!0}}catch(e){}return[t,n]}(t);return function(e){return D.apply(this,arguments)}((()=>O((()=>b(n,h)),F).then((()=>function(e){if(e&&h.__last_ret__!==g&&void 0!==h.__last_ret__&&(w._=h.__last_ret__,k([C(w._)])),x)return x=!1,{clearRepl:!0}}(r)))))},replInterrupt:function(){T=!0},appChanged:function(){var e=document.createElement("div");e.style.cssText="\nbackground: #ffd;\ncolor: #333;\ntext-align: center;\nborder-bottom: 1px solid rgba(0, 0, 0, 0.2);\nposition: absolute;\nleft: 0;\ntop: 0;\nwidth: 100%;\nz-index: 100;\ndisplay: inline-flex;\njustify-content: center;\n",e.textContent="The app has changed since you ran it. ",document.body.prepend(e);var t=document.createElement("div");t.setAttribute("role","button"),t.style.color="#1BB0EE",t.style.cursor="pointer",t.textContent="Click here to restart",e.appendChild(t),e.appendChild(document.createTextNode(".")),t.onclick=()=>R({fn:"restartApp"});var n=document.createElement("div");n.setAttribute("role","button"),n.style.position="absolute",n.style.right="10px",n.style.fontWeight="bold",n.style.cursor="pointer",n.textContent="✕",n.onclick=()=>e.remove(),e.appendChild(n)},locationReload:function(){window.location.replace(...arguments)},debuggerRequest:r.debuggerRequest,setBreakpoints:r.setBreakpoints},n(223),l.setHooks({onPythonException:e=>{R(e)},onRuntimeError:(e,t,n,r,i)=>R({error:"Runtime error",fn:"runtimeError",msg:e,url:t,line:n,col:r,stackTrace:i&&i.stack}),onUncaughtRuntimeError:e=>{var t=window.anvilSessionToken;$.post(a.data.appOrigin+"/_/log?_anvil_session="+t,{eventType:"runtimeError",event:e})}});var V,R=e=>{var t;if(window.parent!==window?t=window.parent:window.opener&&(t=window.opener),t)try{t.postMessage(e,a.data.serverParams.ideOrigin)}catch(e){}};c.setHooks({onStdout:(e,t)=>{R({fn:"stdout",text:e,fromServer:t})},onUpdateReplState:e=>{R({fn:"replStateUpdate",replStateUpdate:e})}}),(0,i.setOnDebuggerMessage)(r.onDebuggerServerMessage),(0,o.setOnServerCallResponse)(r.onServerCallResponse),(0,o.setModifyOutgoingServerCall)(r.modifyOutgoingServerCall),s.setHooks({getSkulptOptions:()=>({debugging:!!a.data.serverParams.inIDE,breakpoints:r.shouldSuspend}),beforeLoadApp:(V=f((function*(){if(a.data.serverParams.inIDE)try{var e=yield window.anvilCallIdeFn("getBreakpoints",null,2e3);(0,r.setBreakpoints)(e)}catch(e){console.warn("Failed to get breakpoints",e)}})),function(){return V.apply(this,arguments)}),onLoadedApp:()=>{if(a.data.serverParams.inIDE){var e=document.title;document.title="Debug: "+e,window.parent!==window&&$("#error-indicator").remove(),$("#session-expired-modal button.refresh").remove(),R({fn:"newAppSession",sessionToken:window.anvilSessionToken}),function(){var e,t=Sk.output,n=null,r=void 0;L=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;clearTimeout(r),T||null===n||t(n),n=null,e=i},Sk.output=(i,o)=>{var a;if(T)L();else{if(o)return L(),void t(i,o);var l=Date.now();null!==(a=n)&&void 0!==a||(n=""),n+=i,e?l-e>j?L(l):(clearTimeout(r),r=setTimeout(L,j/4)):L(l)}};var i=window.onerror;window.onerror=function(){L(),i(...arguments)}}(),Sk.yieldLimit=500}else{var t,n=!!(null===(t=a.data.app.services)||void 0===t?void 0:t.find((e=>"/runtime/services/anvil/tableau.yml"===e.source)))||void 0;$.post(window.anvilAppOrigin+"/_/log?_anvil_session="+window.anvilSessionToken,{eventType:"runApp",event:{hostname:window.location.hostname,isTableau:n}})}}})},function(e,t,n){"use strict";n(166),n(234),n(236),n(364),n(381),n(382),n(237),n(383),n(240),Object.defineProperty(t,"__esModule",{value:!0}),t.getSuspensionLevel=C,t.setBreakpoints=O,t.modifyOutgoingServerCall=t.onServerCallResponse=t.onDebuggerServerMessage=t.sendBreakMessage=t.shouldSuspend=t.debuggerRequest=t.setCurrentBreakpoint=void 0;var r=n(4),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1)),o=n(244);function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,l,"next",e)}function l(e){u(o,r,i,a,l,"throw",e)}a(void 0)}))}}var f=null,v=null,m=e=>{v=e};t.setCurrentBreakpoint=m;var h=function(){var e=d((function*(e){var t=[];for(var n of e){var{skLocals:r,skGlobals:i}=n,o=p(n,["skLocals","skGlobals"]);t.push(s(s({},o),{},{locals:yield j(r,1),globals:yield j(i,1)}))}return t}));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=d((function*(){if(f){var e={debuggerId:"runner",type:"browser",location:void 0};return arguments.length>0&&void 0!==arguments[0]&&arguments[0]||Object.assign(e,{state:v?"PAUSED":"RUNNING",stack:yield h(f)}),e}}));return function(){return e.apply(this,arguments)}}(),g=function(){var e=d((function*(e,t,n){var i,o=null===(i=f)||void 0===i?void 0:i.find((t=>t.id===e));if(o){var a=yield*function*(){var e=(t?o.skGlobals:o.skLocals)||r.pyNone,i=function*(t,n){switch(t){case"i":switch(e.ob$type){case r.pyDict:e=e.$items()[n][1];break;case r.pyList:case r.pyTuple:e=e.valueOf()[n];break;default:if(!E(e))return{v:{v:r.pyNone}};var i=yield $(e);e=yield(0,r.suspensionToPromise)((()=>e.mp$subscript(i[n],!0)))}break;case"a":e=yield(0,r.suspensionToPromise)((()=>e.tp$getattr(new r.pyStr(n),!0)))}};for(var[a,l]of n){var s=yield*i(a,l);if("object"==typeof s)return s.v}return{v:e}}();if("object"==typeof a)return a.v}}));return function(t,n,r){return e.apply(this,arguments)}}(),y=function(){var e=d((function*(e){var t,n,[r]=e;switch(r.action){case"CONTINUE":return N.close(),k=null,f=null,void(null===(t=v)||void 0===t||t.continue());case"STEP":if(N.close(),!v)return;var i=C(v.suspension);return k={IN:"IN",OVER:i,OUT:i-1}[r.direction],w(),f=null,void(null===(n=v)||void 0===n||n.continue());case"GET_STATE":return _(!1);case"GET_VALUE":var{frame:a,globals:l,path:s,depth:c}=r,p=yield g(a,l,s);return{value:yield j(p,c)};case"GET_ITEMS":var{frame:u,globals:d,path:m,offset:h}=r,y=yield g(u,d,m);return{items:yield T(y,0,h),offset:h};case"UPDATE_BREAKPOINTS":var{breakpoints:b}=r;O(b),(0,o.reloadEnvOnNextCall)()}}));return function(t){return e.apply(this,arguments)}}();t.debuggerRequest=y;var b={},k=null,S=void 0,w=()=>{var e;S=null===(e=v)||void 0===e?void 0:e.suspension};function C(e){for(var t=0,n=e;n.child;n=n.child)t+=1;return t}function O(e){var t={};for(var{module:n,breaks:r}of Object.values(e))t[n]=r;b=t}var P=(e,t,n)=>{if(!b)return!1;var r=/^app\/([^/]*)\/(.*)\.py$/.exec(e);if((null==r?void 0:r[1])===window.anvilAppMainPackage&&r[2]){var i,o=r[2].replace("/__init__","").replace("/",".");return null===(i=b[o])||void 0===i?void 0:i.find((e=>{var{l:n}=e;return n===t}))}};t.shouldSuspend=(e,t,n)=>!!v||(null!==k||P(e,t));var x=function(){var e=d((function*(e){var t=yield(0,r.suspensionToPromise)((()=>(0,r.pyDir)(e))),n=[],i=function*(t){if(t.toString().startsWith("__"))return"continue";var i=yield(0,r.suspensionToPromise)((()=>e.tp$getattr(t,!0)));i&&!(0,r.checkCallable)(i)&&n.push([t.toString(),i])};for(var o of t)yield*i(o);return n}));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=d((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(e.ob$type){case r.pyDict:return Promise.all(e.$items().slice(n,n+10).map(function(){var e=d((function*(e){var[n,r]=e;return[yield j(n,t),yield j(r,t)]}));return function(t){return e.apply(this,arguments)}}()));case r.pyList:case r.pyTuple:return Promise.all(e.v.slice(n,n+10).map(function(){var e=d((function*(e,i){return[yield j(new r.pyInt(n+i),0),yield j(e,t)]}));return function(t,n){return e.apply(this,arguments)}}()));default:var i=yield $(e);return Promise.all(i.slice(n,n+10).map(function(){var n=d((function*(n){return[yield j(n,0),yield j(yield(0,r.suspensionToPromise)((()=>e.mp$subscript(n,!0))),t)]}));return function(e){return n.apply(this,arguments)}}()))}}));return function(t){return e.apply(this,arguments)}}(),E=e=>e&&(0,r.typeLookup)(e.ob$type,r.pyStr.$keys)&&e.mp$subscript,$=e=>(0,r.suspensionToPromise)((()=>(0,r.chainOrSuspend)(e.tp$getattr(Sk.builtin.str.$keys,!0),(e=>(0,r.pyCallOrSuspend)(e)),(e=>Sk.misceval.arrayFromIterable(e,!0))))),j=function(){var e=d((function*(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=e.ob$type;if(e instanceof r.pyType)t=r.pyType.prototype.$r.call(e).toString().slice(1,-1);else{var a=e.tp$name,l=yield(0,r.suspensionToPromise)((()=>e.tp$getattr(r.pyStr.$module,!0)));t=l&&!(0,r.checkNone)(l)?"".concat(l,".").concat(a):a}try{n=(0,r.objectRepr)(e)}catch(e){n="<unknown>"}var s={repr:n,className:t};if([r.pyList,r.pyDict,r.pyTuple].includes(o)?s.totalItems=e.sq$length():E(e)&&(s.totalItems=(yield $(e)).length),[r.pyStr,r.pyInt,r.pyFloat,r.pyBool,r.pyNoneType].includes(o)){var c=(0,r.toJs)(e);"bigint"==typeof c&&(c=c.toString()),s.literal=c}else if(i>0){([r.pyList,r.pyDict,r.pyTuple].includes(o)||E(e))&&(s.items=yield T(e,i-1,0),i=0);var p={};for(var[u,d]of yield x(e))p[u]=yield j(d,i-1);Object.keys(p).length&&(s.attrs=p)}return s}));return function(t){return e.apply(this,arguments)}}(),A=(e,t)=>{for(var[n,i]of Object.entries(null!=e?e:{}))/^\$/.test(n)||n.startsWith("__")||null!=(null==(o=i)?void 0:o.ob$type)&&t.mp$ass_subscript(new r.pyStr(Sk.unfixReserved(n)),i);var o},M=e=>{var t,n,i,o=new r.pyDict,a=new r.pyDict;if(A(e.$tmps,o),A(e.$gbl,a),!e.$filename)throw new Error("No filename for suspension");return{filename:e.$filename,moduleName:null===(t=/^app\/([^/]*\/.*)\.py$/.exec(e.$filename))||void 0===t||null===(n=t[1])||void 0===n?void 0:n.replace("/","."),line:null!==(i=e.$lineno)&&void 0!==i?i:0,col:e.$colno,skLocals:o,skGlobals:a}},N=document.createElement("dialog");N.id="anvil-debugger-paused-dialog",N.innerHTML='\n    <div>\n        <strong>Execution paused</strong>\n        <span>Switch to the IDE to continue</span>\n        <span style="font-size: 28px; line-height: 1;">⏸</span>\n    </div>\n',document.body.appendChild(N);var L=document.createElement("style");L.textContent="\n#anvil-debugger-paused-dialog {\n    border: none;\n    border-radius: 8px;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n    background-color: white;\n}\n#anvil-debugger-paused-dialog > div {\n    font-family: sans-serif;\n    font-size: 16px;\n    padding: 20px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 15px;\n    text-align: center;\n    user-select: none;\n}\n#anvil-debugger-paused-dialog::backdrop {\n    background-color: rgba(0, 0, 0, 0.5);\n}\n",document.body.appendChild(L);var I=function(){var e=d((function*(e,t){f=[];for(var n=0,r=t;r.child;r=r.child)r.$filename&&f.push(s(s({},M(r)),{},{id:n++}));var i={debuggers:[yield _(!1),...e||[]],client:{type:"browser"}};if(window.anvilParams.inIDE){var o={fn:"debuggerUpdate",update:i};window.parent!==window?window.parent.postMessage(o,"*"):window.opener?(N.open||N.showModal(),window.opener.postMessage(o,"*")):console.error("No IDE to talk to")}}));return function(t,n){return e.apply(this,arguments)}}();t.sendBreakMessage=I;t.onDebuggerServerMessage=(e,t,n)=>{switch(t[t.length-1].state){case"PAUSED":I(t,n);break;case"RUNNING":N.close()}};t.onServerCallResponse=e=>{e.stepOut&&(k="IN",w())};t.modifyOutgoingServerCall=e=>{"IN"===k&&F&&(e.stepIn=!0,k=null)};var D=[],F=!1;i.suspensionHandlers["Sk.debug"]=e=>{if(v)return new Promise((t=>{D.push((()=>t(e.resume())))}));F=!0;for(var t=e;null===(n=t.child)||void 0===n?void 0:n.child;){var n;t=t.child}var r=t.$filename,i=/^app\/([^/]*)\/(.*)\.py$/.exec(r||"");if(!i||i[1]!==window.anvilAppMainPackage)return F=!1,Promise.resolve(e.resume());if(null!==k){var o,a=!1;if(S&&e.$loc!==(null===(o=S)||void 0===o?void 0:o.$loc)?(k=null,S=void 0,a=!0):"IN"!==k&&k<C(e)&&(a=!0),a&&!P(t.$filename,t.$lineno,t.$colno))return Promise.resolve(e.resume())}return new Promise((t=>{m({suspension:e,continue:()=>{v=null,D.forEach((e=>e())),D.length=0,t(e.resume())}}),I(null,e)}))}},function(e,t,n){"use strict";var r,i,o,a,l=n(57),s=n(104),c=n(21),p=n(105),u=n(365),d=n(96),f=n(366),v=n(167),m=n(367),h=n(44),_=n(169),g=n(368),y=n(164),b=n(369),k=n(375),S=n(239),w=n(350).set,C=n(376),O=n(378),P=n(379),x=n(352),T=n(380),E=n(165),$=n(232),j=n(28),A=n(347),M=n(235),N=j("species"),L="Promise",I=E.get,D=E.set,F=E.getterFor(L),V=u,R=c.TypeError,U=c.document,B=c.process,G=p("fetch"),H=x.f,J=H,z=!!(U&&U.createEvent&&c.dispatchEvent),W="function"==typeof PromiseRejectionEvent,q="unhandledrejection",K=$(L,(function(){if(!(y(V)!==String(V))){if(66===M)return!0;if(!A&&!W)return!0}if(s&&!V.prototype.finally)return!0;if(M>=51&&/native code/.test(V))return!1;var e=V.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[N]=t,!(e.then((function(){}))instanceof t)})),Y=K||!k((function(e){V.all(e).catch((function(){}))})),Z=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},X=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;C((function(){for(var r=e.value,i=1==e.state,o=0;n.length>o;){var a,l,s,c=n[o++],p=i?c.ok:c.fail,u=c.resolve,d=c.reject,f=c.domain;try{p?(i||(2===e.rejection&&ne(e),e.rejection=1),!0===p?a=r:(f&&f.enter(),a=p(r),f&&(f.exit(),s=!0)),a===c.promise?d(R("Promise-chain cycle")):(l=Z(a))?l.call(a,u,d):u(a)):d(r)}catch(e){f&&!s&&f.exit(),d(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ee(e)}))}},Q=function(e,t,n){var r,i;z?((r=U.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},!W&&(i=c["on"+e])?i(r):e===q&&P("Unhandled promise rejection",n)},ee=function(e){w.call(c,(function(){var t,n=e.facade,r=e.value;if(te(e)&&(t=T((function(){A?B.emit("unhandledRejection",r,n):Q(q,n,r)})),e.rejection=A||te(e)?2:1,t.error))throw t.value}))},te=function(e){return 1!==e.rejection&&!e.parent},ne=function(e){w.call(c,(function(){var t=e.facade;A?B.emit("rejectionHandled",t):Q("rejectionhandled",t,e.value)}))},re=function(e,t,n){return function(r){e(t,r,n)}},ie=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,X(e,!0))},oe=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw R("Promise can't be resolved itself");var r=Z(t);r?C((function(){var n={done:!1};try{r.call(t,re(oe,n,e),re(ie,n,e))}catch(t){ie(n,t,e)}})):(e.value=t,e.state=1,X(e,!1))}catch(t){ie({done:!1},t,e)}}};K&&(V=function(e){g(this,V,L),_(e),r.call(this);var t=I(this);try{e(re(oe,t),re(ie,t))}catch(e){ie(t,e)}},(r=function(e){D(this,{type:L,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(V.prototype,{then:function(e,t){var n=F(this),r=H(S(this,V));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=A?B.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&X(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=I(e);this.promise=e,this.resolve=re(oe,t),this.reject=re(ie,t)},x.f=H=function(e){return e===V||e===o?new i(e):J(e)},s||"function"!=typeof u||(a=u.prototype.then,d(u.prototype,"then",(function(e,t){var n=this;return new V((function(e,t){a.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof G&&l({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return O(V,G.apply(c,arguments))}}))),l({global:!0,wrap:!0,forced:K},{Promise:V}),v(V,L,!1,!0),m(L),o=p(L),l({target:L,stat:!0,forced:K},{reject:function(e){var t=H(this);return t.reject.call(void 0,e),t.promise}}),l({target:L,stat:!0,forced:s||K},{resolve:function(e){return O(s&&this===o?V:this,e)}}),l({target:L,stat:!0,forced:Y},{all:function(e){var t=this,n=H(t),r=n.resolve,i=n.reject,o=T((function(){var n=_(t.resolve),o=[],a=0,l=1;b(e,(function(e){var s=a++,c=!1;o.push(void 0),l++,n.call(t,e).then((function(e){c||(c=!0,o[s]=e,--l||r(o))}),i)})),--l||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=H(t),r=n.reject,i=T((function(){var i=_(t.resolve);b(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},function(e,t,n){var r=n(21);e.exports=r.Promise},function(e,t,n){var r=n(96);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){"use strict";var r=n(105),i=n(50),o=n(28),a=n(42),l=o("species");e.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[l]&&n(t,l,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var r=n(35),i=n(370),o=n(79),a=n(349),l=n(371),s=n(374),c=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var p,u,d,f,v,m,h,_=n&&n.that,g=!(!n||!n.AS_ENTRIES),y=!(!n||!n.IS_ITERATOR),b=!(!n||!n.INTERRUPTED),k=a(t,_,1+g+b),S=function(e){return p&&s(p),new c(!0,e)},w=function(e){return g?(r(e),b?k(e[0],e[1],S):k(e[0],e[1])):b?k(e,S):k(e)};if(y)p=e;else{if("function"!=typeof(u=l(e)))throw TypeError("Target is not iterable");if(i(u)){for(d=0,f=o(e.length);f>d;d++)if((v=w(e[d]))&&v instanceof c)return v;return new c(!1)}p=u.call(e)}for(m=p.next;!(h=m.call(p)).done;){try{v=w(h.value)}catch(e){throw s(p),e}if("object"==typeof v&&v&&v instanceof c)return v}return new c(!1)}},function(e,t,n){var r=n(28),i=n(107),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},function(e,t,n){var r=n(372),i=n(107),o=n(28)("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(373),i=n(78),o=n(28)("toStringTag"),a="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){var r={};r[n(28)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){var r=n(35);e.exports=function(e){var t=e.return;if(void 0!==t)return r(t.call(e)).value}},function(e,t,n){var r=n(28)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},function(e,t,n){var r,i,o,a,l,s,c,p,u=n(21),d=n(140).f,f=n(350).set,v=n(351),m=n(377),h=n(347),_=u.MutationObserver||u.WebKitMutationObserver,g=u.document,y=u.process,b=u.Promise,k=d(u,"queueMicrotask"),S=k&&k.value;S||(r=function(){var e,t;for(h&&(e=y.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?a():o=void 0,e}}o=void 0,e&&e.enter()},v||h||m||!_||!g?b&&b.resolve?(c=b.resolve(void 0),p=c.then,a=function(){p.call(c,r)}):a=h?function(){y.nextTick(r)}:function(){f.call(u,r)}:(l=!0,s=g.createTextNode(""),new _(r).observe(s,{characterData:!0}),a=function(){s.data=l=!l})),e.exports=S||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,a()),o=t}},function(e,t,n){var r=n(191);e.exports=/web0s(?!.*chrome)/i.test(r)},function(e,t,n){var r=n(35),i=n(44),o=n(352);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(21);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){"use strict";var r=n(96),i=n(35),o=n(24),a=n(168),l="toString",s=RegExp.prototype,c=s[l],p=o((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),u=c.name!=l;(p||u)&&r(RegExp.prototype,l,(function(){var e=i(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in s)?a.call(e):n)}),{unsafe:!0})},function(e,t,n){"use strict";var r=n(57),i=n(353),o=n(62);r({target:"String",proto:!0,forced:!n(354)("includes")},{includes:function(e){return!!~String(o(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r,i=n(57),o=n(140).f,a=n(79),l=n(353),s=n(62),c=n(354),p=n(104),u="".startsWith,d=Math.min,f=c("startsWith");i({target:"String",proto:!0,forced:!!(p||f||(r=o(String.prototype,"startsWith"),!r||r.writable))&&!f},{startsWith:function(e){var t=String(s(this));l(e);var n=a(d(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return u?u.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){"use strict";n(0),n(19),n(54),n(9),n(38),n(20),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.solidComponents=t.registerSolidComponent=void 0;var r=n(4),i=n(26),o=n(31),a=n(1),l=n(6),s=n(348);function c(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["<div class=","\n            ref=","\n        ></div>"]);return c=function(){return e},e}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}var v={},m=!1;function h(){var e;return e=function*(){if(!m){var e=new Function("url","return import(url);");Object.assign(v,yield e("https://cdn.skypack.dev/solid-js"),{web:yield e("https://cdn.skypack.dev/solid-js/web"),store:yield e("https://cdn.skypack.dev/solid-js/store"),html:(yield e("https://cdn.skypack.dev/solid-js/html")).default}),m=!0}},h=function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){f(o,r,i,a,l,"next",e)}function l(e){f(o,r,i,a,l,"throw",e)}a(void 0)}))},h.apply(this,arguments)}var _=(0,r.typeLookup)(i.Component,l.s_raise_event);function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];for(var[i,o]of Object.entries(t))n.push(i,(0,r.toPy)(o));return(0,r.suspensionToPromise)((()=>(0,r.pyCallOrSuspend)(_,[this,new r.pyStr(e)],n)))}function y(e){var{name:t,events:n=[],properties:s=[],component:c=(()=>{}),container:p=!1}=e,d=(0,r.toPy)(n||[]),f=t.match(/[^.]+$/),m=Object.fromEntries(s.map((e=>{var{name:t,defaultValue:n}=e;return[t,n]}))),_=(0,r.buildNativeClass)(t+"."+f,{base:p?o.Container:i.Component,constructor:function(){var e={raiseEvent:g.bind(this)},[t,n]=v.store.createStore(u({},m)),[r,i]=v.createSignal(null),[o,a]=v.store.createStore([]);Object.assign(this,{components:o,setComponents:a,props:t,setProps:n,dropZones:{},dropState:r,setDropState:i}),Object.defineProperty(this,"rootElement",{get(){return delete this.rootElement,this.rootElement=v.createRoot((()=>c({actions:e,props:t,dropState:r,components:o})))},configurable:!0})},slots:{tp$new(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=function(){return h.apply(this,arguments)}().then((()=>{for(var n=i.Component.prototype.tp$new.call(this,e,t),o=0;o<t.length;o+=2){var a=t[o],l=t[o+1];"__ignore_property_exceptions"!==a&&n.tp$setattr(new r.pyStr(a),l)}return n}));return(0,a.suspensionFromPromise)(n)}},methods:{add_component:{$meth(e,t){if(1!==e.length||!(e[0]instanceof i.Component))throw new r.pyTypeError("add_component() takes only one positional argument, which must be a Component");var n=e[0];n.anvilComponent$setParent(this,{onRemove:()=>{this.setComponents(this.components.filter((e=>e.component!==n)))}});var o=(0,l.kwsToJsObj)(t);return(0,r.chainOrSuspend)(n.anvil$hooks.setupDom(),(e=>(this.setComponents(this.components.length,{component:n,element:e,layoutProperties:o}),r.pyNone)))},$flags:{FastCall:!0}}},getsets:Object.fromEntries(s.map((e=>{var{name:t}=e;return[t,{$get(){return(0,r.toPy)(this.props[t])},$set(e){this.setProps(t,(0,r.toJs)(e))}}]}))),flags:{sk$klass:!0},proto:{anvil$events:d,anvil$hookSpec:{setupDom(){return this.rootElement},getDomElement(){return this.rootElement},getProperties:()=>s,getEvents:()=>n,getInteractions(){var e;return(null===(e=this.getInteractions)||void 0===e?void 0:e.call(this))||[]},getContainerDesignInfo:()=>({layoutPropertyDescriptions:[{name:"classes",type:"string",isLayoutProperty:!0}]}),updateLayoutProperties(e,t){var n=this.components.findIndex((t=>{var{component:n}=t;return n===e}));return this.setComponents(n,(e=>u(u({},e),{},{layoutProperties:u(u({},e.layoutProperties),t)}))),t},enableDropMode(e){return p?(this.setDropState({registerDropElement(e,t){this.dropZones[e]=t}}),Object.values(this.dropZones).map((e=>{var{element:t,expandable:n,dropInfo:r}=e;return{element:t,expandable:n,dropInfo:r}}))):[]},disableDropMode(){this.setDropState(null),this.dropZones={}}}}});return(0,l.initNativeSubclass)(_),_}function b(e){return"function"==typeof e?e():e}t.registerSolidComponent=e=>{var t=e.name.replace(/^.*\./,"");(0,s.registerModule)(e.name,{[t]:y(e)},(e=>{var{name:t,events:n,container:r,layoutProperties:i,properties:o,showInToolbox:a}=e;return{name:t,events:n,container:r,layoutProperties:i,properties:o,showInToolbox:a}})(e))};var k={DropZone:function(e){return()=>{var t=b(e.dropState);return t&&v.html(c(),(()=>{var t;return null!==(t=b(e.class))&&void 0!==t?t:""}),(n=>t.registerDropElement(b(e.dropId),{element:n,expandable:b(e.expandable),dropInfo:b(e.dropInfo)})))}}};t.solidComponents=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"notifyMounted",{enumerable:!0,get:function(){return a.notifyMounted}}),Object.defineProperty(t,"notifyUnmounted",{enumerable:!0,get:function(){return a.notifyUnmounted}}),Object.defineProperty(t,"notifyVisibilityChange",{enumerable:!0,get:function(){return a.notifyVisibilityChange}}),Object.defineProperty(t,"raiseAnvilEvent",{enumerable:!0,get:function(){return a.raiseAnvilEvent}}),Object.defineProperty(t,"registerJsComponent",{enumerable:!0,get:function(){return a.registerJsComponent}}),Object.defineProperty(t,"registerToolboxSection",{enumerable:!0,get:function(){return a.registerToolboxSection}}),Object.defineProperty(t,"subscribeAnvilEvent",{enumerable:!0,get:function(){return a.subscribeAnvilEvent}}),Object.defineProperty(t,"triggerWriteBack",{enumerable:!0,get:function(){return a.triggerWriteBack}}),Object.defineProperty(t,"getParent",{enumerable:!0,get:function(){return a.getParent}}),Object.defineProperty(t,"getClientConfig",{enumerable:!0,get:function(){return s.getClientConfig}}),t.propertyUtils=t.designerApi=t.openForm=void 0;var r=n(4),i=n(6),o=n(1),a=n(386),l=u(n(387));t.designerApi=l;var s=n(41),c=u(n(43));function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}t.propertyUtils=c;t.openForm=e=>(0,o.asyncToPromise)((()=>(0,r.pyCallOrSuspend)(i.anvilMod.open_form,[(0,r.toPy)(e)])))},function(e,t,n){"use strict";n(0),n(19),n(54),n(38),n(33),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.getParent=function(e){var t=(0,p.toPyComponent)(e),n=(0,i.getPyParent)(t);return n?(0,p.asJsComponent)(n):null},t.notifyMounted=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,p.toPyComponent)(e);return(0,l.asyncToPromise)((()=>(0,i.notifyComponentMounted)(n,t)))},t.notifyUnmounted=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,p.toPyComponent)(e);return(0,l.asyncToPromise)((()=>(0,i.notifyComponentUnmounted)(n,t)))},t.notifyVisibilityChange=function(e,t){var n=(0,p.toPyComponent)(e);return(0,l.asyncToPromise)((()=>(0,i.notifyVisibilityChange)(n,t)))},t.raiseAnvilEvent=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[];for(var[a,s]of Object.entries(n))o.push(a,(0,r.toPy)(s));return(0,l.asyncToPromise)((()=>(0,i.raiseEventOrSuspend)((0,p.toPyComponent)(e),new r.pyStr(t),o)))},t.triggerWriteBack=function(e,t,n){return(0,l.asyncToPromise)((()=>(0,i.raiseWritebackEventOrSuspend)((0,p.toPyComponent)(e),new r.pyStr(t),(0,r.toPy)(n))))},t.subscribeAnvilEvent=function(e,t,n){var i=l.default.funcFastCall((function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=(0,a.kwsToJsObj)(r);return i.sender=e,(0,p.returnToPy)(n(i))})),o=(0,p.toPyComponent)(e),s=o.tp$getattr(a.s_add_event_handler),c=o.tp$getattr(a.s_remove_event_handler),u=new r.pyStr(t);return(0,l.pyCall)(s,[u,i]),()=>{(0,l.pyCall)(c,[u,i])}},t.registerJsComponent=function(e,t){var{name:n}=t,l=n.match(/^(.*)\.([^.]+)$/);if(!l)return void Sk.builtin.print(["Cannot register JS component with invalid name: ".concat(n)]);var[u,f,m]=l,b=function(e,t){var{container:n,name:l}=t,s=function(e){var t=e.prototype,n=[];for(;t&&t!==_&&t!==g;)n.push(t),t=Object.getPrototypeOf(t);var r={};for(var i of n){var o=Object.getOwnPropertyDescriptors(i);Object.assign(r,o)}return Object.entries(r)}(e),u=s.filter((e=>{var[,t]=e;return t.get||t.set})),f=s.filter((e=>{var[t,n]=e;return!t.startsWith("_")&&"constructor"!==t&&"function"==typeof n.value})),m=n?o.Container:i.Component,y=(0,r.buildNativeClass)(l,{constructor:function(){},slots:{tp$new(t,n){var r,i=m.prototype.tp$new.call(this,[]),o=i[c.JS_COMPONENT]=new e;return o[c.PY_COMPONENT]=i,null===(r=o._anvilNew)||void 0===r||r.call(o),i},tp$init(e,t){var n=this;if(e.length)throw new Sk.builtin.TypeError("Component constructor takes keyword arguments only");var i=[],o=!0;if(t)for(var a=function(e){var a=t[e],l=t[e+1];"__ignore_property_exceptions"!==a?i.push((()=>(0,r.tryCatchOrSuspend)((()=>n.tp$setattr(new r.pyStr(a),l,!0)),(e=>{if(o)throw e})))):o=!1},l=0;l<t.length;l+=2)a(l);if(i.length)return(0,r.chainOrSuspend)(null,...i)}},base:m,getsets:Object.fromEntries(u.map((e=>{var[t,n]=e,i={$get(){var e;return(0,p.returnToPy)(null===(e=n.get)||void 0===e?void 0:e.call(this[c.JS_COMPONENT]))}};return n.set&&(i.$set=function(e){var t;return(0,p.returnToPy)(null===(t=n.set)||void 0===t?void 0:t.call(this[c.JS_COMPONENT],(0,r.remapToJsOrWrap)(e)))}),[t,i]}))),methods:v(v({},Object.fromEntries(f.map((e=>{var[t,n]=e;return[t,{$meth(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,p.returnToPy)(n.value.apply(this[c.JS_COMPONENT],t.map(r.remapToJsOrWrap)))},$flags:{MinArgs:0}}]})))),n?{add_component:{$meth(e,t){var n=this,[r]=e;(0,o.validateChild)(r);var i=(0,a.kwsToJsObj)(t),l=this[c.JS_COMPONENT],s=function(){var e,t=(e=function*(){var{onRemove:e,setVisibility:t,isMounted:o=!0}=yield l._anvilAddComponent((0,p.asJsComponent)(r),i);return r.anvilComponent$setParent(n,{onRemove:()=>(0,p.maybeSuspend)(e()),setVisibility:t,isMounted:o})},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){d(o,r,i,a,l,"next",e)}function l(e){d(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,p.returnToPy)(s())},$flags:{FastCall:!0}},get_components:{$meth(){return new r.pyList(this[c.JS_COMPONENT]._anvilGetComponents().map((e=>(0,p.toPyComponent)(e))))},$flags:{NoArgs:!0}}}:{}),flags:{sk$klass:!0},proto:{anvil$hookSpec:h(t)}});return(0,a.initNativeSubclass)(y),y}(e,t);return(0,s.addJsModuleHook)((()=>{var e=new r.pyModule,i=new r.pyStr(n);e.init$dict(i,r.pyNone),e.$d[m]=b,Sk.sysmodules.mp$ass_subscript(i,e);try{Sk.importModule(f,!1,!1),Sk.sysmodules.mp$subscript((0,r.toPy)(f)).tp$setattr((0,r.toPy)(m),e)}catch(e){console.error(e),Sk.builtin.print(["Failed to import parent module '".concat(f,"' when registering JS component '").concat(n,"'")])}s.jsCustomComponents[n]={pyMod:e,spec:y(t)}})),b},t.registerToolboxSection=void 0;var r=n(4),i=n(26),o=n(31),a=n(6),l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1)),s=n(348),c=n(356),p=n(357);function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function d(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=e=>{var t={setupDom(){return(0,p.maybeSuspend)(this[c.JS_COMPONENT]._anvilSetupDom())},getDomElement(){return this[c.JS_COMPONENT]._anvilDomElement},getProperties(){var t;return null!==(t=e.properties)&&void 0!==t?t:[]},getEvents(){var t;return null!==(t=e.events)&&void 0!==t?t:[]},updateDesignName(e){var t,n;return null===(t=(n=this[c.JS_COMPONENT])._anvilUpdateDesignName)||void 0===t?void 0:t.call(n,e)},getInteractions(){var e,t,n,r,i,o,a;return"_anvilGetDesignInfo"in this[c.JS_COMPONENT]?(console.warn("DEPRECATED _anvilGetDesignInfo - instead use _anvilGetInteractions"),null!==(r=null===(i=(o=this[c.JS_COMPONENT])._anvilGetDesignInfo)||void 0===i||null===(a=i.call(o))||void 0===a?void 0:a.interactions)&&void 0!==r?r:[]):null!==(e=null===(t=(n=this[c.JS_COMPONENT])._anvilGetInteractions)||void 0===t?void 0:t.call(n))&&void 0!==e?e:[]},getUnsetPropertyValues(){var e,t,n;return null!==(e=null===(t=(n=this[c.JS_COMPONENT])._anvilGetUnsetPropertyValues)||void 0===t?void 0:t.call(n))&&void 0!==e?e:{}},getSections(){var e,t;return null===(e=(t=this[c.JS_COMPONENT])._anvilGetSections)||void 0===e?void 0:e.call(t)},getSectionDomElement(e){var t,n;return null===(t=(n=this[c.JS_COMPONENT])._anvilGetSectionDomElement)||void 0===t?void 0:t.call(n,e)},setSectionPropertyValues(e,t){var n,r;return(0,p.maybeSuspend)(null===(n=(r=this[c.JS_COMPONENT])._anvilSetSectionPropertyValues)||void 0===n?void 0:n.call(r,e,null!=t?t:{}))}};if(e.container){var n={getContainerDesignInfo(e){var t,n,r;return null!==(t=null===(n=(r=this[c.JS_COMPONENT])._anvilGetContainerDesignInfo)||void 0===n?void 0:n.call(r,(0,p.asJsComponent)(e)))&&void 0!==t?t:{layoutPropertyDescriptions:[]}},updateLayoutProperties(e,t){var n,r;return(0,p.maybeSuspend)(null===(n=(r=this[c.JS_COMPONENT])._anvilUpdateLayoutProperties)||void 0===n?void 0:n.call(r,(0,p.asJsComponent)(e),t))},enableDropMode(e,t){var n,i,o;return e.pyLayoutProperties&&(e.layoutProperties=(0,r.remapToJsOrWrap)(e.pyLayoutProperties)),null!==(n=null===(i=(o=this[c.JS_COMPONENT])._anvilEnableDropMode)||void 0===i?void 0:i.call(o,e,t))&&void 0!==n?n:[]},disableDropMode(){var e,t;return null===(e=(t=this[c.JS_COMPONENT])._anvilDisableDropMode)||void 0===e?void 0:e.call(t)}};Object.assign(t,n)}return t},_=Object.prototype,g=Function.prototype;var y=e=>{var{name:t,properties:n,events:r,layoutProperties:i,container:o,showInToolbox:a,methods:l}=e;return{name:t,properties:n,events:r,layoutProperties:i,container:o,showInToolbox:a,methods:l}};t.registerToolboxSection=e=>{s.customToolboxSections.push(e)}},function(e,t,n){"use strict";n(9),Object.defineProperty(t,"__esModule",{value:!0}),t.getDesignName=function(e){return r.designerApi.getDesignName((0,i.toPyComponent)(e))},t.updateComponentProperties=function(e,t,n){return r.designerApi.updateComponentProperties((0,i.toPyComponent)(e),t,n)},t.updateComponentSections=function(e,t){r.designerApi.updateComponentSections((0,i.toPyComponent)(e),t)},t.startEditingSubform=function(e){r.designerApi.startEditingSubform((0,i.toPyComponent)(e))},t.startEditingForm=function(e,t){(0,i.assert)("string"==typeof t,"formPropertyValue must be a string"),r.designerApi.startEditingForm((0,i.toPyComponent)(e),t)},t.registerInteraction=function(e,t){return l.apply(this,arguments)},t.notifyInteractionsChanged=function(e){r.designerApi.notifyInteractionsChanged((0,i.toPyComponent)(e))},t.notifyDomNodeChanged=function(e){r.designerApi.notifyDomNodeChanged((0,i.toPyComponent)(e))},t.getConstructorForFormProperty=function(){},t.getDesignComponent=function(e){return r.designerApi.getDesignComponent(e)},t.requestFormPropertyChange=function(){},t.startInlineEditing=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return r.designerApi.startInlineEditing((0,i.toPyComponent)(e),t,n,o)},t.getDesignerState=function(e){return r.designerApi.getDesignerState((0,i.toPyComponent)(e))},t.inDesigner=void 0;var r=n(224),i=n(357);function o(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}var a=window.anvilInDesigner;function l(){var e;return e=function*(e,t){var{event:n="dblclick",callback:o,element:a}=t;if("dblclick"===n)return a||(a=yield e._anvilSetupDom()),r.designerApi.registerInteraction((0,i.toPyComponent)(e),a,n,o)},l=function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function l(e){o(a,r,i,l,s,"next",e)}function s(e){o(a,r,i,l,s,"throw",e)}l(void 0)}))},l.apply(this,arguments)}t.inDesigner=a},function(e,t,n){"use strict";n(13),n(0),n(9),n(20),n(37),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.setupPythonEnvironment=function(){return $.apply(this,arguments)},t.skulptFiles=void 0;var r=n(4),i=n(31),o=n(243),a=n(173),l=n(355),s=S(n(1)),c=S(n(294)),p=n(26),u=n(224),d=n(348),f=n(41),v=n(246),m=n(389),h=n(394),_=n(160),g=n(175),y=n(395),b=n(137);function k(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return k=function(){return e},e}function S(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=k();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}var P={};t.skulptFiles=P;var x=null;function T(e){return e in P?P[e]:(0,y.readBuiltinFiles)(e)}function E(e,t,n,r){var i,o={};for(var a of e.forms||[]){var l=a.class_name.split("."),s=l[l.length-1];a.is_package||l.pop();l.join(".");var c=l.join("/")+(l.length?"/":""),p="app/".concat(n,"/").concat(c,"_anvil_designer.js"),u=P[p]||"function $builtinmodule(mod) { /*INSERT*/ return mod; };",d=window.anvilFormTemplates;P[p]=u.replace(/\/\*INSERT\*\//,"/*INSERT*/ mod['".concat(s,"Template'] = window.anvilFormTemplates[").concat(d.length,"];"));var f=(0,m.createFormTemplateClass)(a,t,s,r);d[d.length]=f,o["".concat(s,"Template")]=f}((null===(i=e.runtime_options)||void 0===i?void 0:i.version)||0)<2&&(0,h.setupLegacyV1AnvilModule)(r,n,o)}window.anvilFormTemplates=[];function $(){var e;return e=function*(){var e,t,m,h=(null===(e=l.hooks.getSkulptOptions)||void 0===e?void 0:e.call(l.hooks))||{};Sk.configure(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({output:_.stdout,read:T,syspath:["app","anvil-services"],__future__:"3"==(null===(t=f.data.app.runtime_options)||void 0===t?void 0:t.client_version)?Sk.python3:Sk.python2,suspensionHandlers:s.suspensionHandlers},h)),Sk.importSetUpPath();var y=function(){var e=n(331)(f.data.appOrigin,v.uncaughtExceptions);c.defineSystemComponents(e),s.loadModule("anvil",e);var t=n(332)();s.loadModule("base64",t);var r=n(333)();s.loadModule("anvil.xml",r);var i=n(334)();s.loadModule("anvil.regex",i);var l=n(335)();s.loadModule("anvil.tz",l);var p=n(336)();s.loadModule("anvil.shapes",p);var d=n(337)(f.data.appId,f.data.appOrigin);(0,_.provideLoggingImpl)(d.log),x=d.registerServerCallSuspension,s.loadModule("anvil.server",d.pyMod);var m=n(341)();s.loadModule("anvil.http",m);var h=n(343)();s.loadModule("anvil.js",h);var y=n(396).default;s.loadModule("anvil.history",y);var b=n(344)();s.loadModule("anvil.image",b);var k=n(345)();return s.loadModule("anvil.media",k),s.loadModule("anvil.code_completion_hints",n(346)()),s.loadModule("anvil.designer",u.pyDesignerApi),s.loadModule("anvil.property_utils",a.pyPropertyUtilsApi),e.Slot=g.Slot,e.WithLayout=g.WithLayout,(0,o.setupDefaultAnvilPluggableUI)(e),e}();y.Component=p.Component,y.Container=i.Container,y.HtmlTemplate.$_anvilThemeAssets=(null===(m=f.data.app.theme)||void 0===m?void 0:m.html)||{},function(){var e=e=>{s.loadModule(e,{__name__:new Sk.builtin.str(e),__path__:new Sk.builtin.tuple([new Sk.builtin.str("app/"+e)]),__package__:new Sk.builtin.str(e)})},t=(e,t,n)=>"app/"+n+"/"+e.replace(/\./g,"/")+(t?"/__init__.py":".py"),n=(e,n)=>{for(var r of e.forms||[])P[t(r.class_name,r.is_package,n)]=r.code;for(var i of e.modules||[])P[t(i.name,i.is_package,n)]=i.code},r=[],i=[];e(f.data.appPackage);var o=function(t,o){if(!o.package_name)return"continue";if(e(o.package_name),-1==i.indexOf(o.package_name))n(o,o.package_name),i.push(o.package_name);else{var a,l,s,c=Object.entries(f.data.app.dependency_code).filter((e=>{var[t,{package_name:n}]=e;return n===o.package_name})).map((e=>{var[t,n]=e;return t})),p="This app has ".concat(c.length,' conflicting dependencies with the package name "').concat(o.package_name,'" (').concat(c.join(", "),").");(null!==(a=null===(l=f.data.app.runtime_options)||void 0===l?void 0:l.version)&&void 0!==a?a:0)<3&&!(null===(s=f.data.app.runtime_options)||void 0===s?void 0:s.preview_v3)?(0,b.warn)("Warning: "+p+"This may cause errors in your app, and will be an error in future.\n"):r.push(p)}};for(var[a,l]of Object.entries(f.data.app.dependency_code))o(0,l);if(-1==i.indexOf(f.data.appPackage)?n(f.data.app,f.data.appPackage):r.push("App cannot have the same package name as one of its dependencies: ".concat(f.data.appPackage)),0!==r.length)throw new Sk.builtin.Exception(r.join("\n"))}(),(0,d.registerJsPythonModules)();var k=[];for(var S of f.data.app.dependency_order){var O=f.data.app.dependency_code[S];O.package_name&&(E(O,S,O.package_name,y),O.client_init_module&&k.push("".concat(O.package_name,".").concat(O.client_init_module)))}E(f.data.app,null,f.data.appPackage,y),f.data.app.client_init_module&&k.push("".concat(f.data.appPackage,".").concat(f.data.app.client_init_module)),k.length>0&&(yield(0,r.suspensionToPromise)((()=>(0,r.chainOrSuspend)(null,...k.map((e=>()=>Sk.importModule(e,!1,!0)))))))},$=function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){O(o,r,i,a,l,"next",e)}function l(e){O(o,r,i,a,l,"throw",e)}a(void 0)}))},$.apply(this,arguments)}s.suspensionHandlers["Sk.promise"]=e=>{var t;(e=>null!==e.data&&"object"==typeof e.data&&"serverRequestId"in e.data)(e)&&(null===(t=x)||void 0===t||t(e))}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(63),__webpack_require__(390),__webpack_require__(0),__webpack_require__(392),__webpack_require__(19),__webpack_require__(54),__webpack_require__(3),__webpack_require__(61),__webpack_require__(2),Object.defineProperty(exports,"__esModule",{value:!0}),exports.setupPassiveHooks=setupPassiveHooks,exports.createFormTemplateClass=exports.ITEM_PROPERTY=exports.FORM_EVENT_NAMES=exports.FORM_EVENTS=exports.FORM_REFRESH_DATA_BINDINGS_EVENT=exports.FORM_HIDE_EVENT=exports.FORM_SHOW_EVENT=void 0;var _Sk=__webpack_require__(4),PyDefUtils=_interopRequireWildcard(__webpack_require__(1)),_Component=__webpack_require__(26),_componentCreation=__webpack_require__(393),_errorHandling=__webpack_require__(246),_instantiation=__webpack_require__(115),_pyUtil=__webpack_require__(6),_pythonObjects=__webpack_require__(175);function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function asyncGeneratorStep(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){asyncGeneratorStep(o,r,i,a,l,"next",e)}function l(e){asyncGeneratorStep(o,r,i,a,l,"throw",e)}a(void 0)}))}}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var walkComponents=function(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=e=>{var n;t(e),null===(n=e.components)||void 0===n||n.forEach(o)};e.container?(null==i||i(e.container),null===(n=e.components)||void 0===n||n.forEach(o)):(null==i||i(e.layout),Object.values(null!==(r=e.components_by_slot)&&void 0!==r?r:[]).flat().forEach(o))},propNameMap=[["name","name"],["type","type"],["default_value","defaultValue"],["description","description"],["important","important"],["group","group"],["options","options"],["accept","accept"],["multiline","multiline"],["allow_binding_writeback","supportsWriteback"],["include_none_option","includeNoneOption"],["none_option_label","noneOptionLabel"],["priority","priority"],["designer_hint","designerHint"],["default_binding_prop","defaultBindingProp"],["show_in_designer_when","showInDesignerWhen"],["iconsets","iconsets"]];function cleanPropertyDescription(e){var t={};for(var[n,r]of propNameMap)n in e&&(t[r]=e[n]);return null==t.priority?delete t.priority:t.priority=parseFloat(t.priority),t}function cleanPropertyDescriptions(e){var t;return null!==(t=null==e?void 0:e.map(cleanPropertyDescription))&&void 0!==t?t:[]}function cleanEventDescriptions(e){var t;return null!==(t=null==e?void 0:e.map((e=>{var{name:t,description:n,parameters:r,default_event:i}=e;return{name:t,description:n,parameters:r,defaultEvent:i}})))&&void 0!==t?t:[]}var isComponent=e=>"name"in e,setupDataBindings=yaml=>{var dataBindings={},walk=component=>{var thisComponentBindings=[];for(var binding of component.data_bindings||[])if(binding.code){var readCode="def update_val(self, _anvil_component):\n  _anvil_component."+binding.property+" = "+binding.code+"\ndef clear_val(self, _anvil_component):\n  _anvil_component."+binding.property+" = None\n",writeCode=binding.writeback?"def save_val(self, _anvil_component):\n  "+binding.code+" = _anvil_component."+binding.property+"\n":"",modlocs=void 0,bmod=void 0;try{bmod=Sk.compile(readCode+writeCode,"update_binding.py","exec",!0)}catch(e){var name=isComponent(component)?"self.".concat(component.name):"self";if(binding.writeback){var readCompiledOk=!1;try{Sk.compile(readCode,"update_binding.py","exec",!0),readCompiledOk=!0}catch(e){}if(readCompiledOk)throw new Sk.builtin.SyntaxError("Can't assign to data binding expression for "+name+"."+binding.property+" in "+yaml.class_name+", but writeback is enabled for this data binding.")}throw new Sk.builtin.SyntaxError("Syntax error in data binding for ".concat(name,".").concat(binding.property," in form ").concat(yaml.class_name))}modlocs=eval(bmod.code+"\n"+bmod.funcname+"({__name__: new Sk.builtin.str('update_binding')});\n"),modlocs=Sk.misceval.retryOptionalSuspensionOrThrow(modlocs),thisComponentBindings.push(_objectSpread({pyUpdate:modlocs.update_val,pyClear:modlocs.clear_val,pySave:modlocs.save_val},binding))}dataBindings[isComponent(component)?component.name:""]=thisComponentBindings};return walkComponents(yaml,walk,walk),dataBindings},setupDataBindingWritebackListeners=(e,t,n)=>{var r=function(){var t=_asyncToGenerator((function*(t,n){try{return yield PyDefUtils.callAsyncWithoutDefaultError(t.pySave,void 0,void 0,void 0,e,n)}catch(e){if(e instanceof Sk.builtin.KeyError)return _Sk.pyNone;if(console.error(e),e instanceof Sk.builtin.BaseException&&e.args.v[0]instanceof Sk.builtin.str){var r=t.componentName?"self.".concat(t.componentName):"self";e.args.v[0]=new Sk.builtin.str(e.args.v[0].v+"\n while setting "+t.code+" = "+r+"."+t.property+"\n in a data binding for "+r)}return reportError(e),_Sk.pyNone}}));return function(e,n){return t.apply(this,arguments)}}(),i=[],o=function(t,o){var a=void 0;if(t)a=e.$d.quick$lookup(new _Sk.pyStr(t));else if(n){if(!e._withLayout.pyLayout)return"continue";a=e._withLayout.pyLayout}else a=e;var l=function(e){if(e.pyComponent=a,e.componentName=t,e.writeback){var n=new _Sk.pyFunc(PyDefUtils.withRawKwargs((()=>(0,_Sk.promiseToSuspension)(r(e,a)))));(0,_Sk.pyCall)(a.tp$getattr(_pyUtil.s_add_event_handler),[new _Sk.pyStr("x-anvil-write-back-"+e.property),n]),i.push((()=>{(0,_Sk.pyCall)(a.tp$getattr(_pyUtil.s_remove_event_handler),[new _Sk.pyStr("x-anvil-write-back-"+e.property),n])}))}};for(var s of o)l(s)};for(var[a,l]of Object.entries(t))o(a,l);return()=>{for(var e of i)e()}},refreshDataBindings=(e,t,n)=>{var r=[],i=[],o=function(n,o){var a=void 0;if(n)a=t.$d.quick$lookup(new _Sk.pyStr(n));else if(e.layout){if(!t._withLayout.pyLayout)return"continue";a=t._withLayout.pyLayout}else a=t;r.push(...o.map((r=>{var{property:o,code:l,pyUpdate:s,pyClear:c}=r,p=()=>s&&(0,_Sk.pyCallOrSuspend)(s,[t,a]),u=r=>{if(r instanceof _Sk.pyKeyError)return c&&(0,_Sk.pyCallOrSuspend)(c,[t,a]);if(!(r instanceof _Sk.pyBaseException&&r.args.v[0]instanceof _Sk.pyStr))throw r;r.traceback.pop(),(0,_errorHandling.isCustomAnvilError)(r)&&r._anvil.errorObj.bindingErrors?(i.push(...r._anvil.errorObj.bindingErrors),1===i.length&&(i[0].exception=r)):i.push({exception:r,traceback:r.traceback,message:r.args.v[0].toString(),formName:e.class_name,binding:{component_name:n,property:o,code:l}})};return()=>(0,_Sk.tryCatchOrSuspend)(p,u)})))};for(var[a,l]of Object.entries(n))o(a,l);return r.push((()=>{if(1===i.length){var e=i[0].exception;throw e._anvil?e._anvil.errorObj||(e._anvil.errorObj={type:e.tp$name}):e._anvil={errorObj:{type:e.tp$name}},e._anvil.errorObj.bindingErrors=i,delete i[0].exception,e}if(i.length>0){var t=new Sk.builtin.RuntimeError("Data Binding update failed with ".concat(i.length," error").concat(i.length>1?"s":""));for(var n of(t._anvil={errorObj:{type:"Exception",bindingErrors:i}},i))delete n.exception;throw t}})),(0,_Sk.chainOrSuspend)(null,...r,(()=>_Sk.pyNone))},getComponentNames=e=>{var t=new Set;return walkComponents(e,(e=>t.add(e.name))),t},FORM_SHOW_EVENT={name:"show",description:"When the form is shown on the page",parameters:[],important:!0};exports.FORM_SHOW_EVENT=FORM_SHOW_EVENT;var FORM_HIDE_EVENT={name:"hide",description:"When the form is removed from the page",parameters:[],important:!0};exports.FORM_HIDE_EVENT=FORM_HIDE_EVENT;var FORM_REFRESH_DATA_BINDINGS_EVENT={name:"refreshing_data_bindings",important:!0,parameters:[],description:"When refresh_data_bindings is called"};exports.FORM_REFRESH_DATA_BINDINGS_EVENT=FORM_REFRESH_DATA_BINDINGS_EVENT;var FORM_REFRESH_DATA_BINDINGS_EVENT_HIDDEN=_objectSpread(_objectSpread({},FORM_REFRESH_DATA_BINDINGS_EVENT),{},{hidden:!0}),FORM_EVENTS=[FORM_SHOW_EVENT,FORM_HIDE_EVENT,FORM_REFRESH_DATA_BINDINGS_EVENT];exports.FORM_EVENTS=FORM_EVENTS;var FORM_EVENT_NAMES=FORM_EVENTS.map((e=>{var{name:t}=e;return t}));
/*!componentProp(form)!1*/exports.FORM_EVENT_NAMES=FORM_EVENT_NAMES;var ITEM_PROPERTY={name:"item",type:"dict",description:"A dictionary-like object connected to this form"};function setupDropHooks(e,t){var n=t.anvil$hooks.enableDropMode;if(e.custom_component_container){var r=new _pythonObjects.Slot((()=>t),0);(0,_Sk.retryOptionalSuspensionOrThrow)(r._slotState.fillCache());var i=r.tp$getattr(_pyUtil.s_add_component);t.$d.mp$ass_subscript(_pyUtil.s_add_component,i),t.anvil$hooks.enableDropMode=(e,t)=>{var i;return(null!==(i=null==n?void 0:n(e,t))&&void 0!==i?i:[]).filter((e=>{var{dropInfo:{minChildIdx:t}={}}=e;return void 0===t||t<=r._slotState.components.length}))}}else t.anvil$hooks.enableDropMode=(e,t)=>{var r;return(null==t?void 0:t.asComponent)?[]:null!==(r=null==n?void 0:n(e,t))&&void 0!==r?r:[]}}function setupPassiveHooks(e,t){}exports.ITEM_PROPERTY=ITEM_PROPERTY;var MetaCustomComponent=(0,_Sk.buildNativeClass)("anvil.MetaCustomComponent",{constructor:function(){},base:_Sk.pyType,slots:{tp$call(e,t){var n=this.prototype.anvil$customPropsDefaults;if(n){var r=(0,_pyUtil.kwsToObj)(t);for(var i in n)i in r||(r[i]=n[i]);t=(0,_pyUtil.objToKws)(r)}return _Sk.pyType.prototype.tp$call.call(this,e,t)}}}),createFormTemplateClass=(e,t,n,r)=>{var i,o=e.container?(0,_instantiation.getAnvilComponentClass)(r,e.container.type)||(0,_Sk.retryOptionalSuspensionOrThrow)((0,_instantiation.getFormClassObject)((0,_instantiation.resolveFormSpec)(e.container.type.substring(5),t))):_pythonObjects.WithLayout,a={},l=[],s=[ITEM_PROPERTY];(e.custom_component||e.slots)&&(l.push(...cleanEventDescriptions(e.events)),s.push(...cleanPropertyDescriptions(e.properties))),l.some((e=>{var{name:t}=e;return"refreshing_data_bindings"===t}))||l.push(FORM_REFRESH_DATA_BINDINGS_EVENT_HIDDEN);var c=setupDataBindings(e),p=getComponentNames(e),u=o.$typeLookup(_pyUtil.s_item),d=[];e.layout&&d.push("layout",{type:e.layout.type,defaultDepId:t}),(e.custom_component||e.slots)&&d.push("metaclass",MetaCustomComponent);var f=(0,_Sk.buildPyClass)(r,((n,i)=>{var d=[];if(!e.container){var v=new _Sk.pyBuiltinFunctionOrMethod({$meth(t,n){var r;(0,_componentCreation.addEventHandlers)(t,n,"",e.layout.event_bindings);var i={"":null!==(r=c[""])&&void 0!==r?r:[]};return n.anvil$formState.removeDataBindingWritebackListeners=setupDataBindingWritebackListeners(n,i,!0),(0,_Sk.chainOrSuspend)(null,(()=>refreshDataBindings(e,n,i)),(()=>(0,_componentCreation.addFormComponentsToLayout)(e,n,t)),(()=>_Sk.pyNone))},$flags:{MinArgs:2,MaxArgs:2}}),m=new _Sk.pyBuiltinFunctionOrMethod({$meth(t,n){var r,i;return(0,_componentCreation.removeEventHandlers)(t,n,e.layout),null===(r=(i=n.anvil$formState).removeDataBindingWritebackListeners)||void 0===r||r.call(i),_Sk.pyNone},$flags:{MinArgs:2,MaxArgs:2}});d.push(v,m)}var h=e.container||e.layout,_=(0,_pyUtil.jsObjToKws)(_objectSpread({__ignore_property_exceptions:!0},h.properties||{})),g=Sk.abstr.typeLookup(o,Sk.builtin.str.$new),y=e=>(0,_Sk.pyCallOrSuspend)(g,[e,...d],_),b=(t,n)=>(t._anvil&&(Object.assign(t._anvil,a),t._anvil.props.item=new Sk.builtin.dict([])),t.anvil$formState={refreshOnItemSet:!0,dataBindings:[],slotDict:new _Sk.pyDict},(0,_Sk.chainOrSuspend)(n(t),(()=>(setupDataBindingWritebackListeners(t,c,!!e.layout),t))));i.__new__=new Sk.builtin.func(PyDefUtils.withRawKwargs(((n,r)=>(0,_Sk.chainOrSuspend)(y(r),(n=>{var r=(0,_componentCreation.getAndCheckNextCreationStack)(e.class_name,t);return b(n,(n=>(0,_Sk.chainOrSuspend)((0,_componentCreation.setupFormComponents)(e,n,t,r),(t=>{if(t.slots)for(var[r,i]of Object.entries(t.slots))n.anvil$formState.slotDict.mp$ass_subscript(new _Sk.pyStr(r),i);setupDropHooks(e,n)}))))}))))),i.__new_deserialized__=PyDefUtils.mkNewDeserializedPreservingIdentity(((t,n,r)=>{var i=n.mp$subscript(new Sk.builtin.str("c")),o=n.mp$subscript(new Sk.builtin.str("d")),a=n.mp$subscript(new Sk.builtin.str("a"));return b(t,(function(t){var n=t.tp$getattr(_pyUtil.s_add_component);return Sk.misceval.chain(Sk.misceval.iterFor(Sk.abstr.iter(i),(e=>{var[t,r]=e.v;return Sk.misceval.apply(n,r,void 0,[],[t])})),(()=>{var n,r=t.$d.tp$getattr(new _Sk.pyStr("update"));function i(e,n){var r=e.tp$getattr(_pyUtil.s_add_event_handler);for(var i in n.event_bindings){var o=t.tp$getattr(new _Sk.pyStr(n.event_bindings[i]));o&&(0,_Sk.pyCall)(r,[new _Sk.pyStr(i),o])}}(0,_Sk.pyCall)(r,[o]),e.container&&i(t,e.container),function e(n){for(var r of n||[]){i(t.tp$getattr(new _Sk.pyStr(r.name)),r),r.components&&e(r.components)}}(null!==(n=e.components)&&void 0!==n?n:[]),setupDataBindingWritebackListeners(t,c,!!e.layout)}),(()=>{var e=a.tp$getattr(new _Sk.pyStr("items"));return(0,_Sk.iterForOrSuspend)((0,_Sk.pyIter)((0,_Sk.pyCall)(e)),(e=>{var[n,r]=e.v;return t.tp$setattr(n,r,!0)}))}))}))}),y),i.__serialize__=PyDefUtils.mkSerializePreservingIdentity((function(e){var t,n=null!==(t=(0,_Sk.lookupSpecial)(e,_Sk.pyStr.$dict))&&void 0!==t?t:new _Sk.pyDict;try{Sk.abstr.objectDelItem(n,new Sk.builtin.str("_serialization_key"))}catch(e){}var r=new Sk.builtin.dict,i=[];if(e._anvil){for(var o in e._anvil.props)r.mp$ass_subscript(new Sk.builtin.str(o),e._anvil.props[o]);i=e._anvil.components.map((e=>new Sk.builtin.tuple([e.component,(0,_Sk.toPy)(e.layoutProperties)])))}return new Sk.builtin.dict([new Sk.builtin.str("d"),n,new Sk.builtin.str("a"),r,new Sk.builtin.str("c"),new Sk.builtin.list(i)])})),i.init_components=i.__init__=(0,_pyUtil.funcFastCall)((function(t,n){(0,_Sk.checkOneArg)("init_components",t);var r,i=t[0],a=o.tp$getattr(_Sk.pyStr.$init),l=new Set(["item"]),s=(0,_pyUtil.kwsToObj)(n);if(e.custom_component||e.slots)for(var{name:c}of null!==(p=e.properties)&&void 0!==p?p:[]){var p;l.add(c)}var u=e=>{var t,n;return"__ignore_property_exceptions"!==e&&(!!l.has(e)||(null!==(t=r)&&void 0!==t||(r=null!==(n=i.anvil$hooks.properties)&&void 0!==n?n:[]),!!r.some((t=>{var{name:n}=t;return n===e}))||(console.log("Ignoring form constructor kwarg: ",e),!1)))},d=[];for(var[f,v]of Object.entries(s))u(f)&&d.push([f,v]);return Sk.misceval.chain((0,_Sk.pyCallOrSuspend)(a,[i]),(()=>{i.anvil$formState.refreshOnItemSet=!1}),...d.map((e=>{var[t,n]=e;return()=>i.tp$setattr(new Sk.builtin.str(t),n,!0)})),(()=>{i.anvil$formState.refreshOnItemSet=!0}),(()=>Sk.misceval.tryCatch((()=>(0,_Sk.pyCallOrSuspend)(i.tp$getattr(new Sk.builtin.str("refresh_data_bindings")))),(e=>{throw e instanceof Sk.builtin.BaseException&&e.args.v[0]instanceof Sk.builtin.str&&(e.args.v[0]=new Sk.builtin.str(e.args.v[0].v+". Did you initialise all data binding sources before initialising this component?")),e}))))})),(e.custom_component||e.slots)&&(e.properties||[]).forEach((e=>{i[e.name]=(0,_Sk.pyCall)(r.CustomComponentProperty,[new _Sk.pyStr(e.name),(0,_Sk.toPy)(e.default_value||null)])})),e.slots&&(i.slots=(0,_pyUtil.pyPropertyFromGetSet)((e=>e.anvil$formState.slotDict))),i.raise_event=(0,_pyUtil.funcFastCall)(((t,n)=>{var r,[i,o]=t;(0,_Sk.checkArgsLen)("raise_event",t,2,2);var a=String(o),l=new _Sk.pySuper(f,i).tp$getattr(_pyUtil.s_raise_event);if(!e.custom_component&&!e.slots)return(0,_Sk.pyCallOrSuspend)(l,[o],n);var s=(null!==(r=e.properties)&&void 0!==r?r:[]).filter((e=>{var t;return(null!==(t=e.binding_writeback_events)&&void 0!==t?t:[]).includes(a)})).map((e=>()=>(0,_Component.raiseWritebackEventOrSuspend)(i,new _Sk.pyStr(e.name))));return(0,_Sk.chainOrSuspend)(_Sk.pyNone,...s,(()=>(0,_Sk.pyCallOrSuspend)(l,[o],n)))})),i.refresh_data_bindings=new Sk.builtin.func((function(t){var n,r=[()=>(0,_Sk.pyCallOrSuspend)(t.tp$getattr(_pyUtil.s_raise_event),[_pyUtil.s_refreshing_data_bindings])];return(null===(n=t._anvil)||void 0===n?void 0:n.onRefreshDataBindings)&&r.push(t._anvil.onRefreshDataBindings),(0,_Sk.chainOrSuspend)(null,...r,(()=>refreshDataBindings(e,t,c)),(()=>_Sk.pyNone))}));var k=Sk.abstr.buildNativeClass("ItemDescriptor",{constructor:function(){},slots:{tp$descr_get(e,t){var n;return null==e?this:null!==(n=e.anvil$itemValue)&&void 0!==n?n:e.anvil$itemValue=new Sk.builtin.dict},tp$descr_set(e,t,n){var r;e.anvil$itemValue=t;var o=(0,_Sk.chainOrSuspend)(null==u||null===(r=u.tp$descr_set)||void 0===r?void 0:r.call(u,e,t),(()=>e.anvil$formState.refreshOnItemSet&&(0,_Sk.pyCallOrSuspend)(i.refresh_data_bindings,[e])));return n?o:(0,_Sk.retryOptionalSuspensionOrThrow)(o)}}});i.item=new k,i.__setattr__=new Sk.builtin.func((function(e,t,n){var r=Sk.ffi.toJs(t);if(p.has(r))throw new Sk.builtin.AttributeError("Cannot set attribute '"+r+"' on '"+e.tp$name+"' form. There is already a component with this name.");return(0,_Sk.chainOrSuspend)(Sk.generic.setAttr.call(e,t,n,!0),(()=>_Sk.pyNone))}));var S=Sk.abstr.typeLookup(Sk.builtin.object,Sk.builtin.str.$getattribute);i.__getattribute__=new Sk.builtin.func((function(e,t){var n=Sk.ffi.toJs(t);if(p.has(n)){var r=e.$d,i=r&&r.quick$lookup(t);if(void 0!==i)return i}return(0,_Sk.pyCallOrSuspend)(S,[e,t])})),i[_pyUtil.s_anvil_get_interactions.toString()]=(0,_pyUtil.funcFastCall)((()=>new _Sk.pyList([]))),i[_pyUtil.s_anvil_properties.toString()]=(0,_Sk.toPy)(s),i[_pyUtil.s_anvil_events.toString()]=(0,_Sk.toPy)(l)}),n,[o],void 0,d);return f.prototype.anvil$customPropsDefaults=Object.fromEntries((null!==(i=e.properties)&&void 0!==i?i:[]).filter((e=>"object"!==e.type)).map((e=>[e.name,(0,_Sk.toPy)(e.default_value)]))),f};exports.createFormTemplateClass=createFormTemplateClass},function(e,t,n){"use strict";var r=n(12),i=n(391),o=n(32),a=n(15),l=n(40),s=n(172);r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=o(this),n=a(t.length),r=s(t,0);return r.length=i(r,t,t,n,0,void 0===e?1:l(e)),r}})},function(e,t,n){"use strict";var r=n(131),i=n(15),o=n(48),a=function(e,t,n,l,s,c,p,u){for(var d,f=s,v=0,m=!!p&&o(p,u,3);v<l;){if(v in n){if(d=m?m(n[v],v,t):n[v],c>0&&r(d))f=a(e,t,d,i(d.length),f,c-1)-1;else{if(f>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[f]=d}f++}v++}return f};e.exports=a},function(e,t,n){n(170)("flat")},function(e,t,n){"use strict";n(0),n(242),n(33),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.mkInvalidComponent=v,t.removeEventHandlers=function(e,t,n){var i,o=n.event_bindings||{};for(var[l,s]of Object.entries(o)){var c;null!==(c=i)&&void 0!==c||(i=Sk.abstr.gattr(e,a.s_remove_event_handler));var p=Sk.generic.getAttr.call(t,new r.pyStr(s));(0,r.pyCall)(i,[new r.pyStr(l),p])}},t.addEventHandlers=m,t.setupFormComponents=function(e,t,n,i){var c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=arguments.length>5?arguments[5]:void 0,d=Sk.abstr.lookupSpecial(t,r.pyStr.$dict);return(0,r.chainOrSuspend)(function(e,t,n,i,c,u){var d={requestingComponent:t,fromYaml:!0,defaultDepId:n},f={components:{},orphanedComponents:[],form:t},g=(n,o,l,u,y)=>(0,r.chainOrSuspend)((0,r.tryCatchOrSuspend)((()=>_(d,n.type,p({__ignore_property_exceptions:!0},n.properties),c,n.name)),(e=>(console.error("Error instantiating ".concat(null==n?void 0:n.name),": ",e,"YAML:",n,"\n",(0,a.strError)(e)),(0,a.reportError)(e),v('Error instantiating "'.concat(null==n?void 0:n.name,'": ').concat((0,a.strError)(e)))))),(o=>(0,r.tryCatchOrSuspend)((()=>{if(n.name&&(n.name in f.components&&(0,s.warn)("Warning: detected ".concat(e.class_name,' has two components named "').concat(n.name,"\". This shouldn't happen.")),f.components[n.name]={component:o,layoutProperties:n.layout_properties||{},index:u,ancestors:l,targetSlot:y}),i&&m(o,t,n.name,n.event_bindings),n.components&&!(0,r.isTrue)((0,r.pyIsInstance)(o,a.anvilMod.InvalidComponent))){var c=h;try{c=Sk.abstr.gattr(o,a.s_add_component)}catch(e){}return(0,r.chainOrSuspend)(null,...n.components.map(((e,t)=>()=>g(e,c,[o,...l],t))),(()=>o))}return o}),(e=>(console.error("Error setting up component '".concat(null==n?void 0:n.name,"' on ").concat(null==t?void 0:t.tp$name,":"),e,"\nYAML: ",n,"Python err: ",(0,a.strError)(e)),(0,a.reportError)(e),v('Error setting up component "'.concat(null==n?void 0:n.name,'": ').concat((0,a.strError)(e))))))),(e=>{var t=[];if(n.layout_properties)for(var[i,l]of Object.entries(n.layout_properties))t.push(new r.pyStr(i),(0,r.toPy)(l));return o&&(0,r.tryCatchOrSuspend)((()=>(0,r.pyCallOrSuspend)(o,[e],t)),(e=>((0,a.reportError)(e),f.orphanedComponents.push(n.name),r.pyNone)))}));window.anvilCurrentlyConstructingForms.push({name:e.class_name,pyForm:t});var y=()=>{if(e.slots){f.slots={};var i={container:{},slot:{}},s=Object.entries(e.slots).sort(((e,t)=>{var[n,{index:r}]=e,[i,{index:o}]=t;return r===o?n.localeCompare(i,"en"):r-o})),c=function(e,s,c,u,d,v){var m,h,_=void 0;if("container"===d.type){var g=d.name?f.components[d.name].component:t;if(!g)throw'No such target container "'.concat(d.name,'" for slot "').concat(e,'"');_=()=>g}else _=()=>(0,r.chainOrSuspend)(Sk.abstr.gattr(t,a.s_layout,!0),(e=>Sk.abstr.gattr(e,a.s_slots,!0)),(t=>{var n=t.quick$lookup(new r.pyStr(d.name));if(!n)throw"No such target slot ".concat(d.name," for slot ").concat(e);return n}));var y=void 0;u&&(y={component:p(p({},u),{},{type:u.type.startsWith("form:")?(0,o.resolveFormSpec)(u.type.substring(5),n).qualifiedClassName:"anvil.".concat(u.type)}),title:"Template"});var b=new l.Slot(_,v||0,s,!!c,y);f.slots[e]=b;var k=(m=i[d.type])[h=d.name]||(m[h]=[]);b._slotState.earlierSlots.push(...k),k.push(b)};for(var[u,{set_layout_properties:d,one_component:v,template:m,target:h,index:_}]of s)c(u,d,v,m,h,_)}return window.anvilCurrentlyConstructingForms.pop(),f};var b,k;if(e.layout)return i&&m(t,t,"",e.layout.form_event_bindings),(0,r.chainOrSuspend)(void 0,...Object.entries(null!==(b=e.components_by_slot)&&void 0!==b?b:[]).map(((e,t)=>{var[n,i]=e;return()=>(0,r.chainOrSuspend)(null,...i.map((e=>()=>g(e,null,[u],t,n))))})),y);i&&m(t,t,"",e.container.event_bindings);var S=h;try{S=Sk.abstr.gattr(t,a.s_add_component)}catch(e){}return(0,r.chainOrSuspend)(null,...(null!==(k=e.components)&&void 0!==k?k:[]).map(((e,t)=>()=>g(e,S,[u],t))),y)}(e,t,n,c,i,u),(e=>{for(var[n,{component:i}]of Object.entries(e.components)){var o=new r.pyStr(n);(0,r.isTrue)((0,r.pyHasAttr)(t,o))&&Sk.builtin.print([new r.pyStr("Warning: ".concat(t.tp$name," has a method or attribute '").concat(n,"' and a component called '").concat(n,"'. The method or attribute will be inaccessible. This is probably not what you want."))]),d&&d.mp$ass_subscript(o,i)}return e}))},t.addFormComponentsToLayout=function(e,t,n){var i,o=Sk.abstr.lookupSpecial(t,r.pyStr.$dict),l=Sk.abstr.gattr(n,a.s_slots),s=[];return(0,r.chainOrSuspend)(null,...Object.entries(null!==(i=e.components_by_slot)&&void 0!==i?i:[]).map((t=>{var[i,c]=t;return()=>{if(c.length){var t;try{t=l.mp$subscript(new r.pyStr(i))}catch(t){if(t instanceof Sk.builtin.KeyError)return(0,a.reportError)(new r.pyException("Could not add component(s) ".concat(c.map((e=>"'".concat(e.name,"'"))).join(", ")," to slot '").concat(i,"' in ").concat(e.class_name,": Slot not found in ").concat(n.tp$name," layout. It may have been renamed or deleted."))),void s.push(...c.map((e=>{var{name:t}=e;return t})));throw t}var p=Sk.abstr.gattr(t,a.s_add_component);return(0,r.chainOrSuspend)(null,...c.map((e=>{var{name:t,layout_properties:n}=e;return()=>(0,r.pyCallOrSuspend)(p,[o.mp$subscript(new r.pyStr(t))],(0,a.jsObjToKws)(n))})))}}})),(()=>s))},t.instantiateComponentFromYamlSpec=t.getAndCheckNextCreationStack=t.setNextCreationStack=void 0;var r=n(4),i=n(26),o=n(115),a=n(6),l=n(175),s=n(137);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d,f=new Set;t.setNextCreationStack=e=>{d=e};function v(e){return(0,r.pyCall)(a.anvilMod.InvalidComponent,[],["text",new r.pyStr(e)])}function m(e,t,n,i){var o=null,l=i||{};for(var[c,p]of Object.entries(l)){var u;null!==(u=o)&&void 0!==u||(o=Sk.abstr.gattr(e,a.s_add_event_handler));var d=Sk.generic.getAttr.call(t,new r.pyStr(p));if(Sk.builtin.checkCallable(d))try{(0,r.pyCall)(o,[new r.pyStr(c),d])}catch(e){if(!(e instanceof Sk.builtin.ValueError))throw e}else{var v="".concat(t.tp$name,".").concat(n,".").concat(c);if(!f.has(v)){f.add(v);var m=void 0;m=void 0===d?'Warning: No method "'.concat(p,'" in form ').concat(t.tp$name,": cannot set the '").concat(c,"' event handler of self").concat(n?"."+n:"","."):'Warning: "'.concat(p,'" in form ').concat(t.tp$name," is not a method: cannot set the '").concat(c,"' event handler of self").concat(n?"."+n:"",". Expected a callable function, (found type '").concat(Sk.abstr.typeName(d),"')."),(0,s.warn)(m)}}}}t.getAndCheckNextCreationStack=(e,t)=>{var n,i,o=d;d=void 0,(null===(n=o)||void 0===n?void 0:n.formSpec.formName)===e&&o.formSpec.depId===t||(o=void 0);for(var a=null===(i=o)||void 0===i?void 0:i.prev;a;){if(a.formSpec.formName===e&&a.formSpec.depId===t)throw new r.pyRecursionError("Cannot nest ".concat(e," inside itself"));a=a.prev}return o};var h=new Sk.builtin.func((()=>{throw new Sk.builtin.Exception})),_=(e,t,n,l,s)=>{if(t.startsWith("form:")){var c=(0,o.resolveFormSpec)(t.substring(5),e.defaultDepId);return(0,r.chainOrSuspend)((0,o.getNamedFormInstantiator)(c,e.requestingComponent),(t=>((0,i.setDefaultDepIdForNextComponent)(e.defaultDepId),d={formSpec:c,prev:l},t((0,a.jsObjToKws)(n),s))))}var p=(0,o.getAnvilComponentInstantiator)(e,t);return(0,i.setDefaultDepIdForNextComponent)(e.defaultDepId),p((0,a.jsObjToKws)(n),s)};t.instantiateComponentFromYamlSpec=_},function(e,t,n){"use strict";n(0),n(3),n(33),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.setupLegacyV1AnvilModule=function(e,t,n){(function(e,t,n){n.__all__=new r.pyList([...Object.keys(e).filter((e=>!e.startsWith("_"))),...Object.keys(n)].map((e=>new r.pyStr(e))));var o=new Proxy(n,{get(t,n){var r;return null!==(r=t[n])&&void 0!==r?r:e[n]},set:(t,n,r)=>("string"==typeof n&&(n in t?t[n]=r:e[n]=r),!0)});i.loadModule(t+".anvil",o)})(e,t,n),function(e){if(c)return;c=!0;var t=o.data.app.services,n=function(n,i){if(n in e)return"continue";var o,a,s,c,p="/runtime/services/".concat(i).concat(n,".yml");if(!(null==t?void 0:t.some((e=>{var{source:t}=e;return t===p}))))return"continue";e[n]=(o=n,a=p,s=new r.pyStr("anvil."+o),(c=new l).init$dict(s,r.pyNone),c.$d.__package__=s,c.$d.__file__=new r.pyStr(a),Sk.abstr.objectSetItem(Sk.sysmodules,s,c),c)};for(var[i,a]of s.entries())n(i,a)}(e),function(e){for(var t=(0,r.pyCall)(Sk.sysmodules.tp$getattr(new r.pyStr("copy"))),n=Sk.abstr.iter(t),i=n.tp$iternext();void 0!==i;i=n.tp$iternext())if(i.toString().startsWith("anvil.")){var o=Sk.sysmodules.mp$subscript(i);Sk.abstr.objectSetItem(Sk.sysmodules,new r.pyStr(e+"."+i),o)}}(t)};var r=n(4),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1)),o=n(41);function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var l=Sk.misceval.buildClass({},((e,t)=>{t.__getattr__=new r.pyFunc(((e,t)=>{var n,i=e.$d.__name__,o=i.toString();return Sk.sysmodules.quick$lookup(i)===e&&(Sk.abstr.objectDelItem(Sk.sysmodules,i),n=Sk.importModule(o,!1,!0)),(0,r.chainOrSuspend)(n,(()=>{var e=Sk.sysmodules.quick$lookup(i);return null==e?void 0:e.tp$getattr(t,!0)}),(e=>{if(void 0===e)throw new r.pyAttributeError(t.toString());return e}))}))}),"lazyServiceModule",[r.pyModule]);var s=new Map([["tables",""],["users","anvil/"],["email","anvil/"],["google",""],["microsoft","anvil/"],["facebook",""],["saml","anvil/"]]),c=!1},function(e,t,n){"use strict";n(19),n(9),n(3),Object.defineProperty(t,"__esModule",{value:!0}),t.readBuiltinFiles=function(e){var t,n=null===(t=Sk.builtinFiles)||void 0===t?void 0:t.files[e];if(void 0===n)throw"File not found: '"+e+"'";return"number"==typeof n?(0,r.promiseToSuspension)(l(e,n).then((t=>(Object.assign(Sk.builtinFiles.files,t),t[e])))):n};var r=n(4),i=n(27),o=n(41);function a(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function l(e,t){return s.apply(this,arguments)}function s(){var e;return e=function*(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;try{var r=window.anvilSkulptLib[t];return(yield fetch(r)).json()}catch(r){var a,s=window.anvilSessionToken;if($.post(o.data.appOrigin+"/_/log?_anvil_session="+s,{eventType:"skulptLazyImportError",event:{path:e,retries:n,error:null!==(a=null==r?void 0:r.toString())&&void 0!==a?a:""}}),n<3)return n++,(0,i.wait)(300*n).then((()=>l(e,t,n)));throw r}},s=function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function l(e){a(o,r,i,l,s,"next",e)}function s(e){a(o,r,i,l,s,"throw",e)}l(void 0)}))},s.apply(this,arguments)}},function(e,t,n){"use strict";n(3),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,o=n(4),a=n(6),l=n(397),s={__name__:new o.pyStr("anvil.history"),__all__:(0,o.toPy)(["Location","history","hash_history"]),Location:l.Location};(0,o.pyCall)(a.anvilServerMod.portable_class,[l.Location]),(0,o.setUpModuleMethods)("anvil.history",s,{__getattr__:{$meth(e){var t,n,a=e.toString();if("history"===a)return null!==(t=r)&&void 0!==t?t:r=(0,l.makeHistory)();if("hash_history"===a)return null!==(n=i)&&void 0!==n?n:i=(0,l.makeHashHistory)();throw new o.pyAttributeError(e)},$flags:{OneArg:!0}}});var c=s;t.default=c},function(e,t,n){"use strict";n(13),n(0),n(17),n(54),n(3),n(241),n(245),n(33),n(2),n(102),Object.defineProperty(t,"__esModule",{value:!0}),t.parseRelativeURL=g,t.makeHashHistory=t.makeHistory=t.History=t.Location=void 0;var r,i,o=n(4),a=n(6);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p,u,d="popstate",f=null!==(r=null===(i=document.querySelector("base"))||void 0===i?void 0:i.getAttribute("href"))&&void 0!==r?r:"";function v(e,t){var n=(0,o.toJs)(e);return{usr:n.state,key:n.key,idx:t}}function m(e){return e.startsWith("/")||e.startsWith(".")}f&&"/"!==(p=new URL(f).pathname)&&p.endsWith("/")&&(p=p.slice(0,-1)),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(u||(u={}));var h=new o.pyStr("search"),_=(0,o.buildNativeClass)("anvil.history.Location",{base:o.pyDict,constructor:function(e,t,n,r,i){var a;null!==(a=i)&&void 0!==a||(i=(Math.random()+1).toString(36).substring(7)),({path:e,search:t,hash:n}=function(e){var{path:t,search:n,hash:r}=e;return m(t)||(t="/"+t),null==n?n="":n&&!n.startsWith("?")&&(n="?"+n),null==r?r="":r&&!r.startsWith("#")&&(r="#"+r),{path:t,search:n,hash:r}}({path:e,search:t,hash:n})),o.pyDict.call(this,["path",e,"search",t,"hash",n,"state",r,"key",i].map(o.toPy)),this.$d=this},slots:{$r(){return new o.pyStr("<Location:".concat(o.pyDict.prototype.$r.call(this),">"))},tp$str(){var e,t,n,r=null!==(e=this.$get("path"))&&void 0!==e?e:"",i=null!==(t=this.$get("search"))&&void 0!==t?t:"",a=null!==(n=this.$get("hash"))&&void 0!==n?n:"";return new o.pyStr("".concat(r).concat(i).concat(a))},tp$new(e,t){(0,o.checkNoArgs)("Location",e);var n=(0,o.copyKeywordsToNamedArgs)("Location",["path","search","hash","state","key"],e,t,[o.pyStr.$empty,o.pyStr.$empty,o.pyStr.$empty,o.pyNone,o.pyNone]).map(o.toJs);return new _(n[0],n[1],n[2],n[3],n[4])},tp$init(){}},methods:{get_url:{$meth(e){return new o.pyStr(this.$getUrl((0,o.isTrue)(e)))},$flags:{NamedArgs:["full"],Defaults:[o.pyFalse]}},__serialize__:{$meth(){return(0,o.pyCall)(o.pyDict,[this])},$flags:{FastCall:!0}}},proto:{$get(e){return(0,o.toJs)(this.tp$getattr(new o.pyStr(e)))},$getUrl(e){var t=this.toString();if(!(0,o.isTrue)(e))return t;var n=t.startsWith(".")?window.location.href:f;return t.startsWith(".")||(t="."+t),t=new URL(t,n).href}},getsets:{search_params:{$get(){var e,t=null!==(e=(0,o.toJs)(this.tp$getattr(h)))&&void 0!==e?e:"",n=Object.fromEntries(new URLSearchParams(t).entries());return(0,o.toPy)(n)}},__dict__:Sk.generic.getSetDict},classmethods:{from_url:{$meth(e,t){(0,o.checkArgsLen)("Location.from_url",e,0,1);var n,r,i,[a,l,s]=(0,o.copyKeywordsToNamedArgs)("Location.from_url",["url","state","key"],e,t,[o.pyNone,o.pyNone]),c=(0,o.toJs)(a);if("string"!=typeof c)throw new o.pyTypeError("Location.from_url() expects a string URL");try{({pathname:n,search:r,hash:i}=new URL(c,f))}catch(e){var u;throw new o.pyValueError("Invalid URL: ".concat(c," ").concat(null!==(u=null==e?void 0:e.message)&&void 0!==u?u:""))}return p&&n.startsWith(p)&&((n=n.slice(p.length))||(n="/")),new _(n,r,i,l,s)},$flags:{FastCall:!0}}},flags:{sk$unacceptableBase:!0}});function g(e){var t={path:"/",search:"",hash:""};if(!e)return t;var n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));var r=e.indexOf("?");return r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),m(e)||(e="/"+e),e&&(t.path=e),t}t.Location=_;var y=(0,o.buildNativeClass)("anvil.history.History",{constructor:function(e,t,n,r){this.$globalHistory=window.history,this.$name=e,this.$getLocation=t,this.$createHref=n,this.$validateLocation=r,this.$action=u.Pop,this.$listeners=new Set,this.$handler=()=>this.$handlePop(),this.$index=this.$getIndex(),null==this.$index&&(this.$index=0,this.$globalHistory.replaceState(s(s({},this.$globalHistory.state),{},{idx:this.$index}),""))},slots:{$r(){return new o.pyStr("<".concat(this.$name,"History>"))},tp$new(e,t){throw new o.pyTypeError("Cannot create anvil.history.History instances directly")}},methods:{listen:{$meth(e){0===this.$listeners.size&&window.addEventListener(d,this.$handler);var t=t=>(0,o.suspensionToPromise)((()=>(0,o.pyCallOrSuspend)(e,[],(0,a.jsObjToKws)(t))));return this.$listeners.add(t),new o.pyFunc((()=>(this.$listeners.delete(t),0===this.$listeners.size&&window.removeEventListener(d,this.$handler),o.pyNone)))},$flags:{OneArg:!0}},create_href:{$meth(e){return new o.pyStr(this.$createHref(e))},$flags:{OneArg:!0}},push:{$meth(e){return this.$push(e),o.pyNone},$flags:{OneArg:!0}},replace:{$meth(e){return this.$replace(e),o.pyNone},$flags:{OneArg:!0}},reload:{$meth:()=>(window.location.reload(),o.pyNone),$flags:{NoArgs:!0}},go:{$meth(e){var t,n=null!==(t=(0,o.toJs)(e))&&void 0!==t?t:0;return this.$globalHistory.go(n),o.pyNone},$flags:{MinArgs:0,MaxArgs:1}}},getsets:{location:{$get(){return this.$getLocation(this.$globalHistory)}},action:{$get(){return(0,o.toPy)(this.$action)}}},proto:{$getIndex(){return(this.$globalHistory.state||{idx:null}).idx},$handlePop(){var e=this.$action,t=this.$getIndex(),n=this.$index,r=null==t||null==n?null:t-n;this.$index=t,this.$listeners.forEach((t=>t({action:e,location:this.$location,delta:r})))},$push(e){var t,n=this.$action;null===(t=this.$validateLocation)||void 0===t||t.call(this,e);var r=this.$index;this.$index=null==r?null:r+1;var i=v(e,this.$index),o=this.$createHref(e);try{this.$globalHistory.pushState(i,"",o)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;window.location.assign(o)}this.$listeners.forEach((e=>e({action:n,location:this.$location,delta:1})))},$replace(e){var t,n=this.$action;null===(t=this.$validateLocation)||void 0===t||t.call(this,e),this.$index=this.$getIndex();var r=v(e,this.$index),i=this.$createHref(e);this.$globalHistory.replaceState(r,"",i);var o=this.$getLocation(this.$globalHistory);this.$listeners.forEach((e=>e({action:n,location:o,delta:0})))}}});function b(e){var t,n,r,i,{pathname:o,search:a,hash:l}=window.location;return p&&o.startsWith(p)&&((o=o.slice(p.length))||(o="/")),new _(o,a,l,null!==(t=null===(n=e.state)||void 0===n?void 0:n.usr)&&void 0!==t?t:null,null!==(r=null===(i=e.state)||void 0===i?void 0:i.key)&&void 0!==r?r:"default")}function k(e){return e.$getUrl(!0)}function S(e){var t,n,r,i,{path:o,search:a,hash:l}=g(window.location.hash.substring(1));return new _(o,a,l,null!==(t=null===(n=e.state)||void 0===n?void 0:n.usr)&&void 0!==t?t:null,null!==(r=null===(i=e.state)||void 0===i?void 0:i.key)&&void 0!==r?r:"default")}function w(e){var t="";if(f){var n=window.location.href,r=n.indexOf("#");t=-1===r?n:n.slice(0,r)}return t+"#"+e.toString()}function C(e){!function(e,t){if(!e){Sk.builtin.print([t]);try{throw new Error(t)}catch(e){}}}("/"===e.toString().charAt(0),"relative pathnames are not supported in hash history.push(".concat((0,o.objectRepr)(e),")"))}t.History=y;t.makeHistory=()=>new y("",b,k,null);t.makeHashHistory=()=>new y("Hash",S,w,C)}]);
//# sourceMappingURL=runner2.bundle.js.map